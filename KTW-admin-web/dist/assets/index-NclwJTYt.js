(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))i(n);new MutationObserver(n=>{for(const r of n)if(r.type==="childList")for(const o of r.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&i(o)}).observe(document,{childList:!0,subtree:!0});function t(n){const r={};return n.integrity&&(r.integrity=n.integrity),n.referrerPolicy&&(r.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?r.credentials="include":n.crossOrigin==="anonymous"?r.credentials="omit":r.credentials="same-origin",r}function i(n){if(n.ep)return;n.ep=!0;const r=t(n);fetch(n.href,r)}})();/**
* @vue/shared v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function gi(s){const e=Object.create(null);for(const t of s.split(","))e[t]=1;return t=>t in e}const ee={},Dt=[],Ge=()=>{},pn=()=>!1,Ds=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&(s.charCodeAt(2)>122||s.charCodeAt(2)<97),pi=s=>s.startsWith("onUpdate:"),ye=Object.assign,mi=(s,e)=>{const t=s.indexOf(e);t>-1&&s.splice(t,1)},xr=Object.prototype.hasOwnProperty,Y=(s,e)=>xr.call(s,e),W=Array.isArray,At=s=>ts(s)==="[object Map]",As=s=>ts(s)==="[object Set]",zi=s=>ts(s)==="[object Date]",G=s=>typeof s=="function",le=s=>typeof s=="string",Ve=s=>typeof s=="symbol",se=s=>s!==null&&typeof s=="object",mn=s=>(se(s)||G(s))&&G(s.then)&&G(s.catch),_n=Object.prototype.toString,ts=s=>_n.call(s),Er=s=>ts(s).slice(8,-1),yn=s=>ts(s)==="[object Object]",_i=s=>le(s)&&s!=="NaN"&&s[0]!=="-"&&""+parseInt(s,10)===s,Ft=gi(",key,ref,ref_for,ref_key,onVnodeBeforeMount,onVnodeMounted,onVnodeBeforeUpdate,onVnodeUpdated,onVnodeBeforeUnmount,onVnodeUnmounted"),Ms=s=>{const e=Object.create(null);return t=>e[t]||(e[t]=s(t))},Cr=/-\w/g,gt=Ms(s=>s.replace(Cr,e=>e.slice(1).toUpperCase())),Rr=/\B([A-Z])/g,Et=Ms(s=>s.replace(Rr,"-$1").toLowerCase()),vn=Ms(s=>s.charAt(0).toUpperCase()+s.slice(1)),Us=Ms(s=>s?`on${vn(s)}`:""),ft=(s,e)=>!Object.is(s,e),us=(s,...e)=>{for(let t=0;t<s.length;t++)s[t](...e)},bn=(s,e,t,i=!1)=>{Object.defineProperty(s,e,{configurable:!0,enumerable:!1,writable:i,value:t})},Tr=s=>{const e=parseFloat(s);return isNaN(e)?s:e};let Li;const Ns=()=>Li||(Li=typeof globalThis<"u"?globalThis:typeof self<"u"?self:typeof window<"u"?window:typeof global<"u"?global:{});function Os(s){if(W(s)){const e={};for(let t=0;t<s.length;t++){const i=s[t],n=le(i)?Ar(i):Os(i);if(n)for(const r in n)e[r]=n[r]}return e}else if(le(s)||se(s))return s}const Sr=/;(?![^(]*\))/g,kr=/:([^]+)/,Dr=/\/\*[^]*?\*\//g;function Ar(s){const e={};return s.replace(Dr,"").split(Sr).forEach(t=>{if(t){const i=t.split(kr);i.length>1&&(e[i[0].trim()]=i[1].trim())}}),e}function de(s){let e="";if(le(s))e=s;else if(W(s))for(let t=0;t<s.length;t++){const i=de(s[t]);i&&(e+=i+" ")}else if(se(s))for(const t in s)s[t]&&(e+=t+" ");return e.trim()}const Mr="itemscope,allowfullscreen,formnovalidate,ismap,nomodule,novalidate,readonly",Nr=gi(Mr);function wn(s){return!!s||s===""}function Or(s,e){if(s.length!==e.length)return!1;let t=!0;for(let i=0;t&&i<s.length;i++)t=Hs(s[i],e[i]);return t}function Hs(s,e){if(s===e)return!0;let t=zi(s),i=zi(e);if(t||i)return t&&i?s.getTime()===e.getTime():!1;if(t=Ve(s),i=Ve(e),t||i)return s===e;if(t=W(s),i=W(e),t||i)return t&&i?Or(s,e):!1;if(t=se(s),i=se(e),t||i){if(!t||!i)return!1;const n=Object.keys(s).length,r=Object.keys(e).length;if(n!==r)return!1;for(const o in s){const l=s.hasOwnProperty(o),a=e.hasOwnProperty(o);if(l&&!a||!l&&a||!Hs(s[o],e[o]))return!1}}return String(s)===String(e)}function xn(s,e){return s.findIndex(t=>Hs(t,e))}const En=s=>!!(s&&s.__v_isRef===!0),B=s=>le(s)?s:s==null?"":W(s)||se(s)&&(s.toString===_n||!G(s.toString))?En(s)?B(s.value):JSON.stringify(s,Cn,2):String(s),Cn=(s,e)=>En(e)?Cn(s,e.value):At(e)?{[`Map(${e.size})`]:[...e.entries()].reduce((t,[i,n],r)=>(t[Gs(i,r)+" =>"]=n,t),{})}:As(e)?{[`Set(${e.size})`]:[...e.values()].map(t=>Gs(t))}:Ve(e)?Gs(e):se(e)&&!W(e)&&!yn(e)?String(e):e,Gs=(s,e="")=>{var t;return Ve(s)?`Symbol(${(t=s.description)!=null?t:e})`:s};/**
* @vue/reactivity v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let xe;class Hr{constructor(e=!1){this.detached=e,this._active=!0,this._on=0,this.effects=[],this.cleanups=[],this._isPaused=!1,this.parent=xe,!e&&xe&&(this.index=(xe.scopes||(xe.scopes=[])).push(this)-1)}get active(){return this._active}pause(){if(this._active){this._isPaused=!0;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].pause();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].pause()}}resume(){if(this._active&&this._isPaused){this._isPaused=!1;let e,t;if(this.scopes)for(e=0,t=this.scopes.length;e<t;e++)this.scopes[e].resume();for(e=0,t=this.effects.length;e<t;e++)this.effects[e].resume()}}run(e){if(this._active){const t=xe;try{return xe=this,e()}finally{xe=t}}}on(){++this._on===1&&(this.prevScope=xe,xe=this)}off(){this._on>0&&--this._on===0&&(xe=this.prevScope,this.prevScope=void 0)}stop(e){if(this._active){this._active=!1;let t,i;for(t=0,i=this.effects.length;t<i;t++)this.effects[t].stop();for(this.effects.length=0,t=0,i=this.cleanups.length;t<i;t++)this.cleanups[t]();if(this.cleanups.length=0,this.scopes){for(t=0,i=this.scopes.length;t<i;t++)this.scopes[t].stop(!0);this.scopes.length=0}if(!this.detached&&this.parent&&!e){const n=this.parent.scopes.pop();n&&n!==this&&(this.parent.scopes[this.index]=n,n.index=this.index)}this.parent=void 0}}}function Pr(){return xe}let te;const js=new WeakSet;class Rn{constructor(e){this.fn=e,this.deps=void 0,this.depsTail=void 0,this.flags=5,this.next=void 0,this.cleanup=void 0,this.scheduler=void 0,xe&&xe.active&&xe.effects.push(this)}pause(){this.flags|=64}resume(){this.flags&64&&(this.flags&=-65,js.has(this)&&(js.delete(this),this.trigger()))}notify(){this.flags&2&&!(this.flags&32)||this.flags&8||Sn(this)}run(){if(!(this.flags&1))return this.fn();this.flags|=2,Ii(this),kn(this);const e=te,t=ze;te=this,ze=!0;try{return this.fn()}finally{Dn(this),te=e,ze=t,this.flags&=-3}}stop(){if(this.flags&1){for(let e=this.deps;e;e=e.nextDep)bi(e);this.deps=this.depsTail=void 0,Ii(this),this.onStop&&this.onStop(),this.flags&=-2}}trigger(){this.flags&64?js.add(this):this.scheduler?this.scheduler():this.runIfDirty()}runIfDirty(){ti(this)&&this.run()}get dirty(){return ti(this)}}let Tn=0,Wt,Ut;function Sn(s,e=!1){if(s.flags|=8,e){s.next=Ut,Ut=s;return}s.next=Wt,Wt=s}function yi(){Tn++}function vi(){if(--Tn>0)return;if(Ut){let e=Ut;for(Ut=void 0;e;){const t=e.next;e.next=void 0,e.flags&=-9,e=t}}let s;for(;Wt;){let e=Wt;for(Wt=void 0;e;){const t=e.next;if(e.next=void 0,e.flags&=-9,e.flags&1)try{e.trigger()}catch(i){s||(s=i)}e=t}}if(s)throw s}function kn(s){for(let e=s.deps;e;e=e.nextDep)e.version=-1,e.prevActiveLink=e.dep.activeLink,e.dep.activeLink=e}function Dn(s){let e,t=s.depsTail,i=t;for(;i;){const n=i.prevDep;i.version===-1?(i===t&&(t=n),bi(i),zr(i)):e=i,i.dep.activeLink=i.prevActiveLink,i.prevActiveLink=void 0,i=n}s.deps=e,s.depsTail=t}function ti(s){for(let e=s.deps;e;e=e.nextDep)if(e.dep.version!==e.version||e.dep.computed&&(An(e.dep.computed)||e.dep.version!==e.version))return!0;return!!s._dirty}function An(s){if(s.flags&4&&!(s.flags&16)||(s.flags&=-17,s.globalVersion===qt)||(s.globalVersion=qt,!s.isSSR&&s.flags&128&&(!s.deps&&!s._dirty||!ti(s))))return;s.flags|=2;const e=s.dep,t=te,i=ze;te=s,ze=!0;try{kn(s);const n=s.fn(s._value);(e.version===0||ft(n,s._value))&&(s.flags|=128,s._value=n,e.version++)}catch(n){throw e.version++,n}finally{te=t,ze=i,Dn(s),s.flags&=-3}}function bi(s,e=!1){const{dep:t,prevSub:i,nextSub:n}=s;if(i&&(i.nextSub=n,s.prevSub=void 0),n&&(n.prevSub=i,s.nextSub=void 0),t.subs===s&&(t.subs=i,!i&&t.computed)){t.computed.flags&=-5;for(let r=t.computed.deps;r;r=r.nextDep)bi(r,!0)}!e&&!--t.sc&&t.map&&t.map.delete(t.key)}function zr(s){const{prevDep:e,nextDep:t}=s;e&&(e.nextDep=t,s.prevDep=void 0),t&&(t.prevDep=e,s.nextDep=void 0)}let ze=!0;const Mn=[];function it(){Mn.push(ze),ze=!1}function nt(){const s=Mn.pop();ze=s===void 0?!0:s}function Ii(s){const{cleanup:e}=s;if(s.cleanup=void 0,e){const t=te;te=void 0;try{e()}finally{te=t}}}let qt=0;class Lr{constructor(e,t){this.sub=e,this.dep=t,this.version=t.version,this.nextDep=this.prevDep=this.nextSub=this.prevSub=this.prevActiveLink=void 0}}class wi{constructor(e){this.computed=e,this.version=0,this.activeLink=void 0,this.subs=void 0,this.map=void 0,this.key=void 0,this.sc=0,this.__v_skip=!0}track(e){if(!te||!ze||te===this.computed)return;let t=this.activeLink;if(t===void 0||t.sub!==te)t=this.activeLink=new Lr(te,this),te.deps?(t.prevDep=te.depsTail,te.depsTail.nextDep=t,te.depsTail=t):te.deps=te.depsTail=t,Nn(t);else if(t.version===-1&&(t.version=this.version,t.nextDep)){const i=t.nextDep;i.prevDep=t.prevDep,t.prevDep&&(t.prevDep.nextDep=i),t.prevDep=te.depsTail,t.nextDep=void 0,te.depsTail.nextDep=t,te.depsTail=t,te.deps===t&&(te.deps=i)}return t}trigger(e){this.version++,qt++,this.notify(e)}notify(e){yi();try{for(let t=this.subs;t;t=t.prevSub)t.sub.notify()&&t.sub.dep.notify()}finally{vi()}}}function Nn(s){if(s.dep.sc++,s.sub.flags&4){const e=s.dep.computed;if(e&&!s.dep.subs){e.flags|=20;for(let i=e.deps;i;i=i.nextDep)Nn(i)}const t=s.dep.subs;t!==s&&(s.prevSub=t,t&&(t.nextSub=s)),s.dep.subs=s}}const si=new WeakMap,wt=Symbol(""),ii=Symbol(""),Yt=Symbol("");function he(s,e,t){if(ze&&te){let i=si.get(s);i||si.set(s,i=new Map);let n=i.get(t);n||(i.set(t,n=new wi),n.map=i,n.key=t),n.track()}}function et(s,e,t,i,n,r){const o=si.get(s);if(!o){qt++;return}const l=a=>{a&&a.trigger()};if(yi(),e==="clear")o.forEach(l);else{const a=W(s),u=a&&_i(t);if(a&&t==="length"){const c=Number(i);o.forEach((h,m)=>{(m==="length"||m===Yt||!Ve(m)&&m>=c)&&l(h)})}else switch((t!==void 0||o.has(void 0))&&l(o.get(t)),u&&l(o.get(Yt)),e){case"add":a?u&&l(o.get("length")):(l(o.get(wt)),At(s)&&l(o.get(ii)));break;case"delete":a||(l(o.get(wt)),At(s)&&l(o.get(ii)));break;case"set":At(s)&&l(o.get(wt));break}}vi()}function Tt(s){const e=q(s);return e===s?e:(he(e,"iterate",Yt),Oe(s)?e:e.map(Le))}function Ps(s){return he(s=q(s),"iterate",Yt),s}function ut(s,e){return rt(s)?xt(s)?Ot(Le(e)):Ot(e):Le(e)}const Ir={__proto__:null,[Symbol.iterator](){return Vs(this,Symbol.iterator,s=>ut(this,s))},concat(...s){return Tt(this).concat(...s.map(e=>W(e)?Tt(e):e))},entries(){return Vs(this,"entries",s=>(s[1]=ut(this,s[1]),s))},every(s,e){return Xe(this,"every",s,e,void 0,arguments)},filter(s,e){return Xe(this,"filter",s,e,t=>t.map(i=>ut(this,i)),arguments)},find(s,e){return Xe(this,"find",s,e,t=>ut(this,t),arguments)},findIndex(s,e){return Xe(this,"findIndex",s,e,void 0,arguments)},findLast(s,e){return Xe(this,"findLast",s,e,t=>ut(this,t),arguments)},findLastIndex(s,e){return Xe(this,"findLastIndex",s,e,void 0,arguments)},forEach(s,e){return Xe(this,"forEach",s,e,void 0,arguments)},includes(...s){return Ks(this,"includes",s)},indexOf(...s){return Ks(this,"indexOf",s)},join(s){return Tt(this).join(s)},lastIndexOf(...s){return Ks(this,"lastIndexOf",s)},map(s,e){return Xe(this,"map",s,e,void 0,arguments)},pop(){return Lt(this,"pop")},push(...s){return Lt(this,"push",s)},reduce(s,...e){return $i(this,"reduce",s,e)},reduceRight(s,...e){return $i(this,"reduceRight",s,e)},shift(){return Lt(this,"shift")},some(s,e){return Xe(this,"some",s,e,void 0,arguments)},splice(...s){return Lt(this,"splice",s)},toReversed(){return Tt(this).toReversed()},toSorted(s){return Tt(this).toSorted(s)},toSpliced(...s){return Tt(this).toSpliced(...s)},unshift(...s){return Lt(this,"unshift",s)},values(){return Vs(this,"values",s=>ut(this,s))}};function Vs(s,e,t){const i=Ps(s),n=i[e]();return i!==s&&!Oe(s)&&(n._next=n.next,n.next=()=>{const r=n._next();return r.done||(r.value=t(r.value)),r}),n}const $r=Array.prototype;function Xe(s,e,t,i,n,r){const o=Ps(s),l=o!==s&&!Oe(s),a=o[e];if(a!==$r[e]){const h=a.apply(s,r);return l?Le(h):h}let u=t;o!==s&&(l?u=function(h,m){return t.call(this,ut(s,h),m,s)}:t.length>2&&(u=function(h,m){return t.call(this,h,m,s)}));const c=a.call(o,u,i);return l&&n?n(c):c}function $i(s,e,t,i){const n=Ps(s);let r=t;return n!==s&&(Oe(s)?t.length>3&&(r=function(o,l,a){return t.call(this,o,l,a,s)}):r=function(o,l,a){return t.call(this,o,ut(s,l),a,s)}),n[e](r,...i)}function Ks(s,e,t){const i=q(s);he(i,"iterate",Yt);const n=i[e](...t);return(n===-1||n===!1)&&Ri(t[0])?(t[0]=q(t[0]),i[e](...t)):n}function Lt(s,e,t=[]){it(),yi();const i=q(s)[e].apply(s,t);return vi(),nt(),i}const Br=gi("__proto__,__v_isRef,__isVue"),On=new Set(Object.getOwnPropertyNames(Symbol).filter(s=>s!=="arguments"&&s!=="caller").map(s=>Symbol[s]).filter(Ve));function Fr(s){Ve(s)||(s=String(s));const e=q(this);return he(e,"has",s),e.hasOwnProperty(s)}class Hn{constructor(e=!1,t=!1){this._isReadonly=e,this._isShallow=t}get(e,t,i){if(t==="__v_skip")return e.__v_skip;const n=this._isReadonly,r=this._isShallow;if(t==="__v_isReactive")return!n;if(t==="__v_isReadonly")return n;if(t==="__v_isShallow")return r;if(t==="__v_raw")return i===(n?r?Jr:In:r?Ln:zn).get(e)||Object.getPrototypeOf(e)===Object.getPrototypeOf(i)?e:void 0;const o=W(e);if(!n){let a;if(o&&(a=Ir[t]))return a;if(t==="hasOwnProperty")return Fr}const l=Reflect.get(e,t,fe(e)?e:i);if((Ve(t)?On.has(t):Br(t))||(n||he(e,"get",t),r))return l;if(fe(l)){const a=o&&_i(t)?l:l.value;return n&&se(a)?ri(a):a}return se(l)?n?ri(l):Ei(l):l}}class Pn extends Hn{constructor(e=!1){super(!1,e)}set(e,t,i,n){let r=e[t];const o=W(e)&&_i(t);if(!this._isShallow){const u=rt(r);if(!Oe(i)&&!rt(i)&&(r=q(r),i=q(i)),!o&&fe(r)&&!fe(i))return u||(r.value=i),!0}const l=o?Number(t)<e.length:Y(e,t),a=Reflect.set(e,t,i,fe(e)?e:n);return e===q(n)&&(l?ft(i,r)&&et(e,"set",t,i):et(e,"add",t,i)),a}deleteProperty(e,t){const i=Y(e,t);e[t];const n=Reflect.deleteProperty(e,t);return n&&i&&et(e,"delete",t,void 0),n}has(e,t){const i=Reflect.has(e,t);return(!Ve(t)||!On.has(t))&&he(e,"has",t),i}ownKeys(e){return he(e,"iterate",W(e)?"length":wt),Reflect.ownKeys(e)}}class Wr extends Hn{constructor(e=!1){super(!0,e)}set(e,t){return!0}deleteProperty(e,t){return!0}}const Ur=new Pn,Gr=new Wr,jr=new Pn(!0);const ni=s=>s,ls=s=>Reflect.getPrototypeOf(s);function Vr(s,e,t){return function(...i){const n=this.__v_raw,r=q(n),o=At(r),l=s==="entries"||s===Symbol.iterator&&o,a=s==="keys"&&o,u=n[s](...i),c=t?ni:e?Ot:Le;return!e&&he(r,"iterate",a?ii:wt),{next(){const{value:h,done:m}=u.next();return m?{value:h,done:m}:{value:l?[c(h[0]),c(h[1])]:c(h),done:m}},[Symbol.iterator](){return this}}}}function as(s){return function(...e){return s==="delete"?!1:s==="clear"?void 0:this}}function Kr(s,e){const t={get(n){const r=this.__v_raw,o=q(r),l=q(n);s||(ft(n,l)&&he(o,"get",n),he(o,"get",l));const{has:a}=ls(o),u=e?ni:s?Ot:Le;if(a.call(o,n))return u(r.get(n));if(a.call(o,l))return u(r.get(l));r!==o&&r.get(n)},get size(){const n=this.__v_raw;return!s&&he(q(n),"iterate",wt),n.size},has(n){const r=this.__v_raw,o=q(r),l=q(n);return s||(ft(n,l)&&he(o,"has",n),he(o,"has",l)),n===l?r.has(n):r.has(n)||r.has(l)},forEach(n,r){const o=this,l=o.__v_raw,a=q(l),u=e?ni:s?Ot:Le;return!s&&he(a,"iterate",wt),l.forEach((c,h)=>n.call(r,u(c),u(h),o))}};return ye(t,s?{add:as("add"),set:as("set"),delete:as("delete"),clear:as("clear")}:{add(n){!e&&!Oe(n)&&!rt(n)&&(n=q(n));const r=q(this);return ls(r).has.call(r,n)||(r.add(n),et(r,"add",n,n)),this},set(n,r){!e&&!Oe(r)&&!rt(r)&&(r=q(r));const o=q(this),{has:l,get:a}=ls(o);let u=l.call(o,n);u||(n=q(n),u=l.call(o,n));const c=a.call(o,n);return o.set(n,r),u?ft(r,c)&&et(o,"set",n,r):et(o,"add",n,r),this},delete(n){const r=q(this),{has:o,get:l}=ls(r);let a=o.call(r,n);a||(n=q(n),a=o.call(r,n)),l&&l.call(r,n);const u=r.delete(n);return a&&et(r,"delete",n,void 0),u},clear(){const n=q(this),r=n.size!==0,o=n.clear();return r&&et(n,"clear",void 0,void 0),o}}),["keys","values","entries",Symbol.iterator].forEach(n=>{t[n]=Vr(n,s,e)}),t}function xi(s,e){const t=Kr(s,e);return(i,n,r)=>n==="__v_isReactive"?!s:n==="__v_isReadonly"?s:n==="__v_raw"?i:Reflect.get(Y(t,n)&&n in i?t:i,n,r)}const qr={get:xi(!1,!1)},Yr={get:xi(!1,!0)},Xr={get:xi(!0,!1)};const zn=new WeakMap,Ln=new WeakMap,In=new WeakMap,Jr=new WeakMap;function Zr(s){switch(s){case"Object":case"Array":return 1;case"Map":case"Set":case"WeakMap":case"WeakSet":return 2;default:return 0}}function Qr(s){return s.__v_skip||!Object.isExtensible(s)?0:Zr(Er(s))}function Ei(s){return rt(s)?s:Ci(s,!1,Ur,qr,zn)}function eo(s){return Ci(s,!1,jr,Yr,Ln)}function ri(s){return Ci(s,!0,Gr,Xr,In)}function Ci(s,e,t,i,n){if(!se(s)||s.__v_raw&&!(e&&s.__v_isReactive))return s;const r=Qr(s);if(r===0)return s;const o=n.get(s);if(o)return o;const l=new Proxy(s,r===2?i:t);return n.set(s,l),l}function xt(s){return rt(s)?xt(s.__v_raw):!!(s&&s.__v_isReactive)}function rt(s){return!!(s&&s.__v_isReadonly)}function Oe(s){return!!(s&&s.__v_isShallow)}function Ri(s){return s?!!s.__v_raw:!1}function q(s){const e=s&&s.__v_raw;return e?q(e):s}function to(s){return!Y(s,"__v_skip")&&Object.isExtensible(s)&&bn(s,"__v_skip",!0),s}const Le=s=>se(s)?Ei(s):s,Ot=s=>se(s)?ri(s):s;function fe(s){return s?s.__v_isRef===!0:!1}function ne(s){return so(s,!1)}function so(s,e){return fe(s)?s:new io(s,e)}class io{constructor(e,t){this.dep=new wi,this.__v_isRef=!0,this.__v_isShallow=!1,this._rawValue=t?e:q(e),this._value=t?e:Le(e),this.__v_isShallow=t}get value(){return this.dep.track(),this._value}set value(e){const t=this._rawValue,i=this.__v_isShallow||Oe(e)||rt(e);e=i?e:q(e),ft(e,t)&&(this._rawValue=e,this._value=i?e:Le(e),this.dep.trigger())}}function no(s){return fe(s)?s.value:s}const ro={get:(s,e,t)=>e==="__v_raw"?s:no(Reflect.get(s,e,t)),set:(s,e,t,i)=>{const n=s[e];return fe(n)&&!fe(t)?(n.value=t,!0):Reflect.set(s,e,t,i)}};function $n(s){return xt(s)?s:new Proxy(s,ro)}class oo{constructor(e,t,i){this.fn=e,this.setter=t,this._value=void 0,this.dep=new wi(this),this.__v_isRef=!0,this.deps=void 0,this.depsTail=void 0,this.flags=16,this.globalVersion=qt-1,this.next=void 0,this.effect=this,this.__v_isReadonly=!t,this.isSSR=i}notify(){if(this.flags|=16,!(this.flags&8)&&te!==this)return Sn(this,!0),!0}get value(){const e=this.dep.track();return An(this),e&&(e.version=this.dep.version),this._value}set value(e){this.setter&&this.setter(e)}}function lo(s,e,t=!1){let i,n;return G(s)?i=s:(i=s.get,n=s.set),new oo(i,n,t)}const cs={},_s=new WeakMap;let bt;function ao(s,e=!1,t=bt){if(t){let i=_s.get(t);i||_s.set(t,i=[]),i.push(s)}}function co(s,e,t=ee){const{immediate:i,deep:n,once:r,scheduler:o,augmentJob:l,call:a}=t,u=$=>n?$:Oe($)||n===!1||n===0?tt($,1):tt($);let c,h,m,T,N=!1,H=!1;if(fe(s)?(h=()=>s.value,N=Oe(s)):xt(s)?(h=()=>u(s),N=!0):W(s)?(H=!0,N=s.some($=>xt($)||Oe($)),h=()=>s.map($=>{if(fe($))return $.value;if(xt($))return u($);if(G($))return a?a($,2):$()})):G(s)?e?h=a?()=>a(s,2):s:h=()=>{if(m){it();try{m()}finally{nt()}}const $=bt;bt=c;try{return a?a(s,3,[T]):s(T)}finally{bt=$}}:h=Ge,e&&n){const $=h,Q=n===!0?1/0:n;h=()=>tt($(),Q)}const X=Pr(),U=()=>{c.stop(),X&&X.active&&mi(X.effects,c)};if(r&&e){const $=e;e=(...Q)=>{$(...Q),U()}}let V=H?new Array(s.length).fill(cs):cs;const Z=$=>{if(!(!(c.flags&1)||!c.dirty&&!$))if(e){const Q=c.run();if(n||N||(H?Q.some((De,ve)=>ft(De,V[ve])):ft(Q,V))){m&&m();const De=bt;bt=c;try{const ve=[Q,V===cs?void 0:H&&V[0]===cs?[]:V,T];V=Q,a?a(e,3,ve):e(...ve)}finally{bt=De}}}else c.run()};return l&&l(Z),c=new Rn(h),c.scheduler=o?()=>o(Z,!1):Z,T=$=>ao($,!1,c),m=c.onStop=()=>{const $=_s.get(c);if($){if(a)a($,4);else for(const Q of $)Q();_s.delete(c)}},e?i?Z(!0):V=c.run():o?o(Z.bind(null,!0),!0):c.run(),U.pause=c.pause.bind(c),U.resume=c.resume.bind(c),U.stop=U,U}function tt(s,e=1/0,t){if(e<=0||!se(s)||s.__v_skip||(t=t||new Map,(t.get(s)||0)>=e))return s;if(t.set(s,e),e--,fe(s))tt(s.value,e,t);else if(W(s))for(let i=0;i<s.length;i++)tt(s[i],e,t);else if(As(s)||At(s))s.forEach(i=>{tt(i,e,t)});else if(yn(s)){for(const i in s)tt(s[i],e,t);for(const i of Object.getOwnPropertySymbols(s))Object.prototype.propertyIsEnumerable.call(s,i)&&tt(s[i],e,t)}return s}/**
* @vue/runtime-core v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/function ss(s,e,t,i){try{return i?s(...i):s()}catch(n){zs(n,e,t)}}function Ke(s,e,t,i){if(G(s)){const n=ss(s,e,t,i);return n&&mn(n)&&n.catch(r=>{zs(r,e,t)}),n}if(W(s)){const n=[];for(let r=0;r<s.length;r++)n.push(Ke(s[r],e,t,i));return n}}function zs(s,e,t,i=!0){const n=e?e.vnode:null,{errorHandler:r,throwUnhandledErrorInProduction:o}=e&&e.appContext.config||ee;if(e){let l=e.parent;const a=e.proxy,u=`https://vuejs.org/error-reference/#runtime-${t}`;for(;l;){const c=l.ec;if(c){for(let h=0;h<c.length;h++)if(c[h](s,a,u)===!1)return}l=l.parent}if(r){it(),ss(r,null,10,[s,a,u]),nt();return}}uo(s,t,n,i,o)}function uo(s,e,t,i=!0,n=!1){if(n)throw s;console.error(s)}const me=[];let Fe=-1;const Mt=[];let dt=null,kt=0;const Bn=Promise.resolve();let ys=null;function ds(s){const e=ys||Bn;return s?e.then(this?s.bind(this):s):e}function ho(s){let e=Fe+1,t=me.length;for(;e<t;){const i=e+t>>>1,n=me[i],r=Xt(n);r<s||r===s&&n.flags&2?e=i+1:t=i}return e}function Ti(s){if(!(s.flags&1)){const e=Xt(s),t=me[me.length-1];!t||!(s.flags&2)&&e>=Xt(t)?me.push(s):me.splice(ho(e),0,s),s.flags|=1,Fn()}}function Fn(){ys||(ys=Bn.then(Un))}function fo(s){W(s)?Mt.push(...s):dt&&s.id===-1?dt.splice(kt+1,0,s):s.flags&1||(Mt.push(s),s.flags|=1),Fn()}function Bi(s,e,t=Fe+1){for(;t<me.length;t++){const i=me[t];if(i&&i.flags&2){if(s&&i.id!==s.uid)continue;me.splice(t,1),t--,i.flags&4&&(i.flags&=-2),i(),i.flags&4||(i.flags&=-2)}}}function Wn(s){if(Mt.length){const e=[...new Set(Mt)].sort((t,i)=>Xt(t)-Xt(i));if(Mt.length=0,dt){dt.push(...e);return}for(dt=e,kt=0;kt<dt.length;kt++){const t=dt[kt];t.flags&4&&(t.flags&=-2),t.flags&8||t(),t.flags&=-2}dt=null,kt=0}}const Xt=s=>s.id==null?s.flags&2?-1:1/0:s.id;function Un(s){try{for(Fe=0;Fe<me.length;Fe++){const e=me[Fe];e&&!(e.flags&8)&&(e.flags&4&&(e.flags&=-2),ss(e,e.i,e.i?15:14),e.flags&4||(e.flags&=-2))}}finally{for(;Fe<me.length;Fe++){const e=me[Fe];e&&(e.flags&=-2)}Fe=-1,me.length=0,Wn(),ys=null,(me.length||Mt.length)&&Un()}}let Ne=null,Gn=null;function vs(s){const e=Ne;return Ne=s,Gn=s&&s.type.__scopeId||null,e}function go(s,e=Ne,t){if(!e||s._n)return s;const i=(...n)=>{i._d&&Xi(-1);const r=vs(e);let o;try{o=s(...n)}finally{vs(r),i._d&&Xi(1)}return o};return i._n=!0,i._c=!0,i._d=!0,i}function _t(s,e){if(Ne===null)return s;const t=Bs(Ne),i=s.dirs||(s.dirs=[]);for(let n=0;n<e.length;n++){let[r,o,l,a=ee]=e[n];r&&(G(r)&&(r={mounted:r,updated:r}),r.deep&&tt(o),i.push({dir:r,instance:t,value:o,oldValue:void 0,arg:l,modifiers:a}))}return s}function yt(s,e,t,i){const n=s.dirs,r=e&&e.dirs;for(let o=0;o<n.length;o++){const l=n[o];r&&(l.oldValue=r[o].value);let a=l.dir[i];a&&(it(),Ke(a,t,8,[s.el,l,s,e]),nt())}}const po=Symbol("_vte"),mo=s=>s.__isTeleport,_o=Symbol("_leaveCb");function Si(s,e){s.shapeFlag&6&&s.component?(s.transition=e,Si(s.component.subTree,e)):s.shapeFlag&128?(s.ssContent.transition=e.clone(s.ssContent),s.ssFallback.transition=e.clone(s.ssFallback)):s.transition=e}function jn(s){s.ids=[s.ids[0]+s.ids[2]+++"-",0,0]}const bs=new WeakMap;function Gt(s,e,t,i,n=!1){if(W(s)){s.forEach((N,H)=>Gt(N,e&&(W(e)?e[H]:e),t,i,n));return}if(jt(i)&&!n){i.shapeFlag&512&&i.type.__asyncResolved&&i.component.subTree.component&&Gt(s,e,t,i.component.subTree);return}const r=i.shapeFlag&4?Bs(i.component):i.el,o=n?null:r,{i:l,r:a}=s,u=e&&e.r,c=l.refs===ee?l.refs={}:l.refs,h=l.setupState,m=q(h),T=h===ee?pn:N=>Y(m,N);if(u!=null&&u!==a){if(Fi(e),le(u))c[u]=null,T(u)&&(h[u]=null);else if(fe(u)){u.value=null;const N=e;N.k&&(c[N.k]=null)}}if(G(a))ss(a,l,12,[o,c]);else{const N=le(a),H=fe(a);if(N||H){const X=()=>{if(s.f){const U=N?T(a)?h[a]:c[a]:a.value;if(n)W(U)&&mi(U,r);else if(W(U))U.includes(r)||U.push(r);else if(N)c[a]=[r],T(a)&&(h[a]=c[a]);else{const V=[r];a.value=V,s.k&&(c[s.k]=V)}}else N?(c[a]=o,T(a)&&(h[a]=o)):H&&(a.value=o,s.k&&(c[s.k]=o))};if(o){const U=()=>{X(),bs.delete(s)};U.id=-1,bs.set(s,U),Se(U,t)}else Fi(s),X()}}}function Fi(s){const e=bs.get(s);e&&(e.flags|=8,bs.delete(s))}Ns().requestIdleCallback;Ns().cancelIdleCallback;const jt=s=>!!s.type.__asyncLoader,Vn=s=>s.type.__isKeepAlive;function yo(s,e){Kn(s,"a",e)}function vo(s,e){Kn(s,"da",e)}function Kn(s,e,t=_e){const i=s.__wdc||(s.__wdc=()=>{let n=t;for(;n;){if(n.isDeactivated)return;n=n.parent}return s()});if(Ls(e,i,t),t){let n=t.parent;for(;n&&n.parent;)Vn(n.parent.vnode)&&bo(i,e,t,n),n=n.parent}}function bo(s,e,t,i){const n=Ls(e,s,i,!0);ki(()=>{mi(i[e],n)},t)}function Ls(s,e,t=_e,i=!1){if(t){const n=t[s]||(t[s]=[]),r=e.__weh||(e.__weh=(...o)=>{it();const l=is(t),a=Ke(e,t,s,o);return l(),nt(),a});return i?n.unshift(r):n.push(r),r}}const ot=s=>(e,t=_e)=>{(!Zt||s==="sp")&&Ls(s,(...i)=>e(...i),t)},wo=ot("bm"),qn=ot("m"),xo=ot("bu"),Eo=ot("u"),Co=ot("bum"),ki=ot("um"),Ro=ot("sp"),To=ot("rtg"),So=ot("rtc");function ko(s,e=_e){Ls("ec",s,e)}const Do=Symbol.for("v-ndc");function Je(s,e,t,i){let n;const r=t,o=W(s);if(o||le(s)){const l=o&&xt(s);let a=!1,u=!1;l&&(a=!Oe(s),u=rt(s),s=Ps(s)),n=new Array(s.length);for(let c=0,h=s.length;c<h;c++)n[c]=e(a?u?Ot(Le(s[c])):Le(s[c]):s[c],c,void 0,r)}else if(typeof s=="number"){n=new Array(s);for(let l=0;l<s;l++)n[l]=e(l+1,l,void 0,r)}else if(se(s))if(s[Symbol.iterator])n=Array.from(s,(l,a)=>e(l,a,void 0,r));else{const l=Object.keys(s);n=new Array(l.length);for(let a=0,u=l.length;a<u;a++){const c=l[a];n[a]=e(s[c],c,a,r)}}else n=[];return n}const oi=s=>s?pr(s)?Bs(s):oi(s.parent):null,Vt=ye(Object.create(null),{$:s=>s,$el:s=>s.vnode.el,$data:s=>s.data,$props:s=>s.props,$attrs:s=>s.attrs,$slots:s=>s.slots,$refs:s=>s.refs,$parent:s=>oi(s.parent),$root:s=>oi(s.root),$host:s=>s.ce,$emit:s=>s.emit,$options:s=>Xn(s),$forceUpdate:s=>s.f||(s.f=()=>{Ti(s.update)}),$nextTick:s=>s.n||(s.n=ds.bind(s.proxy)),$watch:s=>Fo.bind(s)}),qs=(s,e)=>s!==ee&&!s.__isScriptSetup&&Y(s,e),Ao={get({_:s},e){if(e==="__v_skip")return!0;const{ctx:t,setupState:i,data:n,props:r,accessCache:o,type:l,appContext:a}=s;if(e[0]!=="$"){const m=o[e];if(m!==void 0)switch(m){case 1:return i[e];case 2:return n[e];case 4:return t[e];case 3:return r[e]}else{if(qs(i,e))return o[e]=1,i[e];if(n!==ee&&Y(n,e))return o[e]=2,n[e];if(Y(r,e))return o[e]=3,r[e];if(t!==ee&&Y(t,e))return o[e]=4,t[e];li&&(o[e]=0)}}const u=Vt[e];let c,h;if(u)return e==="$attrs"&&he(s.attrs,"get",""),u(s);if((c=l.__cssModules)&&(c=c[e]))return c;if(t!==ee&&Y(t,e))return o[e]=4,t[e];if(h=a.config.globalProperties,Y(h,e))return h[e]},set({_:s},e,t){const{data:i,setupState:n,ctx:r}=s;return qs(n,e)?(n[e]=t,!0):i!==ee&&Y(i,e)?(i[e]=t,!0):Y(s.props,e)||e[0]==="$"&&e.slice(1)in s?!1:(r[e]=t,!0)},has({_:{data:s,setupState:e,accessCache:t,ctx:i,appContext:n,props:r,type:o}},l){let a;return!!(t[l]||s!==ee&&l[0]!=="$"&&Y(s,l)||qs(e,l)||Y(r,l)||Y(i,l)||Y(Vt,l)||Y(n.config.globalProperties,l)||(a=o.__cssModules)&&a[l])},defineProperty(s,e,t){return t.get!=null?s._.accessCache[e]=0:Y(t,"value")&&this.set(s,e,t.value,null),Reflect.defineProperty(s,e,t)}};function Wi(s){return W(s)?s.reduce((e,t)=>(e[t]=null,e),{}):s}let li=!0;function Mo(s){const e=Xn(s),t=s.proxy,i=s.ctx;li=!1,e.beforeCreate&&Ui(e.beforeCreate,s,"bc");const{data:n,computed:r,methods:o,watch:l,provide:a,inject:u,created:c,beforeMount:h,mounted:m,beforeUpdate:T,updated:N,activated:H,deactivated:X,beforeDestroy:U,beforeUnmount:V,destroyed:Z,unmounted:$,render:Q,renderTracked:De,renderTriggered:ve,errorCaptured:Ae,serverPrefetch:lt,expose:be,inheritAttrs:Me,components:mt,directives:at,filters:Ct}=e;if(u&&No(u,i,null),o)for(const ie in o){const J=o[ie];G(J)&&(i[ie]=J.bind(t))}if(n){const ie=n.call(t,t);se(ie)&&(s.data=Ei(ie))}if(li=!0,r)for(const ie in r){const J=r[ie],qe=G(J)?J.bind(t,t):G(J.get)?J.get.bind(t,t):Ge,Rt=!G(J)&&G(J.set)?J.set.bind(t):Ge,Ee=di({get:qe,set:Rt});Object.defineProperty(i,ie,{enumerable:!0,configurable:!0,get:()=>Ee.value,set:we=>Ee.value=we})}if(l)for(const ie in l)Yn(l[ie],i,t,ie);if(a){const ie=G(a)?a.call(t):a;Reflect.ownKeys(ie).forEach(J=>{Io(J,ie[J])})}c&&Ui(c,s,"c");function ue(ie,J){W(J)?J.forEach(qe=>ie(qe.bind(t))):J&&ie(J.bind(t))}if(ue(wo,h),ue(qn,m),ue(xo,T),ue(Eo,N),ue(yo,H),ue(vo,X),ue(ko,Ae),ue(So,De),ue(To,ve),ue(Co,V),ue(ki,$),ue(Ro,lt),W(be))if(be.length){const ie=s.exposed||(s.exposed={});be.forEach(J=>{Object.defineProperty(ie,J,{get:()=>t[J],set:qe=>t[J]=qe,enumerable:!0})})}else s.exposed||(s.exposed={});Q&&s.render===Ge&&(s.render=Q),Me!=null&&(s.inheritAttrs=Me),mt&&(s.components=mt),at&&(s.directives=at),lt&&jn(s)}function No(s,e,t=Ge){W(s)&&(s=ai(s));for(const i in s){const n=s[i];let r;se(n)?"default"in n?r=hs(n.from||i,n.default,!0):r=hs(n.from||i):r=hs(n),fe(r)?Object.defineProperty(e,i,{enumerable:!0,configurable:!0,get:()=>r.value,set:o=>r.value=o}):e[i]=r}}function Ui(s,e,t){Ke(W(s)?s.map(i=>i.bind(e.proxy)):s.bind(e.proxy),e,t)}function Yn(s,e,t,i){let n=i.includes(".")?Qn(t,i):()=>t[i];if(le(s)){const r=e[s];G(r)&&Ys(n,r)}else if(G(s))Ys(n,s.bind(t));else if(se(s))if(W(s))s.forEach(r=>Yn(r,e,t,i));else{const r=G(s.handler)?s.handler.bind(t):e[s.handler];G(r)&&Ys(n,r,s)}}function Xn(s){const e=s.type,{mixins:t,extends:i}=e,{mixins:n,optionsCache:r,config:{optionMergeStrategies:o}}=s.appContext,l=r.get(e);let a;return l?a=l:!n.length&&!t&&!i?a=e:(a={},n.length&&n.forEach(u=>ws(a,u,o,!0)),ws(a,e,o)),se(e)&&r.set(e,a),a}function ws(s,e,t,i=!1){const{mixins:n,extends:r}=e;r&&ws(s,r,t,!0),n&&n.forEach(o=>ws(s,o,t,!0));for(const o in e)if(!(i&&o==="expose")){const l=Oo[o]||t&&t[o];s[o]=l?l(s[o],e[o]):e[o]}return s}const Oo={data:Gi,props:ji,emits:ji,methods:Bt,computed:Bt,beforeCreate:pe,created:pe,beforeMount:pe,mounted:pe,beforeUpdate:pe,updated:pe,beforeDestroy:pe,beforeUnmount:pe,destroyed:pe,unmounted:pe,activated:pe,deactivated:pe,errorCaptured:pe,serverPrefetch:pe,components:Bt,directives:Bt,watch:Po,provide:Gi,inject:Ho};function Gi(s,e){return e?s?function(){return ye(G(s)?s.call(this,this):s,G(e)?e.call(this,this):e)}:e:s}function Ho(s,e){return Bt(ai(s),ai(e))}function ai(s){if(W(s)){const e={};for(let t=0;t<s.length;t++)e[s[t]]=s[t];return e}return s}function pe(s,e){return s?[...new Set([].concat(s,e))]:e}function Bt(s,e){return s?ye(Object.create(null),s,e):e}function ji(s,e){return s?W(s)&&W(e)?[...new Set([...s,...e])]:ye(Object.create(null),Wi(s),Wi(e??{})):e}function Po(s,e){if(!s)return e;if(!e)return s;const t=ye(Object.create(null),s);for(const i in e)t[i]=pe(s[i],e[i]);return t}function Jn(){return{app:null,config:{isNativeTag:pn,performance:!1,globalProperties:{},optionMergeStrategies:{},errorHandler:void 0,warnHandler:void 0,compilerOptions:{}},mixins:[],components:{},directives:{},provides:Object.create(null),optionsCache:new WeakMap,propsCache:new WeakMap,emitsCache:new WeakMap}}let zo=0;function Lo(s,e){return function(i,n=null){G(i)||(i=ye({},i)),n!=null&&!se(n)&&(n=null);const r=Jn(),o=new WeakSet,l=[];let a=!1;const u=r.app={_uid:zo++,_component:i,_props:n,_container:null,_context:r,_instance:null,version:bl,get config(){return r.config},set config(c){},use(c,...h){return o.has(c)||(c&&G(c.install)?(o.add(c),c.install(u,...h)):G(c)&&(o.add(c),c(u,...h))),u},mixin(c){return r.mixins.includes(c)||r.mixins.push(c),u},component(c,h){return h?(r.components[c]=h,u):r.components[c]},directive(c,h){return h?(r.directives[c]=h,u):r.directives[c]},mount(c,h,m){if(!a){const T=u._ceVNode||je(i,n);return T.appContext=r,m===!0?m="svg":m===!1&&(m=void 0),s(T,c,m),a=!0,u._container=c,c.__vue_app__=u,Bs(T.component)}},onUnmount(c){l.push(c)},unmount(){a&&(Ke(l,u._instance,16),s(null,u._container),delete u._container.__vue_app__)},provide(c,h){return r.provides[c]=h,u},runWithContext(c){const h=Nt;Nt=u;try{return c()}finally{Nt=h}}};return u}}let Nt=null;function Io(s,e){if(_e){let t=_e.provides;const i=_e.parent&&_e.parent.provides;i===t&&(t=_e.provides=Object.create(i)),t[s]=e}}function hs(s,e,t=!1){const i=gl();if(i||Nt){let n=Nt?Nt._context.provides:i?i.parent==null||i.ce?i.vnode.appContext&&i.vnode.appContext.provides:i.parent.provides:void 0;if(n&&s in n)return n[s];if(arguments.length>1)return t&&G(e)?e.call(i&&i.proxy):e}}const $o=Symbol.for("v-scx"),Bo=()=>hs($o);function Ys(s,e,t){return Zn(s,e,t)}function Zn(s,e,t=ee){const{immediate:i,deep:n,flush:r,once:o}=t,l=ye({},t),a=e&&i||!e&&r!=="post";let u;if(Zt){if(r==="sync"){const T=Bo();u=T.__watcherHandles||(T.__watcherHandles=[])}else if(!a){const T=()=>{};return T.stop=Ge,T.resume=Ge,T.pause=Ge,T}}const c=_e;l.call=(T,N,H)=>Ke(T,c,N,H);let h=!1;r==="post"?l.scheduler=T=>{Se(T,c&&c.suspense)}:r!=="sync"&&(h=!0,l.scheduler=(T,N)=>{N?T():Ti(T)}),l.augmentJob=T=>{e&&(T.flags|=4),h&&(T.flags|=2,c&&(T.id=c.uid,T.i=c))};const m=co(s,e,l);return Zt&&(u?u.push(m):a&&m()),m}function Fo(s,e,t){const i=this.proxy,n=le(s)?s.includes(".")?Qn(i,s):()=>i[s]:s.bind(i,i);let r;G(e)?r=e:(r=e.handler,t=e);const o=is(this),l=Zn(n,r.bind(i),t);return o(),l}function Qn(s,e){const t=e.split(".");return()=>{let i=s;for(let n=0;n<t.length&&i;n++)i=i[t[n]];return i}}const Wo=(s,e)=>e==="modelValue"||e==="model-value"?s.modelModifiers:s[`${e}Modifiers`]||s[`${gt(e)}Modifiers`]||s[`${Et(e)}Modifiers`];function Uo(s,e,...t){if(s.isUnmounted)return;const i=s.vnode.props||ee;let n=t;const r=e.startsWith("update:"),o=r&&Wo(i,e.slice(7));o&&(o.trim&&(n=t.map(c=>le(c)?c.trim():c)),o.number&&(n=t.map(Tr)));let l,a=i[l=Us(e)]||i[l=Us(gt(e))];!a&&r&&(a=i[l=Us(Et(e))]),a&&Ke(a,s,6,n);const u=i[l+"Once"];if(u){if(!s.emitted)s.emitted={};else if(s.emitted[l])return;s.emitted[l]=!0,Ke(u,s,6,n)}}const Go=new WeakMap;function er(s,e,t=!1){const i=t?Go:e.emitsCache,n=i.get(s);if(n!==void 0)return n;const r=s.emits;let o={},l=!1;if(!G(s)){const a=u=>{const c=er(u,e,!0);c&&(l=!0,ye(o,c))};!t&&e.mixins.length&&e.mixins.forEach(a),s.extends&&a(s.extends),s.mixins&&s.mixins.forEach(a)}return!r&&!l?(se(s)&&i.set(s,null),null):(W(r)?r.forEach(a=>o[a]=null):ye(o,r),se(s)&&i.set(s,o),o)}function Is(s,e){return!s||!Ds(e)?!1:(e=e.slice(2).replace(/Once$/,""),Y(s,e[0].toLowerCase()+e.slice(1))||Y(s,Et(e))||Y(s,e))}function Vi(s){const{type:e,vnode:t,proxy:i,withProxy:n,propsOptions:[r],slots:o,attrs:l,emit:a,render:u,renderCache:c,props:h,data:m,setupState:T,ctx:N,inheritAttrs:H}=s,X=vs(s);let U,V;try{if(t.shapeFlag&4){const $=n||i,Q=$;U=We(u.call(Q,$,c,h,T,m,N)),V=l}else{const $=e;U=We($.length>1?$(h,{attrs:l,slots:o,emit:a}):$(h,null)),V=e.props?l:jo(l)}}catch($){Kt.length=0,zs($,s,1),U=je(pt)}let Z=U;if(V&&H!==!1){const $=Object.keys(V),{shapeFlag:Q}=Z;$.length&&Q&7&&(r&&$.some(pi)&&(V=Vo(V,r)),Z=Ht(Z,V,!1,!0))}return t.dirs&&(Z=Ht(Z,null,!1,!0),Z.dirs=Z.dirs?Z.dirs.concat(t.dirs):t.dirs),t.transition&&Si(Z,t.transition),U=Z,vs(X),U}const jo=s=>{let e;for(const t in s)(t==="class"||t==="style"||Ds(t))&&((e||(e={}))[t]=s[t]);return e},Vo=(s,e)=>{const t={};for(const i in s)(!pi(i)||!(i.slice(9)in e))&&(t[i]=s[i]);return t};function Ko(s,e,t){const{props:i,children:n,component:r}=s,{props:o,children:l,patchFlag:a}=e,u=r.emitsOptions;if(e.dirs||e.transition)return!0;if(t&&a>=0){if(a&1024)return!0;if(a&16)return i?Ki(i,o,u):!!o;if(a&8){const c=e.dynamicProps;for(let h=0;h<c.length;h++){const m=c[h];if(o[m]!==i[m]&&!Is(u,m))return!0}}}else return(n||l)&&(!l||!l.$stable)?!0:i===o?!1:i?o?Ki(i,o,u):!0:!!o;return!1}function Ki(s,e,t){const i=Object.keys(e);if(i.length!==Object.keys(s).length)return!0;for(let n=0;n<i.length;n++){const r=i[n];if(e[r]!==s[r]&&!Is(t,r))return!0}return!1}function qo({vnode:s,parent:e},t){for(;e;){const i=e.subTree;if(i.suspense&&i.suspense.activeBranch===s&&(i.el=s.el),i===s)(s=e.vnode).el=t,e=e.parent;else break}}const tr={},sr=()=>Object.create(tr),ir=s=>Object.getPrototypeOf(s)===tr;function Yo(s,e,t,i=!1){const n={},r=sr();s.propsDefaults=Object.create(null),nr(s,e,n,r);for(const o in s.propsOptions[0])o in n||(n[o]=void 0);t?s.props=i?n:eo(n):s.type.props?s.props=n:s.props=r,s.attrs=r}function Xo(s,e,t,i){const{props:n,attrs:r,vnode:{patchFlag:o}}=s,l=q(n),[a]=s.propsOptions;let u=!1;if((i||o>0)&&!(o&16)){if(o&8){const c=s.vnode.dynamicProps;for(let h=0;h<c.length;h++){let m=c[h];if(Is(s.emitsOptions,m))continue;const T=e[m];if(a)if(Y(r,m))T!==r[m]&&(r[m]=T,u=!0);else{const N=gt(m);n[N]=ci(a,l,N,T,s,!1)}else T!==r[m]&&(r[m]=T,u=!0)}}}else{nr(s,e,n,r)&&(u=!0);let c;for(const h in l)(!e||!Y(e,h)&&((c=Et(h))===h||!Y(e,c)))&&(a?t&&(t[h]!==void 0||t[c]!==void 0)&&(n[h]=ci(a,l,h,void 0,s,!0)):delete n[h]);if(r!==l)for(const h in r)(!e||!Y(e,h))&&(delete r[h],u=!0)}u&&et(s.attrs,"set","")}function nr(s,e,t,i){const[n,r]=s.propsOptions;let o=!1,l;if(e)for(let a in e){if(Ft(a))continue;const u=e[a];let c;n&&Y(n,c=gt(a))?!r||!r.includes(c)?t[c]=u:(l||(l={}))[c]=u:Is(s.emitsOptions,a)||(!(a in i)||u!==i[a])&&(i[a]=u,o=!0)}if(r){const a=q(t),u=l||ee;for(let c=0;c<r.length;c++){const h=r[c];t[h]=ci(n,a,h,u[h],s,!Y(u,h))}}return o}function ci(s,e,t,i,n,r){const o=s[t];if(o!=null){const l=Y(o,"default");if(l&&i===void 0){const a=o.default;if(o.type!==Function&&!o.skipFactory&&G(a)){const{propsDefaults:u}=n;if(t in u)i=u[t];else{const c=is(n);i=u[t]=a.call(null,e),c()}}else i=a;n.ce&&n.ce._setProp(t,i)}o[0]&&(r&&!l?i=!1:o[1]&&(i===""||i===Et(t))&&(i=!0))}return i}const Jo=new WeakMap;function rr(s,e,t=!1){const i=t?Jo:e.propsCache,n=i.get(s);if(n)return n;const r=s.props,o={},l=[];let a=!1;if(!G(s)){const c=h=>{a=!0;const[m,T]=rr(h,e,!0);ye(o,m),T&&l.push(...T)};!t&&e.mixins.length&&e.mixins.forEach(c),s.extends&&c(s.extends),s.mixins&&s.mixins.forEach(c)}if(!r&&!a)return se(s)&&i.set(s,Dt),Dt;if(W(r))for(let c=0;c<r.length;c++){const h=gt(r[c]);qi(h)&&(o[h]=ee)}else if(r)for(const c in r){const h=gt(c);if(qi(h)){const m=r[c],T=o[h]=W(m)||G(m)?{type:m}:ye({},m),N=T.type;let H=!1,X=!0;if(W(N))for(let U=0;U<N.length;++U){const V=N[U],Z=G(V)&&V.name;if(Z==="Boolean"){H=!0;break}else Z==="String"&&(X=!1)}else H=G(N)&&N.name==="Boolean";T[0]=H,T[1]=X,(H||Y(T,"default"))&&l.push(h)}}const u=[o,l];return se(s)&&i.set(s,u),u}function qi(s){return s[0]!=="$"&&!Ft(s)}const Di=s=>s==="_"||s==="_ctx"||s==="$stable",Ai=s=>W(s)?s.map(We):[We(s)],Zo=(s,e,t)=>{if(e._n)return e;const i=go((...n)=>Ai(e(...n)),t);return i._c=!1,i},or=(s,e,t)=>{const i=s._ctx;for(const n in s){if(Di(n))continue;const r=s[n];if(G(r))e[n]=Zo(n,r,i);else if(r!=null){const o=Ai(r);e[n]=()=>o}}},lr=(s,e)=>{const t=Ai(e);s.slots.default=()=>t},ar=(s,e,t)=>{for(const i in e)(t||!Di(i))&&(s[i]=e[i])},Qo=(s,e,t)=>{const i=s.slots=sr();if(s.vnode.shapeFlag&32){const n=e._;n?(ar(i,e,t),t&&bn(i,"_",n,!0)):or(e,i)}else e&&lr(s,e)},el=(s,e,t)=>{const{vnode:i,slots:n}=s;let r=!0,o=ee;if(i.shapeFlag&32){const l=e._;l?t&&l===1?r=!1:ar(n,e,t):(r=!e.$stable,or(e,n)),o=e}else e&&(lr(s,e),o={default:1});if(r)for(const l in n)!Di(l)&&o[l]==null&&delete n[l]},Se=rl;function tl(s){return sl(s)}function sl(s,e){const t=Ns();t.__VUE__=!0;const{insert:i,remove:n,patchProp:r,createElement:o,createText:l,createComment:a,setText:u,setElementText:c,parentNode:h,nextSibling:m,setScopeId:T=Ge,insertStaticContent:N}=s,H=(d,f,v,R=null,w=null,b=null,D=void 0,k=null,S=!!f.dynamicChildren)=>{if(d===f)return;d&&!It(d,f)&&(R=ct(d),we(d,w,b,!0),d=null),f.patchFlag===-2&&(S=!1,f.dynamicChildren=null);const{type:E,ref:P,shapeFlag:A}=f;switch(E){case $s:X(d,f,v,R);break;case pt:U(d,f,v,R);break;case fs:d==null&&V(f,v,R,D);break;case ce:mt(d,f,v,R,w,b,D,k,S);break;default:A&1?Q(d,f,v,R,w,b,D,k,S):A&6?at(d,f,v,R,w,b,D,k,S):(A&64||A&128)&&E.process(d,f,v,R,w,b,D,k,S,Ce)}P!=null&&w?Gt(P,d&&d.ref,b,f||d,!f):P==null&&d&&d.ref!=null&&Gt(d.ref,null,b,d,!0)},X=(d,f,v,R)=>{if(d==null)i(f.el=l(f.children),v,R);else{const w=f.el=d.el;f.children!==d.children&&u(w,f.children)}},U=(d,f,v,R)=>{d==null?i(f.el=a(f.children||""),v,R):f.el=d.el},V=(d,f,v,R)=>{[d.el,d.anchor]=N(d.children,f,v,R,d.el,d.anchor)},Z=({el:d,anchor:f},v,R)=>{let w;for(;d&&d!==f;)w=m(d),i(d,v,R),d=w;i(f,v,R)},$=({el:d,anchor:f})=>{let v;for(;d&&d!==f;)v=m(d),n(d),d=v;n(f)},Q=(d,f,v,R,w,b,D,k,S)=>{if(f.type==="svg"?D="svg":f.type==="math"&&(D="mathml"),d==null)De(f,v,R,w,b,D,k,S);else{const E=d.el&&d.el._isVueCE?d.el:null;try{E&&E._beginPatch(),lt(d,f,w,b,D,k,S)}finally{E&&E._endPatch()}}},De=(d,f,v,R,w,b,D,k)=>{let S,E;const{props:P,shapeFlag:A,transition:I,dirs:y}=d;if(S=d.el=o(d.type,b,P&&P.is,P),A&8?c(S,d.children):A&16&&Ae(d.children,S,null,R,w,Xs(d,b),D,k),y&&yt(d,null,R,"created"),ve(S,d,d.scopeId,D,R),P){for(const x in P)x!=="value"&&!Ft(x)&&r(S,x,null,P[x],b,R);"value"in P&&r(S,"value",null,P.value,b),(E=P.onVnodeBeforeMount)&&Be(E,R,d)}y&&yt(d,null,R,"beforeMount");const g=il(w,I);g&&I.beforeEnter(S),i(S,f,v),((E=P&&P.onVnodeMounted)||g||y)&&Se(()=>{E&&Be(E,R,d),g&&I.enter(S),y&&yt(d,null,R,"mounted")},w)},ve=(d,f,v,R,w)=>{if(v&&T(d,v),R)for(let b=0;b<R.length;b++)T(d,R[b]);if(w){let b=w.subTree;if(f===b||dr(b.type)&&(b.ssContent===f||b.ssFallback===f)){const D=w.vnode;ve(d,D,D.scopeId,D.slotScopeIds,w.parent)}}},Ae=(d,f,v,R,w,b,D,k,S=0)=>{for(let E=S;E<d.length;E++){const P=d[E]=k?ht(d[E]):We(d[E]);H(null,P,f,v,R,w,b,D,k)}},lt=(d,f,v,R,w,b,D)=>{const k=f.el=d.el;let{patchFlag:S,dynamicChildren:E,dirs:P}=f;S|=d.patchFlag&16;const A=d.props||ee,I=f.props||ee;let y;if(v&&vt(v,!1),(y=I.onVnodeBeforeUpdate)&&Be(y,v,f,d),P&&yt(f,d,v,"beforeUpdate"),v&&vt(v,!0),(A.innerHTML&&I.innerHTML==null||A.textContent&&I.textContent==null)&&c(k,""),E?be(d.dynamicChildren,E,k,v,R,Xs(f,w),b):D||J(d,f,k,null,v,R,Xs(f,w),b,!1),S>0){if(S&16)Me(k,A,I,v,w);else if(S&2&&A.class!==I.class&&r(k,"class",null,I.class,w),S&4&&r(k,"style",A.style,I.style,w),S&8){const g=f.dynamicProps;for(let x=0;x<g.length;x++){const M=g[x],C=A[M],K=I[M];(K!==C||M==="value")&&r(k,M,C,K,w,v)}}S&1&&d.children!==f.children&&c(k,f.children)}else!D&&E==null&&Me(k,A,I,v,w);((y=I.onVnodeUpdated)||P)&&Se(()=>{y&&Be(y,v,f,d),P&&yt(f,d,v,"updated")},R)},be=(d,f,v,R,w,b,D)=>{for(let k=0;k<f.length;k++){const S=d[k],E=f[k],P=S.el&&(S.type===ce||!It(S,E)||S.shapeFlag&198)?h(S.el):v;H(S,E,P,null,R,w,b,D,!0)}},Me=(d,f,v,R,w)=>{if(f!==v){if(f!==ee)for(const b in f)!Ft(b)&&!(b in v)&&r(d,b,f[b],null,w,R);for(const b in v){if(Ft(b))continue;const D=v[b],k=f[b];D!==k&&b!=="value"&&r(d,b,k,D,w,R)}"value"in v&&r(d,"value",f.value,v.value,w)}},mt=(d,f,v,R,w,b,D,k,S)=>{const E=f.el=d?d.el:l(""),P=f.anchor=d?d.anchor:l("");let{patchFlag:A,dynamicChildren:I,slotScopeIds:y}=f;y&&(k=k?k.concat(y):y),d==null?(i(E,v,R),i(P,v,R),Ae(f.children||[],v,P,w,b,D,k,S)):A>0&&A&64&&I&&d.dynamicChildren?(be(d.dynamicChildren,I,v,w,b,D,k),(f.key!=null||w&&f===w.subTree)&&cr(d,f,!0)):J(d,f,v,P,w,b,D,k,S)},at=(d,f,v,R,w,b,D,k,S)=>{f.slotScopeIds=k,d==null?f.shapeFlag&512?w.ctx.activate(f,v,R,D,S):Ct(f,v,R,w,b,D,S):Ie(d,f,S)},Ct=(d,f,v,R,w,b,D)=>{const k=d.component=fl(d,R,w);if(Vn(d)&&(k.ctx.renderer=Ce),pl(k,!1,D),k.asyncDep){if(w&&w.registerDep(k,ue,D),!d.el){const S=k.subTree=je(pt);U(null,S,f,v),d.placeholder=S.el}}else ue(k,d,f,v,w,b,D)},Ie=(d,f,v)=>{const R=f.component=d.component;if(Ko(d,f,v))if(R.asyncDep&&!R.asyncResolved){ie(R,f,v);return}else R.next=f,R.update();else f.el=d.el,R.vnode=f},ue=(d,f,v,R,w,b,D)=>{const k=()=>{if(d.isMounted){let{next:A,bu:I,u:y,parent:g,vnode:x}=d;{const re=ur(d);if(re){A&&(A.el=x.el,ie(d,A,D)),re.asyncDep.then(()=>{d.isUnmounted||k()});return}}let M=A,C;vt(d,!1),A?(A.el=x.el,ie(d,A,D)):A=x,I&&us(I),(C=A.props&&A.props.onVnodeBeforeUpdate)&&Be(C,g,A,x),vt(d,!0);const K=Vi(d),j=d.subTree;d.subTree=K,H(j,K,h(j.el),ct(j),d,w,b),A.el=K.el,M===null&&qo(d,K.el),y&&Se(y,w),(C=A.props&&A.props.onVnodeUpdated)&&Se(()=>Be(C,g,A,x),w)}else{let A;const{el:I,props:y}=f,{bm:g,m:x,parent:M,root:C,type:K}=d,j=jt(f);vt(d,!1),g&&us(g),!j&&(A=y&&y.onVnodeBeforeMount)&&Be(A,M,f),vt(d,!0);{C.ce&&C.ce._def.shadowRoot!==!1&&C.ce._injectChildStyle(K);const re=d.subTree=Vi(d);H(null,re,v,R,d,w,b),f.el=re.el}if(x&&Se(x,w),!j&&(A=y&&y.onVnodeMounted)){const re=f;Se(()=>Be(A,M,re),w)}(f.shapeFlag&256||M&&jt(M.vnode)&&M.vnode.shapeFlag&256)&&d.a&&Se(d.a,w),d.isMounted=!0,f=v=R=null}};d.scope.on();const S=d.effect=new Rn(k);d.scope.off();const E=d.update=S.run.bind(S),P=d.job=S.runIfDirty.bind(S);P.i=d,P.id=d.uid,S.scheduler=()=>Ti(P),vt(d,!0),E()},ie=(d,f,v)=>{f.component=d;const R=d.vnode.props;d.vnode=f,d.next=null,Xo(d,f.props,R,v),el(d,f.children,v),it(),Bi(d),nt()},J=(d,f,v,R,w,b,D,k,S=!1)=>{const E=d&&d.children,P=d?d.shapeFlag:0,A=f.children,{patchFlag:I,shapeFlag:y}=f;if(I>0){if(I&128){Rt(E,A,v,R,w,b,D,k,S);return}else if(I&256){qe(E,A,v,R,w,b,D,k,S);return}}y&8?(P&16&&Ye(E,w,b),A!==E&&c(v,A)):P&16?y&16?Rt(E,A,v,R,w,b,D,k,S):Ye(E,w,b,!0):(P&8&&c(v,""),y&16&&Ae(A,v,R,w,b,D,k,S))},qe=(d,f,v,R,w,b,D,k,S)=>{d=d||Dt,f=f||Dt;const E=d.length,P=f.length,A=Math.min(E,P);let I;for(I=0;I<A;I++){const y=f[I]=S?ht(f[I]):We(f[I]);H(d[I],y,v,null,w,b,D,k,S)}E>P?Ye(d,w,b,!0,!1,A):Ae(f,v,R,w,b,D,k,S,A)},Rt=(d,f,v,R,w,b,D,k,S)=>{let E=0;const P=f.length;let A=d.length-1,I=P-1;for(;E<=A&&E<=I;){const y=d[E],g=f[E]=S?ht(f[E]):We(f[E]);if(It(y,g))H(y,g,v,null,w,b,D,k,S);else break;E++}for(;E<=A&&E<=I;){const y=d[A],g=f[I]=S?ht(f[I]):We(f[I]);if(It(y,g))H(y,g,v,null,w,b,D,k,S);else break;A--,I--}if(E>A){if(E<=I){const y=I+1,g=y<P?f[y].el:R;for(;E<=I;)H(null,f[E]=S?ht(f[E]):We(f[E]),v,g,w,b,D,k,S),E++}}else if(E>I)for(;E<=A;)we(d[E],w,b,!0),E++;else{const y=E,g=E,x=new Map;for(E=g;E<=I;E++){const Re=f[E]=S?ht(f[E]):We(f[E]);Re.key!=null&&x.set(Re.key,E)}let M,C=0;const K=I-g+1;let j=!1,re=0;const ae=new Array(K);for(E=0;E<K;E++)ae[E]=0;for(E=y;E<=A;E++){const Re=d[E];if(C>=K){we(Re,w,b,!0);continue}let $e;if(Re.key!=null)$e=x.get(Re.key);else for(M=g;M<=I;M++)if(ae[M-g]===0&&It(Re,f[M])){$e=M;break}$e===void 0?we(Re,w,b,!0):(ae[$e-g]=E+1,$e>=re?re=$e:j=!0,H(Re,f[$e],v,null,w,b,D,k,S),C++)}const zt=j?nl(ae):Dt;for(M=zt.length-1,E=K-1;E>=0;E--){const Re=g+E,$e=f[Re],Hi=f[Re+1],Pi=Re+1<P?Hi.el||Hi.placeholder:R;ae[E]===0?H(null,$e,v,Pi,w,b,D,k,S):j&&(M<0||E!==zt[M]?Ee($e,v,Pi,2):M--)}}},Ee=(d,f,v,R,w=null)=>{const{el:b,type:D,transition:k,children:S,shapeFlag:E}=d;if(E&6){Ee(d.component.subTree,f,v,R);return}if(E&128){d.suspense.move(f,v,R);return}if(E&64){D.move(d,f,v,Ce);return}if(D===ce){i(b,f,v);for(let A=0;A<S.length;A++)Ee(S[A],f,v,R);i(d.anchor,f,v);return}if(D===fs){Z(d,f,v);return}if(R!==2&&E&1&&k)if(R===0)k.beforeEnter(b),i(b,f,v),Se(()=>k.enter(b),w);else{const{leave:A,delayLeave:I,afterLeave:y}=k,g=()=>{d.ctx.isUnmounted?n(b):i(b,f,v)},x=()=>{b._isLeaving&&b[_o](!0),A(b,()=>{g(),y&&y()})};I?I(b,g,x):x()}else i(b,f,v)},we=(d,f,v,R=!1,w=!1)=>{const{type:b,props:D,ref:k,children:S,dynamicChildren:E,shapeFlag:P,patchFlag:A,dirs:I,cacheIndex:y}=d;if(A===-2&&(w=!1),k!=null&&(it(),Gt(k,null,v,d,!0),nt()),y!=null&&(f.renderCache[y]=void 0),P&256){f.ctx.deactivate(d);return}const g=P&1&&I,x=!jt(d);let M;if(x&&(M=D&&D.onVnodeBeforeUnmount)&&Be(M,f,d),P&6)Pt(d.component,v,R);else{if(P&128){d.suspense.unmount(v,R);return}g&&yt(d,null,f,"beforeUnmount"),P&64?d.type.remove(d,f,v,Ce,R):E&&!E.hasOnce&&(b!==ce||A>0&&A&64)?Ye(E,f,v,!1,!0):(b===ce&&A&384||!w&&P&16)&&Ye(S,f,v),R&&ns(d)}(x&&(M=D&&D.onVnodeUnmounted)||g)&&Se(()=>{M&&Be(M,f,d),g&&yt(d,null,f,"unmounted")},v)},ns=d=>{const{type:f,el:v,anchor:R,transition:w}=d;if(f===ce){Ws(v,R);return}if(f===fs){$(d);return}const b=()=>{n(v),w&&!w.persisted&&w.afterLeave&&w.afterLeave()};if(d.shapeFlag&1&&w&&!w.persisted){const{leave:D,delayLeave:k}=w,S=()=>D(v,b);k?k(d.el,b,S):S()}else b()},Ws=(d,f)=>{let v;for(;d!==f;)v=m(d),n(d),d=v;n(f)},Pt=(d,f,v)=>{const{bum:R,scope:w,job:b,subTree:D,um:k,m:S,a:E}=d;Yi(S),Yi(E),R&&us(R),w.stop(),b&&(b.flags|=8,we(D,d,f,v)),k&&Se(k,f),Se(()=>{d.isUnmounted=!0},f)},Ye=(d,f,v,R=!1,w=!1,b=0)=>{for(let D=b;D<d.length;D++)we(d[D],f,v,R,w)},ct=d=>{if(d.shapeFlag&6)return ct(d.component.subTree);if(d.shapeFlag&128)return d.suspense.next();const f=m(d.anchor||d.el),v=f&&f[po];return v?m(v):f};let He=!1;const rs=(d,f,v)=>{d==null?f._vnode&&we(f._vnode,null,null,!0):H(f._vnode||null,d,f,null,null,null,v),f._vnode=d,He||(He=!0,Bi(),Wn(),He=!1)},Ce={p:H,um:we,m:Ee,r:ns,mt:Ct,mc:Ae,pc:J,pbc:be,n:ct,o:s};return{render:rs,hydrate:void 0,createApp:Lo(rs)}}function Xs({type:s,props:e},t){return t==="svg"&&s==="foreignObject"||t==="mathml"&&s==="annotation-xml"&&e&&e.encoding&&e.encoding.includes("html")?void 0:t}function vt({effect:s,job:e},t){t?(s.flags|=32,e.flags|=4):(s.flags&=-33,e.flags&=-5)}function il(s,e){return(!s||s&&!s.pendingBranch)&&e&&!e.persisted}function cr(s,e,t=!1){const i=s.children,n=e.children;if(W(i)&&W(n))for(let r=0;r<i.length;r++){const o=i[r];let l=n[r];l.shapeFlag&1&&!l.dynamicChildren&&((l.patchFlag<=0||l.patchFlag===32)&&(l=n[r]=ht(n[r]),l.el=o.el),!t&&l.patchFlag!==-2&&cr(o,l)),l.type===$s&&l.patchFlag!==-1&&(l.el=o.el),l.type===pt&&!l.el&&(l.el=o.el)}}function nl(s){const e=s.slice(),t=[0];let i,n,r,o,l;const a=s.length;for(i=0;i<a;i++){const u=s[i];if(u!==0){if(n=t[t.length-1],s[n]<u){e[i]=n,t.push(i);continue}for(r=0,o=t.length-1;r<o;)l=r+o>>1,s[t[l]]<u?r=l+1:o=l;u<s[t[r]]&&(r>0&&(e[i]=t[r-1]),t[r]=i)}}for(r=t.length,o=t[r-1];r-- >0;)t[r]=o,o=e[o];return t}function ur(s){const e=s.subTree.component;if(e)return e.asyncDep&&!e.asyncResolved?e:ur(e)}function Yi(s){if(s)for(let e=0;e<s.length;e++)s[e].flags|=8}const dr=s=>s.__isSuspense;function rl(s,e){e&&e.pendingBranch?W(s)?e.effects.push(...s):e.effects.push(s):fo(s)}const ce=Symbol.for("v-fgt"),$s=Symbol.for("v-txt"),pt=Symbol.for("v-cmt"),fs=Symbol.for("v-stc"),Kt=[];let ke=null;function O(s=!1){Kt.push(ke=s?null:[])}function ol(){Kt.pop(),ke=Kt[Kt.length-1]||null}let Jt=1;function Xi(s,e=!1){Jt+=s,s<0&&ke&&e&&(ke.hasOnce=!0)}function hr(s){return s.dynamicChildren=Jt>0?ke||Dt:null,ol(),Jt>0&&ke&&ke.push(s),s}function z(s,e,t,i,n,r){return hr(_(s,e,t,i,n,r,!0))}function gs(s,e,t,i,n){return hr(je(s,e,t,i,n,!0))}function fr(s){return s?s.__v_isVNode===!0:!1}function It(s,e){return s.type===e.type&&s.key===e.key}const gr=({key:s})=>s??null,ps=({ref:s,ref_key:e,ref_for:t})=>(typeof s=="number"&&(s=""+s),s!=null?le(s)||fe(s)||G(s)?{i:Ne,r:s,k:e,f:!!t}:s:null);function _(s,e=null,t=null,i=0,n=null,r=s===ce?0:1,o=!1,l=!1){const a={__v_isVNode:!0,__v_skip:!0,type:s,props:e,key:e&&gr(e),ref:e&&ps(e),scopeId:Gn,slotScopeIds:null,children:t,component:null,suspense:null,ssContent:null,ssFallback:null,dirs:null,transition:null,el:null,anchor:null,target:null,targetStart:null,targetAnchor:null,staticCount:0,shapeFlag:r,patchFlag:i,dynamicProps:n,dynamicChildren:null,appContext:null,ctx:Ne};return l?(Mi(a,t),r&128&&s.normalize(a)):t&&(a.shapeFlag|=le(t)?8:16),Jt>0&&!o&&ke&&(a.patchFlag>0||r&6)&&a.patchFlag!==32&&ke.push(a),a}const je=ll;function ll(s,e=null,t=null,i=0,n=null,r=!1){if((!s||s===Do)&&(s=pt),fr(s)){const l=Ht(s,e,!0);return t&&Mi(l,t),Jt>0&&!r&&ke&&(l.shapeFlag&6?ke[ke.indexOf(s)]=l:ke.push(l)),l.patchFlag=-2,l}if(vl(s)&&(s=s.__vccOpts),e){e=al(e);let{class:l,style:a}=e;l&&!le(l)&&(e.class=de(l)),se(a)&&(Ri(a)&&!W(a)&&(a=ye({},a)),e.style=Os(a))}const o=le(s)?1:dr(s)?128:mo(s)?64:se(s)?4:G(s)?2:0;return _(s,e,t,i,n,o,r,!0)}function al(s){return s?Ri(s)||ir(s)?ye({},s):s:null}function Ht(s,e,t=!1,i=!1){const{props:n,ref:r,patchFlag:o,children:l,transition:a}=s,u=e?ul(n||{},e):n,c={__v_isVNode:!0,__v_skip:!0,type:s.type,props:u,key:u&&gr(u),ref:e&&e.ref?t&&r?W(r)?r.concat(ps(e)):[r,ps(e)]:ps(e):r,scopeId:s.scopeId,slotScopeIds:s.slotScopeIds,children:l,target:s.target,targetStart:s.targetStart,targetAnchor:s.targetAnchor,staticCount:s.staticCount,shapeFlag:s.shapeFlag,patchFlag:e&&s.type!==ce?o===-1?16:o|16:o,dynamicProps:s.dynamicProps,dynamicChildren:s.dynamicChildren,appContext:s.appContext,dirs:s.dirs,transition:a,component:s.component,suspense:s.suspense,ssContent:s.ssContent&&Ht(s.ssContent),ssFallback:s.ssFallback&&Ht(s.ssFallback),placeholder:s.placeholder,el:s.el,anchor:s.anchor,ctx:s.ctx,ce:s.ce};return a&&i&&Si(c,a.clone(c)),c}function Qe(s=" ",e=0){return je($s,null,s,e)}function cl(s,e){const t=je(fs,null,s);return t.staticCount=e,t}function oe(s="",e=!1){return e?(O(),gs(pt,null,s)):je(pt,null,s)}function We(s){return s==null||typeof s=="boolean"?je(pt):W(s)?je(ce,null,s.slice()):fr(s)?ht(s):je($s,null,String(s))}function ht(s){return s.el===null&&s.patchFlag!==-1||s.memo?s:Ht(s)}function Mi(s,e){let t=0;const{shapeFlag:i}=s;if(e==null)e=null;else if(W(e))t=16;else if(typeof e=="object")if(i&65){const n=e.default;n&&(n._c&&(n._d=!1),Mi(s,n()),n._c&&(n._d=!0));return}else{t=32;const n=e._;!n&&!ir(e)?e._ctx=Ne:n===3&&Ne&&(Ne.slots._===1?e._=1:(e._=2,s.patchFlag|=1024))}else G(e)?(e={default:e,_ctx:Ne},t=32):(e=String(e),i&64?(t=16,e=[Qe(e)]):t=8);s.children=e,s.shapeFlag|=t}function ul(...s){const e={};for(let t=0;t<s.length;t++){const i=s[t];for(const n in i)if(n==="class")e.class!==i.class&&(e.class=de([e.class,i.class]));else if(n==="style")e.style=Os([e.style,i.style]);else if(Ds(n)){const r=e[n],o=i[n];o&&r!==o&&!(W(r)&&r.includes(o))&&(e[n]=r?[].concat(r,o):o)}else n!==""&&(e[n]=i[n])}return e}function Be(s,e,t,i=null){Ke(s,e,7,[t,i])}const dl=Jn();let hl=0;function fl(s,e,t){const i=s.type,n=(e?e.appContext:s.appContext)||dl,r={uid:hl++,vnode:s,type:i,parent:e,appContext:n,root:null,next:null,subTree:null,effect:null,update:null,job:null,scope:new Hr(!0),render:null,proxy:null,exposed:null,exposeProxy:null,withProxy:null,provides:e?e.provides:Object.create(n.provides),ids:e?e.ids:["",0,0],accessCache:null,renderCache:[],components:null,directives:null,propsOptions:rr(i,n),emitsOptions:er(i,n),emit:null,emitted:null,propsDefaults:ee,inheritAttrs:i.inheritAttrs,ctx:ee,data:ee,props:ee,attrs:ee,slots:ee,refs:ee,setupState:ee,setupContext:null,suspense:t,suspenseId:t?t.pendingId:0,asyncDep:null,asyncResolved:!1,isMounted:!1,isUnmounted:!1,isDeactivated:!1,bc:null,c:null,bm:null,m:null,bu:null,u:null,um:null,bum:null,da:null,a:null,rtg:null,rtc:null,ec:null,sp:null};return r.ctx={_:r},r.root=e?e.root:r,r.emit=Uo.bind(null,r),s.ce&&s.ce(r),r}let _e=null;const gl=()=>_e||Ne;let xs,ui;{const s=Ns(),e=(t,i)=>{let n;return(n=s[t])||(n=s[t]=[]),n.push(i),r=>{n.length>1?n.forEach(o=>o(r)):n[0](r)}};xs=e("__VUE_INSTANCE_SETTERS__",t=>_e=t),ui=e("__VUE_SSR_SETTERS__",t=>Zt=t)}const is=s=>{const e=_e;return xs(s),s.scope.on(),()=>{s.scope.off(),xs(e)}},Ji=()=>{_e&&_e.scope.off(),xs(null)};function pr(s){return s.vnode.shapeFlag&4}let Zt=!1;function pl(s,e=!1,t=!1){e&&ui(e);const{props:i,children:n}=s.vnode,r=pr(s);Yo(s,i,r,e),Qo(s,n,t||e);const o=r?ml(s,e):void 0;return e&&ui(!1),o}function ml(s,e){const t=s.type;s.accessCache=Object.create(null),s.proxy=new Proxy(s.ctx,Ao);const{setup:i}=t;if(i){it();const n=s.setupContext=i.length>1?yl(s):null,r=is(s),o=ss(i,s,0,[s.props,n]),l=mn(o);if(nt(),r(),(l||s.sp)&&!jt(s)&&jn(s),l){if(o.then(Ji,Ji),e)return o.then(a=>{Zi(s,a)}).catch(a=>{zs(a,s,0)});s.asyncDep=o}else Zi(s,o)}else mr(s)}function Zi(s,e,t){G(e)?s.type.__ssrInlineRender?s.ssrRender=e:s.render=e:se(e)&&(s.setupState=$n(e)),mr(s)}function mr(s,e,t){const i=s.type;s.render||(s.render=i.render||Ge);{const n=is(s);it();try{Mo(s)}finally{nt(),n()}}}const _l={get(s,e){return he(s,"get",""),s[e]}};function yl(s){const e=t=>{s.exposed=t||{}};return{attrs:new Proxy(s.attrs,_l),slots:s.slots,emit:s.emit,expose:e}}function Bs(s){return s.exposed?s.exposeProxy||(s.exposeProxy=new Proxy($n(to(s.exposed)),{get(e,t){if(t in e)return e[t];if(t in Vt)return Vt[t](s)},has(e,t){return t in e||t in Vt}})):s.proxy}function vl(s){return G(s)&&"__vccOpts"in s}const di=(s,e)=>lo(s,e,Zt),bl="3.5.25";/**
* @vue/runtime-dom v3.5.25
* (c) 2018-present Yuxi (Evan) You and Vue contributors
* @license MIT
**/let hi;const Qi=typeof window<"u"&&window.trustedTypes;if(Qi)try{hi=Qi.createPolicy("vue",{createHTML:s=>s})}catch{}const _r=hi?s=>hi.createHTML(s):s=>s,wl="http://www.w3.org/2000/svg",xl="http://www.w3.org/1998/Math/MathML",Ze=typeof document<"u"?document:null,en=Ze&&Ze.createElement("template"),El={insert:(s,e,t)=>{e.insertBefore(s,t||null)},remove:s=>{const e=s.parentNode;e&&e.removeChild(s)},createElement:(s,e,t,i)=>{const n=e==="svg"?Ze.createElementNS(wl,s):e==="mathml"?Ze.createElementNS(xl,s):t?Ze.createElement(s,{is:t}):Ze.createElement(s);return s==="select"&&i&&i.multiple!=null&&n.setAttribute("multiple",i.multiple),n},createText:s=>Ze.createTextNode(s),createComment:s=>Ze.createComment(s),setText:(s,e)=>{s.nodeValue=e},setElementText:(s,e)=>{s.textContent=e},parentNode:s=>s.parentNode,nextSibling:s=>s.nextSibling,querySelector:s=>Ze.querySelector(s),setScopeId(s,e){s.setAttribute(e,"")},insertStaticContent(s,e,t,i,n,r){const o=t?t.previousSibling:e.lastChild;if(n&&(n===r||n.nextSibling))for(;e.insertBefore(n.cloneNode(!0),t),!(n===r||!(n=n.nextSibling)););else{en.innerHTML=_r(i==="svg"?`<svg>${s}</svg>`:i==="mathml"?`<math>${s}</math>`:s);const l=en.content;if(i==="svg"||i==="mathml"){const a=l.firstChild;for(;a.firstChild;)l.appendChild(a.firstChild);l.removeChild(a)}e.insertBefore(l,t)}return[o?o.nextSibling:e.firstChild,t?t.previousSibling:e.lastChild]}},Cl=Symbol("_vtc");function Rl(s,e,t){const i=s[Cl];i&&(e=(e?[e,...i]:[...i]).join(" ")),e==null?s.removeAttribute("class"):t?s.setAttribute("class",e):s.className=e}const Es=Symbol("_vod"),yr=Symbol("_vsh"),St={name:"show",beforeMount(s,{value:e},{transition:t}){s[Es]=s.style.display==="none"?"":s.style.display,t&&e?t.beforeEnter(s):$t(s,e)},mounted(s,{value:e},{transition:t}){t&&e&&t.enter(s)},updated(s,{value:e,oldValue:t},{transition:i}){!e!=!t&&(i?e?(i.beforeEnter(s),$t(s,!0),i.enter(s)):i.leave(s,()=>{$t(s,!1)}):$t(s,e))},beforeUnmount(s,{value:e}){$t(s,e)}};function $t(s,e){s.style.display=e?s[Es]:"none",s[yr]=!e}const Tl=Symbol(""),Sl=/(?:^|;)\s*display\s*:/;function kl(s,e,t){const i=s.style,n=le(t);let r=!1;if(t&&!n){if(e)if(le(e))for(const o of e.split(";")){const l=o.slice(0,o.indexOf(":")).trim();t[l]==null&&ms(i,l,"")}else for(const o in e)t[o]==null&&ms(i,o,"");for(const o in t)o==="display"&&(r=!0),ms(i,o,t[o])}else if(n){if(e!==t){const o=i[Tl];o&&(t+=";"+o),i.cssText=t,r=Sl.test(t)}}else e&&s.removeAttribute("style");Es in s&&(s[Es]=r?i.display:"",s[yr]&&(i.display="none"))}const tn=/\s*!important$/;function ms(s,e,t){if(W(t))t.forEach(i=>ms(s,e,i));else if(t==null&&(t=""),e.startsWith("--"))s.setProperty(e,t);else{const i=Dl(s,e);tn.test(t)?s.setProperty(Et(i),t.replace(tn,""),"important"):s[i]=t}}const sn=["Webkit","Moz","ms"],Js={};function Dl(s,e){const t=Js[e];if(t)return t;let i=gt(e);if(i!=="filter"&&i in s)return Js[e]=i;i=vn(i);for(let n=0;n<sn.length;n++){const r=sn[n]+i;if(r in s)return Js[e]=r}return e}const nn="http://www.w3.org/1999/xlink";function rn(s,e,t,i,n,r=Nr(e)){i&&e.startsWith("xlink:")?t==null?s.removeAttributeNS(nn,e.slice(6,e.length)):s.setAttributeNS(nn,e,t):t==null||r&&!wn(t)?s.removeAttribute(e):s.setAttribute(e,r?"":Ve(t)?String(t):t)}function on(s,e,t,i,n){if(e==="innerHTML"||e==="textContent"){t!=null&&(s[e]=e==="innerHTML"?_r(t):t);return}const r=s.tagName;if(e==="value"&&r!=="PROGRESS"&&!r.includes("-")){const l=r==="OPTION"?s.getAttribute("value")||"":s.value,a=t==null?s.type==="checkbox"?"on":"":String(t);(l!==a||!("_value"in s))&&(s.value=a),t==null&&s.removeAttribute(e),s._value=t;return}let o=!1;if(t===""||t==null){const l=typeof s[e];l==="boolean"?t=wn(t):t==null&&l==="string"?(t="",o=!0):l==="number"&&(t=0,o=!0)}try{s[e]=t}catch{}o&&s.removeAttribute(n||e)}function vr(s,e,t,i){s.addEventListener(e,t,i)}function Al(s,e,t,i){s.removeEventListener(e,t,i)}const ln=Symbol("_vei");function Ml(s,e,t,i,n=null){const r=s[ln]||(s[ln]={}),o=r[e];if(i&&o)o.value=i;else{const[l,a]=Nl(e);if(i){const u=r[e]=Pl(i,n);vr(s,l,u,a)}else o&&(Al(s,l,o,a),r[e]=void 0)}}const an=/(?:Once|Passive|Capture)$/;function Nl(s){let e;if(an.test(s)){e={};let i;for(;i=s.match(an);)s=s.slice(0,s.length-i[0].length),e[i[0].toLowerCase()]=!0}return[s[2]===":"?s.slice(3):Et(s.slice(2)),e]}let Zs=0;const Ol=Promise.resolve(),Hl=()=>Zs||(Ol.then(()=>Zs=0),Zs=Date.now());function Pl(s,e){const t=i=>{if(!i._vts)i._vts=Date.now();else if(i._vts<=t.attached)return;Ke(zl(i,t.value),e,5,[i])};return t.value=s,t.attached=Hl(),t}function zl(s,e){if(W(e)){const t=s.stopImmediatePropagation;return s.stopImmediatePropagation=()=>{t.call(s),s._stopped=!0},e.map(i=>n=>!n._stopped&&i&&i(n))}else return e}const cn=s=>s.charCodeAt(0)===111&&s.charCodeAt(1)===110&&s.charCodeAt(2)>96&&s.charCodeAt(2)<123,Ll=(s,e,t,i,n,r)=>{const o=n==="svg";e==="class"?Rl(s,i,o):e==="style"?kl(s,t,i):Ds(e)?pi(e)||Ml(s,e,t,i,r):(e[0]==="."?(e=e.slice(1),!0):e[0]==="^"?(e=e.slice(1),!1):Il(s,e,i,o))?(on(s,e,i),!s.tagName.includes("-")&&(e==="value"||e==="checked"||e==="selected")&&rn(s,e,i,o,r,e!=="value")):s._isVueCE&&(/[A-Z]/.test(e)||!le(i))?on(s,gt(e),i,r,e):(e==="true-value"?s._trueValue=i:e==="false-value"&&(s._falseValue=i),rn(s,e,i,o))};function Il(s,e,t,i){if(i)return!!(e==="innerHTML"||e==="textContent"||e in s&&cn(e)&&G(t));if(e==="spellcheck"||e==="draggable"||e==="translate"||e==="autocorrect"||e==="sandbox"&&s.tagName==="IFRAME"||e==="form"||e==="list"&&s.tagName==="INPUT"||e==="type"&&s.tagName==="TEXTAREA")return!1;if(e==="width"||e==="height"){const n=s.tagName;if(n==="IMG"||n==="VIDEO"||n==="CANVAS"||n==="SOURCE")return!1}return cn(e)&&le(t)?!1:e in s}const un=s=>{const e=s.props["onUpdate:modelValue"]||!1;return W(e)?t=>us(e,t):e},Qs=Symbol("_assign"),$l={deep:!0,created(s,e,t){s[Qs]=un(t),vr(s,"change",()=>{const i=s._modelValue,n=Bl(s),r=s.checked,o=s[Qs];if(W(i)){const l=xn(i,n),a=l!==-1;if(r&&!a)o(i.concat(n));else if(!r&&a){const u=[...i];u.splice(l,1),o(u)}}else if(As(i)){const l=new Set(i);r?l.add(n):l.delete(n),o(l)}else o(br(s,r))})},mounted:dn,beforeUpdate(s,e,t){s[Qs]=un(t),dn(s,e,t)}};function dn(s,{value:e,oldValue:t},i){s._modelValue=e;let n;if(W(e))n=xn(e,i.props.value)>-1;else if(As(e))n=e.has(i.props.value);else{if(e===t)return;n=Hs(e,br(s,!0))}s.checked!==n&&(s.checked=n)}function Bl(s){return"_value"in s?s._value:s.value}function br(s,e){const t=e?"_trueValue":"_falseValue";return t in s?s[t]:e}const Fl=["ctrl","shift","alt","meta"],Wl={stop:s=>s.stopPropagation(),prevent:s=>s.preventDefault(),self:s=>s.target!==s.currentTarget,ctrl:s=>!s.ctrlKey,shift:s=>!s.shiftKey,alt:s=>!s.altKey,meta:s=>!s.metaKey,left:s=>"button"in s&&s.button!==0,middle:s=>"button"in s&&s.button!==1,right:s=>"button"in s&&s.button!==2,exact:(s,e)=>Fl.some(t=>s[`${t}Key`]&&!e.includes(t))},fi=(s,e)=>{const t=s._withMods||(s._withMods={}),i=e.join(".");return t[i]||(t[i]=(n,...r)=>{for(let o=0;o<e.length;o++){const l=Wl[e[o]];if(l&&l(n,e))return}return s(n,...r)})},Ul=ye({patchProp:Ll},El);let hn;function Gl(){return hn||(hn=tl(Ul))}const jl=(...s)=>{const e=Gl().createApp(...s),{mount:t}=e;return e.mount=i=>{const n=Kl(i);if(!n)return;const r=e._component;!G(r)&&!r.render&&!r.template&&(r.template=n.innerHTML),n.nodeType===1&&(n.textContent="");const o=t(n,!1,Vl(n));return n instanceof Element&&(n.removeAttribute("v-cloak"),n.setAttribute("data-v-app","")),o},e};function Vl(s){if(s instanceof SVGElement)return"svg";if(typeof MathMLElement=="function"&&s instanceof MathMLElement)return"mathml"}function Kl(s){return le(s)?document.querySelector(s):s}function ql(s,e,t,i,n){const r=(...o)=>(console.warn("gridstack.js: Function `"+t+"` is deprecated in "+n+" and has been replaced with `"+i+"`. It will be **removed** in a future release"),e.apply(s,o));return r.prototype=e.prototype,r}class p{static getElements(e,t=document){if(typeof e=="string"){const i="getElementById"in t?t:void 0;if(i&&!isNaN(+e[0])){const r=i.getElementById(e);return r?[r]:[]}let n=t.querySelectorAll(e);return!n.length&&e[0]!=="."&&e[0]!=="#"&&(n=t.querySelectorAll("."+e),n.length||(n=t.querySelectorAll("#"+e))),Array.from(n)}return[e]}static getElement(e,t=document){if(typeof e=="string"){const i="getElementById"in t?t:void 0;if(!e.length)return null;if(i&&e[0]==="#")return i.getElementById(e.substring(1));if(e[0]==="#"||e[0]==="."||e[0]==="[")return t.querySelector(e);if(i&&!isNaN(+e[0]))return i.getElementById(e);let n=t.querySelector(e);return i&&!n&&(n=i.getElementById(e)),n||(n=t.querySelector("."+e)),n}return e}static lazyLoad(e){var t,i;return e.lazyLoad||((i=(t=e.grid)==null?void 0:t.opts)==null?void 0:i.lazyLoad)&&e.lazyLoad!==!1}static createDiv(e,t){const i=document.createElement("div");return e.forEach(n=>{n&&i.classList.add(n)}),t==null||t.appendChild(i),i}static shouldSizeToContent(e,t=!1){return(e==null?void 0:e.grid)&&(t?e.sizeToContent===!0||e.grid.opts.sizeToContent===!0&&e.sizeToContent===void 0:!!e.sizeToContent||e.grid.opts.sizeToContent&&e.sizeToContent!==!1)}static isIntercepted(e,t){return!(e.y>=t.y+t.h||e.y+e.h<=t.y||e.x+e.w<=t.x||e.x>=t.x+t.w)}static isTouching(e,t){return p.isIntercepted(e,{x:t.x-.5,y:t.y-.5,w:t.w+1,h:t.h+1})}static areaIntercept(e,t){const i=e.x>t.x?e.x:t.x,n=e.x+e.w<t.x+t.w?e.x+e.w:t.x+t.w;if(n<=i)return 0;const r=e.y>t.y?e.y:t.y,o=e.y+e.h<t.y+t.h?e.y+e.h:t.y+t.h;return o<=r?0:(n-i)*(o-r)}static area(e){return e.w*e.h}static sort(e,t=1){return e.sort((n,r)=>{const o=t*((n.y??1e4)-(r.y??1e4));return o===0?t*((n.x??1e4)-(r.x??1e4)):o})}static find(e,t){return t?e.find(i=>i.id===t):void 0}static toBool(e){return typeof e=="boolean"?e:typeof e=="string"?(e=e.toLowerCase(),!(e===""||e==="no"||e==="false"||e==="0")):!!e}static toNumber(e){return e===null||e.length===0?void 0:Number(e)}static parseHeight(e){let t,i="px";if(typeof e=="string")if(e==="auto"||e==="")t=0;else{const n=e.match(/^(-[0-9]+\.[0-9]+|[0-9]*\.[0-9]+|-[0-9]+|[0-9]+)(px|em|rem|vh|vw|%|cm|mm)?$/);if(!n)throw new Error(`Invalid height val = ${e}`);i=n[2]||"px",t=parseFloat(n[1])}else t=e;return{h:t,unit:i}}static defaults(e,...t){return t.forEach(i=>{for(const n in i){if(!i.hasOwnProperty(n))return;e[n]===null||e[n]===void 0?e[n]=i[n]:typeof i[n]=="object"&&typeof e[n]=="object"&&p.defaults(e[n],i[n])}}),e}static same(e,t){if(typeof e!="object")return e==t;if(typeof e!=typeof t||Object.keys(e).length!==Object.keys(t).length)return!1;for(const i in e)if(e[i]!==t[i])return!1;return!0}static copyPos(e,t,i=!1){return t.x!==void 0&&(e.x=t.x),t.y!==void 0&&(e.y=t.y),t.w!==void 0&&(e.w=t.w),t.h!==void 0&&(e.h=t.h),i&&(t.minW&&(e.minW=t.minW),t.minH&&(e.minH=t.minH),t.maxW&&(e.maxW=t.maxW),t.maxH&&(e.maxH=t.maxH)),e}static samePos(e,t){return e&&t&&e.x===t.x&&e.y===t.y&&(e.w||1)===(t.w||1)&&(e.h||1)===(t.h||1)}static sanitizeMinMax(e){e.minW||delete e.minW,e.minH||delete e.minH,e.maxW||delete e.maxW,e.maxH||delete e.maxH}static removeInternalAndSame(e,t){if(!(typeof e!="object"||typeof t!="object"))for(let i in e){const n=e[i],r=t[i];i[0]==="_"||n===r?delete e[i]:n&&typeof n=="object"&&r!==void 0&&(p.removeInternalAndSame(n,r),Object.keys(n).length||delete e[i])}}static removeInternalForSave(e,t=!0){for(let i in e)(i[0]==="_"||e[i]===null||e[i]===void 0)&&delete e[i];delete e.grid,t&&delete e.el,e.autoPosition||delete e.autoPosition,e.noResize||delete e.noResize,e.noMove||delete e.noMove,e.locked||delete e.locked,(e.w===1||e.w===e.minW)&&delete e.w,(e.h===1||e.h===e.minH)&&delete e.h}static throttle(e,t){let i=!1;return(...n)=>{i||(i=!0,setTimeout(()=>{e(...n),i=!1},t))}}static removePositioningStyles(e){const t=e.style;t.position&&t.removeProperty("position"),t.left&&t.removeProperty("left"),t.top&&t.removeProperty("top"),t.width&&t.removeProperty("width"),t.height&&t.removeProperty("height")}static getScrollElement(e){if(!e)return document.scrollingElement||document.documentElement;const t=getComputedStyle(e);return/(auto|scroll)/.test(t.overflow+t.overflowY)?e:p.getScrollElement(e.parentElement)}static updateScrollPosition(e,t,i){const n=p.getScrollElement(e);if(!n)return;const r=e.getBoundingClientRect(),o=n.getBoundingClientRect(),l=window.innerHeight||document.documentElement.clientHeight,a=r.bottom-Math.min(o.bottom,l),u=r.top-Math.max(o.top,0),c=n.scrollTop;u<0&&i<0?e.offsetHeight>o.height?n.scrollTop+=i:n.scrollTop+=Math.abs(u)>Math.abs(i)?i:u:a>0&&i>0&&(e.offsetHeight>o.height?n.scrollTop+=i:n.scrollTop+=a>i?i:a),t.top+=n.scrollTop-c}static updateScrollResize(e,t,i){const n=p.getScrollElement(t),r=n.clientHeight,o=n===p.getScrollElement()?0:n.getBoundingClientRect().top,l=e.clientY-o,a=l<i,u=l>r-i;a?n.scrollBy({behavior:"smooth",top:l-i}):u&&n.scrollBy({behavior:"smooth",top:i-(r-l)})}static clone(e){return e==null||typeof e!="object"?e:e instanceof Array?[...e]:{...e}}static cloneDeep(e){const t=["parentGrid","el","grid","subGrid","engine"],i=p.clone(e);for(const n in i)i.hasOwnProperty(n)&&typeof i[n]=="object"&&n.substring(0,2)!=="__"&&!t.find(r=>r===n)&&(i[n]=p.cloneDeep(e[n]));return i}static cloneNode(e){const t=e.cloneNode(!0);return t.removeAttribute("id"),t}static appendTo(e,t){let i;typeof t=="string"?i=p.getElement(t):i=t,i&&i.appendChild(e)}static addElStyles(e,t){if(t instanceof Object)for(const i in t)t.hasOwnProperty(i)&&(Array.isArray(t[i])?t[i].forEach(n=>{e.style[i]=n}):e.style[i]=t[i])}static initEvent(e,t){const i={type:t.type},n={button:0,which:0,buttons:1,bubbles:!0,cancelable:!0,target:t.target?t.target:e.target};return["altKey","ctrlKey","metaKey","shiftKey"].forEach(r=>i[r]=e[r]),["pageX","pageY","clientX","clientY","screenX","screenY"].forEach(r=>i[r]=e[r]),{...i,...n}}static simulateMouseEvent(e,t,i){const n=e,r=new MouseEvent(t,{bubbles:!0,composed:!0,cancelable:!0,view:window,detail:1,screenX:e.screenX,screenY:e.screenY,clientX:e.clientX,clientY:e.clientY,ctrlKey:n.ctrlKey??!1,altKey:n.altKey??!1,shiftKey:n.shiftKey??!1,metaKey:n.metaKey??!1,button:0,relatedTarget:e.target});(i||e.target).dispatchEvent(r)}static getValuesFromTransformedElement(e){const t=document.createElement("div");p.addElStyles(t,{opacity:"0",position:"fixed",top:"0px",left:"0px",width:"1px",height:"1px",zIndex:"-999999"}),e.appendChild(t);const i=t.getBoundingClientRect();return e.removeChild(t),t.remove(),{xScale:1/i.width,yScale:1/i.height,xOffset:i.left,yOffset:i.top}}static swap(e,t,i){if(!e)return;const n=e[t];e[t]=e[i],e[i]=n}static canBeRotated(e){var t;return!(!e||e.w===e.h||e.locked||e.noResize||(t=e.grid)!=null&&t.opts.disableResize||e.minW&&e.minW===e.maxW||e.minH&&e.minH===e.maxH)}}class st{constructor(e={}){this.addedNodes=[],this.removedNodes=[],this.defaultColumn=12,this.column=e.column||this.defaultColumn,this.column>this.defaultColumn&&(this.defaultColumn=this.column),this.maxRow=e.maxRow,this._float=e.float,this.nodes=e.nodes||[],this.onChange=e.onChange}batchUpdate(e=!0,t=!0){return!!this.batchMode===e?this:(this.batchMode=e,e?(this._prevFloat=this._float,this._float=!0,this.cleanNodes(),this.saveInitial()):(this._float=this._prevFloat,delete this._prevFloat,t&&this._packNodes(),this._notify()),this)}_useEntireRowArea(e,t){return(!this.float||this.batchMode&&!this._prevFloat)&&!this._hasLocked&&(!e._moving||e._skipDown||t.y<=e.y)}_fixCollisions(e,t=e,i,n={}){if(this.sortNodes(-1),i=i||this.collide(e,t),!i)return!1;if(e._moving&&!n.nested&&!this.float&&this.swap(e,i))return!0;let r=t;!this._loading&&this._useEntireRowArea(e,t)&&(r={x:0,w:this.column,y:t.y,h:t.h},i=this.collide(e,r,n.skip));let o=!1;const l={nested:!0,pack:!1};let a=0;for(;i=i||this.collide(e,r,n.skip);){if(a++>this.nodes.length*2)throw new Error("Infinite collide check");let u;if(i.locked||this._loading||e._moving&&!e._skipDown&&t.y>e.y&&!this.float&&(!this.collide(i,{...i,y:e.y},e)||!this.collide(i,{...i,y:t.y-i.h},e))){e._skipDown=e._skipDown||t.y>e.y;const c={...t,y:i.y+i.h,...l};u=this._loading&&p.samePos(e,c)?!0:this.moveNode(e,c),(i.locked||this._loading)&&u?p.copyPos(t,e):!i.locked&&u&&n.pack&&(this._packNodes(),t.y=i.y+i.h,p.copyPos(e,t)),o=o||u}else u=this.moveNode(i,{...i,y:t.y+t.h,skip:e,...l});if(!u)return o;i=void 0}return o}collide(e,t=e,i){const n=e._id,r=i==null?void 0:i._id;return this.nodes.find(o=>o._id!==n&&o._id!==r&&p.isIntercepted(o,t))}collideAll(e,t=e,i){const n=e._id,r=i==null?void 0:i._id;return this.nodes.filter(o=>o._id!==n&&o._id!==r&&p.isIntercepted(o,t))}directionCollideCoverage(e,t,i){if(!t.rect||!e._rect)return;const n=e._rect,r={...t.rect};r.y>n.y?(r.h+=r.y-n.y,r.y=n.y):r.h+=n.y-r.y,r.x>n.x?(r.w+=r.x-n.x,r.x=n.x):r.w+=n.x-r.x;let o,l=.5;for(let a of i){if(a.locked||!a._rect)break;const u=a._rect;let c=Number.MAX_VALUE,h=Number.MAX_VALUE;n.y<u.y?c=(r.y+r.h-u.y)/u.h:n.y+n.h>u.y+u.h&&(c=(u.y+u.h-r.y)/u.h),n.x<u.x?h=(r.x+r.w-u.x)/u.w:n.x+n.w>u.x+u.w&&(h=(u.x+u.w-r.x)/u.w);const m=Math.min(h,c);m>l&&(l=m,o=a)}return t.collide=o,o}cacheRects(e,t,i,n,r,o){return this.nodes.forEach(l=>l._rect={y:l.y*t+i,x:l.x*e+o,w:l.w*e-o-n,h:l.h*t-i-r}),this}swap(e,t){if(!t||t.locked||!e||e.locked)return!1;function i(){const r=t.x,o=t.y;return t.x=e.x,t.y=e.y,e.h!=t.h?(e.x=r,e.y=t.y+t.h):e.w!=t.w?(e.x=t.x+t.w,e.y=o):(e.x=r,e.y=o),e._dirty=t._dirty=!0,!0}let n;if(e.w===t.w&&e.h===t.h&&(e.x===t.x||e.y===t.y)&&(n=p.isTouching(e,t)))return i();if(n!==!1){if(e.w===t.w&&e.x===t.x&&(n||(n=p.isTouching(e,t)))){if(t.y<e.y){const r=e;e=t,t=r}return i()}if(n!==!1){if(e.h===t.h&&e.y===t.y&&(n||(n=p.isTouching(e,t)))){if(t.x<e.x){const r=e;e=t,t=r}return i()}return!1}}}isAreaEmpty(e,t,i,n){const r={x:e||0,y:t||0,w:i||1,h:n||1};return!this.collide(r)}compact(e="compact",t=!0){if(this.nodes.length===0)return this;t&&this.sortNodes();const i=this.batchMode;i||this.batchUpdate();const n=this._inColumnResize;n||(this._inColumnResize=!0);const r=this.nodes;return this.nodes=[],r.forEach((o,l,a)=>{let u;o.locked||(o.autoPosition=!0,e==="list"&&l&&(u=a[l-1])),this.addNode(o,!1,u)}),n||delete this._inColumnResize,i||this.batchUpdate(!1),this}set float(e){this._float!==e&&(this._float=e||!1,e||this._packNodes()._notify())}get float(){return this._float||!1}sortNodes(e=1){return this.nodes=p.sort(this.nodes,e),this}_packNodes(){return this.batchMode?this:(this.sortNodes(),this.float?this.nodes.forEach(e=>{if(e._updating||e._orig===void 0||e.y===e._orig.y)return;let t=e.y;for(;t>e._orig.y;)--t,this.collide(e,{x:e.x,y:t,w:e.w,h:e.h})||(e._dirty=!0,e.y=t)}):this.nodes.forEach((e,t)=>{if(!e.locked)for(;e.y>0;){const i=t===0?0:e.y-1;if(!(t===0||!this.collide(e,{x:e.x,y:i,w:e.w,h:e.h})))break;e._dirty=e.y!==i,e.y=i}}),this)}prepareNode(e,t){e._id=e._id??st._idSeq++;const i=e.id;if(i){let r=1;for(;this.nodes.find(o=>o.id===e.id&&o!==e);)e.id=i+"_"+r++}(e.x===void 0||e.y===void 0||e.x===null||e.y===null)&&(e.autoPosition=!0);const n={x:0,y:0,w:1,h:1};return p.defaults(e,n),e.autoPosition||delete e.autoPosition,e.noResize||delete e.noResize,e.noMove||delete e.noMove,p.sanitizeMinMax(e),typeof e.x=="string"&&(e.x=Number(e.x)),typeof e.y=="string"&&(e.y=Number(e.y)),typeof e.w=="string"&&(e.w=Number(e.w)),typeof e.h=="string"&&(e.h=Number(e.h)),isNaN(e.x)&&(e.x=n.x,e.autoPosition=!0),isNaN(e.y)&&(e.y=n.y,e.autoPosition=!0),isNaN(e.w)&&(e.w=n.w),isNaN(e.h)&&(e.h=n.h),this.nodeBoundFix(e,t),e}nodeBoundFix(e,t){const i=e._orig||p.copyPos({},e);if(e.maxW&&(e.w=Math.min(e.w||1,e.maxW)),e.maxH&&(e.h=Math.min(e.h||1,e.maxH)),e.minW&&(e.w=Math.max(e.w||1,e.minW)),e.minH&&(e.h=Math.max(e.h||1,e.minH)),(e.x||0)+(e.w||1)>this.column&&this.column<this.defaultColumn&&!this._inColumnResize&&!this.skipCacheUpdate&&e._id!=null&&this.findCacheLayout(e,this.defaultColumn)===-1){const r={...e};r.autoPosition||r.x===void 0?(delete r.x,delete r.y):r.x=Math.min(this.defaultColumn-1,r.x),r.w=Math.min(this.defaultColumn,r.w||1),this.cacheOneLayout(r,this.defaultColumn)}return e.w>this.column?e.w=this.column:e.w<1&&(e.w=1),this.maxRow&&e.h>this.maxRow?e.h=this.maxRow:e.h<1&&(e.h=1),e.x<0&&(e.x=0),e.y<0&&(e.y=0),e.x+e.w>this.column&&(t?e.w=this.column-e.x:e.x=this.column-e.w),this.maxRow&&e.y+e.h>this.maxRow&&(t?e.h=this.maxRow-e.y:e.y=this.maxRow-e.h),p.samePos(e,i)||(e._dirty=!0),this}getDirtyNodes(e){return e?this.nodes.filter(t=>t._dirty&&!p.samePos(t,t._orig)):this.nodes.filter(t=>t._dirty)}_notify(e){if(this.batchMode||!this.onChange)return this;const t=(e||[]).concat(this.getDirtyNodes());return this.onChange(t),this}cleanNodes(){return this.batchMode?this:(this.nodes.forEach(e=>{delete e._dirty,delete e._lastTried}),this)}saveInitial(){return this.nodes.forEach(e=>{e._orig=p.copyPos({},e),delete e._dirty}),this._hasLocked=this.nodes.some(e=>e.locked),this}restoreInitial(){return this.nodes.forEach(e=>{!e._orig||p.samePos(e,e._orig)||(p.copyPos(e,e._orig),e._dirty=!0)}),this._notify(),this}findEmptyPosition(e,t=this.nodes,i=this.column,n){const r=n?n.y*i+(n.x+n.w):0;let o=!1;for(let l=r;!o;++l){const a=l%i,u=Math.floor(l/i);if(a+e.w>i)continue;const c={x:a,y:u,w:e.w,h:e.h};t.find(h=>p.isIntercepted(c,h))||((e.x!==a||e.y!==u)&&(e._dirty=!0),e.x=a,e.y=u,delete e.autoPosition,o=!0)}return o}addNode(e,t=!1,i){const n=this.nodes.find(o=>o._id===e._id);if(n)return n;this._inColumnResize?this.nodeBoundFix(e):this.prepareNode(e),delete e._temporaryRemoved,delete e._removeDOM;let r;return e.autoPosition&&this.findEmptyPosition(e,this.nodes,this.column,i)&&(delete e.autoPosition,r=!0),this.nodes.push(e),t&&this.addedNodes.push(e),r||this._fixCollisions(e),this.batchMode||this._packNodes()._notify(),e}removeNode(e,t=!0,i=!1){return this.nodes.find(n=>n._id===e._id)?(i&&this.removedNodes.push(e),t&&(e._removeDOM=!0),this.nodes=this.nodes.filter(n=>n._id!==e._id),e._isAboutToRemove||this._packNodes(),this._notify([e]),this):this}removeAll(e=!0,t=!0){if(delete this._layouts,!this.nodes.length)return this;e&&this.nodes.forEach(n=>n._removeDOM=!0);const i=this.nodes;return this.removedNodes=t?i:[],this.nodes=[],this._notify(i)}moveNodeCheck(e,t){if(!this.changedPosConstrain(e,t))return!1;if(t.pack=!0,!this.maxRow)return this.moveNode(e,t);let i;const n=new st({column:this.column,float:this.float,nodes:this.nodes.map(o=>o._id===e._id?(i={...o},i):{...o})});if(!i)return!1;const r=n.moveNode(i,t)&&n.getRow()<=Math.max(this.getRow(),this.maxRow);if(!r&&!t.resizing&&t.collide){const o=t.collide.el.gridstackNode;if(this.swap(e,o))return this._notify(),!0}return r?(n.nodes.filter(o=>o._dirty).forEach(o=>{const l=this.nodes.find(a=>a._id===o._id);l&&(p.copyPos(l,o),l._dirty=!0)}),this._notify(),!0):!1}willItFit(e){if(delete e._willFitPos,!this.maxRow)return!0;const t=new st({column:this.column,float:this.float,nodes:this.nodes.map(n=>({...n}))}),i={...e};return this.cleanupNode(i),delete i.el,delete i._id,delete i.content,delete i.grid,t.addNode(i),t.getRow()<=this.maxRow?(e._willFitPos=p.copyPos({},i),!0):!1}changedPosConstrain(e,t){return t.w=t.w||e.w,t.h=t.h||e.h,e.x!==t.x||e.y!==t.y?!0:(e.maxW&&(t.w=Math.min(t.w,e.maxW)),e.maxH&&(t.h=Math.min(t.h,e.maxH)),e.minW&&(t.w=Math.max(t.w,e.minW)),e.minH&&(t.h=Math.max(t.h,e.minH)),e.w!==t.w||e.h!==t.h)}moveNode(e,t){var u,c;if(!e||!t)return!1;let i;t.pack===void 0&&!this.batchMode&&(i=t.pack=!0),typeof t.x!="number"&&(t.x=e.x),typeof t.y!="number"&&(t.y=e.y),typeof t.w!="number"&&(t.w=e.w),typeof t.h!="number"&&(t.h=e.h);const n=e.w!==t.w||e.h!==t.h,r=p.copyPos({},e,!0);if(p.copyPos(r,t),this.nodeBoundFix(r,n),p.copyPos(t,r),!t.forceCollide&&p.samePos(e,t))return!1;const o=p.copyPos({},e),l=this.collideAll(e,r,t.skip);let a=!0;if(l.length){const h=e._moving&&!t.nested;let m=h?this.directionCollideCoverage(e,t,l):l[0];if(h&&m&&((c=(u=e.grid)==null?void 0:u.opts)!=null&&c.subGridDynamic)&&!e.grid._isTemp){const T=p.areaIntercept(t.rect,m._rect),N=p.area(t.rect),H=p.area(m._rect);T/(N<H?N:H)>.8&&(m.grid.makeSubGrid(m.el,void 0,e),m=void 0)}m?a=!this._fixCollisions(e,r,m,t):(a=!1,i&&delete t.pack)}return a&&!p.samePos(e,r)&&(e._dirty=!0,p.copyPos(e,r)),t.pack&&this._packNodes()._notify(),!p.samePos(e,o)}getRow(){return this.nodes.reduce((e,t)=>Math.max(e,t.y+t.h),0)}beginUpdate(e){return e._updating||(e._updating=!0,delete e._skipDown,this.batchMode||this.saveInitial()),this}endUpdate(){const e=this.nodes.find(t=>t._updating);return e&&(delete e._updating,delete e._skipDown),this}save(e=!0,t,i){var l;const n=((l=this._layouts)==null?void 0:l.length)||0;let r;n&&(i?i!==this.column&&(r=this._layouts[i]):this.column!==n-1&&(r=this._layouts[n-1]));const o=[];return this.sortNodes(),this.nodes.forEach(a=>{const u=r==null?void 0:r.find(h=>h._id===a._id),c={...a,...u||{}};p.removeInternalForSave(c,!e),t&&t(a,c),o.push(c)}),o}layoutsNodesChange(e){return!this._layouts||this._inColumnResize?this:(this._layouts.forEach((t,i)=>{if(!t||i===this.column)return this;if(i<this.column)this._layouts[i]=void 0;else{const n=i/this.column;e.forEach(r=>{if(!r._orig)return;const o=t.find(l=>l._id===r._id);o&&(o.y>=0&&r.y!==r._orig.y&&(o.y+=r.y-r._orig.y),r.x!==r._orig.x&&(o.x=Math.round(r.x*n)),r.w!==r._orig.w&&(o.w=Math.round(r.w*n)))})}}),this)}columnChanged(e,t,i="moveScale"){var l;if(!this.nodes.length||!t||e===t)return this;const n=i==="compact"||i==="list";n&&this.sortNodes(1),t<e&&this.cacheLayout(this.nodes,e),this.batchUpdate();let r=[],o=n?this.nodes:p.sort(this.nodes,-1);if(t>e&&this._layouts){const a=this._layouts[t]||[],u=this._layouts.length-1;!a.length&&e!==u&&((l=this._layouts[u])!=null&&l.length)&&(e=u,this._layouts[u].forEach(c=>{const h=o.find(m=>m._id===c._id);h&&(!n&&!c.autoPosition&&(h.x=c.x??h.x,h.y=c.y??h.y),h.w=c.w??h.w,(c.x==null||c.y===void 0)&&(h.autoPosition=!0))})),a.forEach(c=>{const h=o.findIndex(m=>m._id===c._id);if(h!==-1){const m=o[h];if(n){m.w=c.w;return}(c.autoPosition||isNaN(c.x)||isNaN(c.y))&&this.findEmptyPosition(c,r),c.autoPosition||(m.x=c.x??m.x,m.y=c.y??m.y,m.w=c.w??m.w,r.push(m)),o.splice(h,1)}})}if(n)this.compact(i,!1);else{if(o.length)if(typeof i=="function")i(t,e,r,o);else{const a=n||i==="none"?1:t/e,u=i==="move"||i==="moveScale",c=i==="scale"||i==="moveScale";o.forEach(h=>{h.x=t===1?0:u?Math.round(h.x*a):Math.min(h.x,t-1),h.w=t===1||e===1?1:c?Math.round(h.w*a)||1:Math.min(h.w,t),r.push(h)}),o=[]}r=p.sort(r,-1),this._inColumnResize=!0,this.nodes=[],r.forEach(a=>{this.addNode(a,!1),delete a._orig})}return this.nodes.forEach(a=>delete a._orig),this.batchUpdate(!1,!n),delete this._inColumnResize,this}cacheLayout(e,t,i=!1){const n=[];return e.forEach((r,o)=>{if(r._id===void 0){const l=r.id?this.nodes.find(a=>a.id===r.id):void 0;r._id=(l==null?void 0:l._id)??st._idSeq++}n[o]={x:r.x,y:r.y,w:r.w,_id:r._id}}),this._layouts=i?[]:this._layouts||[],this._layouts[t]=n,this}cacheOneLayout(e,t){e._id=e._id??st._idSeq++;const i={x:e.x,y:e.y,w:e.w,_id:e._id};(e.autoPosition||e.x===void 0)&&(delete i.x,delete i.y,e.autoPosition&&(i.autoPosition=!0)),this._layouts=this._layouts||[],this._layouts[t]=this._layouts[t]||[];const n=this.findCacheLayout(e,t);return n===-1?this._layouts[t].push(i):this._layouts[t][n]=i,this}findCacheLayout(e,t){var i,n;return((n=(i=this._layouts)==null?void 0:i[t])==null?void 0:n.findIndex(r=>r._id===e._id))??-1}removeNodeFromLayoutCache(e){if(this._layouts)for(let t=0;t<this._layouts.length;t++){const i=this.findCacheLayout(e,t);i!==-1&&this._layouts[t].splice(i,1)}}cleanupNode(e){for(const t in e)t[0]==="_"&&t!=="_id"&&delete e[t];return this}}st._idSeq=0;const Te={alwaysShowResizeHandle:"mobile",animate:!0,auto:!0,cellHeight:"auto",cellHeightThrottle:100,cellHeightUnit:"px",column:12,draggable:{handle:".grid-stack-item-content",appendTo:"body",scroll:!0},handle:".grid-stack-item-content",itemClass:"grid-stack-item",margin:10,marginUnit:"px",maxRow:0,minRow:0,placeholderClass:"grid-stack-placeholder",placeholderText:"",removableOptions:{accept:"grid-stack-item",decline:"grid-stack-non-removable"},resizable:{handles:"se"},rtl:"auto"};class F{}const Pe=typeof window<"u"&&typeof document<"u"&&("ontouchstart"in document||"ontouchstart"in window||window.DocumentTouch&&document instanceof window.DocumentTouch||navigator.maxTouchPoints>0||navigator.msMaxTouchPoints>0);class Ue{}function Cs(s,e){s.touches.length>1||(s.cancelable&&s.preventDefault(),p.simulateMouseEvent(s.changedTouches[0],e))}function wr(s,e){s.cancelable&&s.preventDefault(),p.simulateMouseEvent(s,e)}function Rs(s){Ue.touchHandled||(Ue.touchHandled=!0,Cs(s,"mousedown"))}function Ts(s){Ue.touchHandled&&Cs(s,"mousemove")}function Ss(s){if(!Ue.touchHandled)return;Ue.pointerLeaveTimeout&&(window.clearTimeout(Ue.pointerLeaveTimeout),delete Ue.pointerLeaveTimeout);const e=!!F.dragElement;Cs(s,"mouseup"),e||Cs(s,"click"),Ue.touchHandled=!1}function ks(s){s.pointerType!=="mouse"&&s.target.releasePointerCapture(s.pointerId)}function fn(s){F.dragElement&&s.pointerType!=="mouse"&&wr(s,"mouseenter")}function gn(s){F.dragElement&&s.pointerType!=="mouse"&&(Ue.pointerLeaveTimeout=window.setTimeout(()=>{delete Ue.pointerLeaveTimeout,wr(s,"mouseleave")},10))}class Fs{constructor(e,t,i){this.host=e,this.dir=t,this.option=i,this.moving=!1,this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._keyEvent=this._keyEvent.bind(this),this._init()}_init(){const e=this.el=document.createElement("div");return e.classList.add("ui-resizable-handle"),e.classList.add(`${Fs.prefix}${this.dir}`),e.style.zIndex="100",e.style.userSelect="none",this.host.appendChild(this.el),this.el.addEventListener("mousedown",this._mouseDown),Pe&&(this.el.addEventListener("touchstart",Rs),this.el.addEventListener("pointerdown",ks)),this}destroy(){return this.moving&&this._mouseUp(this.mouseDownEvent),this.el.removeEventListener("mousedown",this._mouseDown),Pe&&(this.el.removeEventListener("touchstart",Rs),this.el.removeEventListener("pointerdown",ks)),this.host.removeChild(this.el),delete this.el,delete this.host,this}_mouseDown(e){this.mouseDownEvent=e,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),Pe&&(this.el.addEventListener("touchmove",Ts),this.el.addEventListener("touchend",Ss)),e.stopPropagation(),e.preventDefault()}_mouseMove(e){const t=this.mouseDownEvent;this.moving?this._triggerEvent("move",e):Math.abs(e.x-t.x)+Math.abs(e.y-t.y)>2&&(this.moving=!0,this._triggerEvent("start",this.mouseDownEvent),this._triggerEvent("move",e),document.addEventListener("keydown",this._keyEvent)),e.stopPropagation()}_mouseUp(e){this.moving&&(this._triggerEvent("stop",e),document.removeEventListener("keydown",this._keyEvent)),document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),Pe&&(this.el.removeEventListener("touchmove",Ts),this.el.removeEventListener("touchend",Ss)),delete this.moving,delete this.mouseDownEvent,e.stopPropagation(),e.preventDefault()}_keyEvent(e){var t,i;e.key==="Escape"&&((i=(t=this.host.gridstackNode)==null?void 0:t.grid)==null||i.engine.restoreInitial(),this._mouseUp(this.mouseDownEvent))}_triggerEvent(e,t){return this.option[e]&&this.option[e](t),this}}Fs.prefix="ui-resizable-";class Ni{constructor(){this._eventRegister={}}get disabled(){return this._disabled}on(e,t){this._eventRegister[e]=t}off(e){delete this._eventRegister[e]}enable(){this._disabled=!1}disable(){this._disabled=!0}destroy(){delete this._eventRegister}triggerEvent(e,t){if(!this.disabled&&this._eventRegister&&this._eventRegister[e])return this._eventRegister[e](t)}}class Qt extends Ni{constructor(e,t={}){super(),this.el=e,this.option=t,this.rectScale={x:1,y:1},this._ui=()=>{const n=this.el.parentElement.getBoundingClientRect(),r={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},o=this.temporalRect||r;return{position:{left:(o.left-n.left)*this.rectScale.x,top:(o.top-n.top)*this.rectScale.y},size:{width:o.width*this.rectScale.x,height:o.height*this.rectScale.y}}},this._mouseOver=this._mouseOver.bind(this),this._mouseOut=this._mouseOut.bind(this),this.enable(),this._setupAutoHide(this.option.autoHide),this._setupHandlers()}on(e,t){super.on(e,t)}off(e){super.off(e)}enable(){super.enable(),this.el.classList.remove("ui-resizable-disabled"),this._setupAutoHide(this.option.autoHide)}disable(){super.disable(),this.el.classList.add("ui-resizable-disabled"),this._setupAutoHide(!1)}destroy(){this._removeHandlers(),this._setupAutoHide(!1),delete this.el,super.destroy()}updateOption(e){const t=e.handles&&e.handles!==this.option.handles,i=e.autoHide&&e.autoHide!==this.option.autoHide;return Object.keys(e).forEach(n=>this.option[n]=e[n]),t&&(this._removeHandlers(),this._setupHandlers()),i&&this._setupAutoHide(this.option.autoHide),this}_setupAutoHide(e){return e?(this.el.classList.add("ui-resizable-autohide"),this.el.addEventListener("mouseover",this._mouseOver),this.el.addEventListener("mouseout",this._mouseOut)):(this.el.classList.remove("ui-resizable-autohide"),this.el.removeEventListener("mouseover",this._mouseOver),this.el.removeEventListener("mouseout",this._mouseOut),F.overResizeElement===this&&delete F.overResizeElement),this}_mouseOver(e){F.overResizeElement||F.dragElement||(F.overResizeElement=this,this.el.classList.remove("ui-resizable-autohide"))}_mouseOut(e){F.overResizeElement===this&&(delete F.overResizeElement,this.el.classList.add("ui-resizable-autohide"))}_setupHandlers(){return this.handlers=this.option.handles.split(",").map(e=>e.trim()).map(e=>new Fs(this.el,e,{start:t=>{this._resizeStart(t)},stop:t=>{this._resizeStop(t)},move:t=>{this._resizing(t,e)}})),this}_resizeStart(e){this.sizeToContent=p.shouldSizeToContent(this.el.gridstackNode,!0),this.originalRect=this.el.getBoundingClientRect(),this.scrollEl=p.getScrollElement(this.el),this.scrollY=this.scrollEl.scrollTop,this.scrolled=0,this.startEvent=e,this._setupHelper(),this._applyChange();const t=p.initEvent(e,{type:"resizestart",target:this.el});return this.option.start&&this.option.start(t,this._ui()),this.el.classList.add("ui-resizable-resizing"),this.triggerEvent("resizestart",t),this}_resizing(e,t){this.scrolled=this.scrollEl.scrollTop-this.scrollY,this.temporalRect=this._getChange(e,t),this._applyChange();const i=p.initEvent(e,{type:"resize",target:this.el});return this.option.resize&&this.option.resize(i,this._ui()),this.triggerEvent("resize",i),this}_resizeStop(e){const t=p.initEvent(e,{type:"resizestop",target:this.el});return this._cleanHelper(),this.option.stop&&this.option.stop(t),this.el.classList.remove("ui-resizable-resizing"),this.triggerEvent("resizestop",t),delete this.startEvent,delete this.originalRect,delete this.temporalRect,delete this.scrollY,delete this.scrolled,this}_setupHelper(){this.elOriginStyleVal=Qt._originStyleProp.map(i=>this.el.style[i]),this.parentOriginStylePosition=this.el.parentElement.style.position;const e=this.el.parentElement,t=p.getValuesFromTransformedElement(e);return this.rectScale={x:t.xScale,y:t.yScale},getComputedStyle(this.el.parentElement).position.match(/static/)&&(this.el.parentElement.style.position="relative"),this.el.style.position="absolute",this.el.style.opacity="0.8",this}_cleanHelper(){return Qt._originStyleProp.forEach((e,t)=>{this.el.style[e]=this.elOriginStyleVal[t]||null}),this.el.parentElement.style.position=this.parentOriginStylePosition||null,this}_getChange(e,t){const i=this.startEvent,n={width:this.originalRect.width,height:this.originalRect.height+this.scrolled,left:this.originalRect.left,top:this.originalRect.top-this.scrolled},r=e.clientX-i.clientX,o=this.sizeToContent?0:e.clientY-i.clientY;let l,a;t.indexOf("e")>-1?n.width+=r:t.indexOf("w")>-1&&(n.width-=r,n.left+=r,l=!0),t.indexOf("s")>-1?n.height+=o:t.indexOf("n")>-1&&(n.height-=o,n.top+=o,a=!0);const u=this._constrainSize(n.width,n.height,l,a);return Math.round(n.width)!==Math.round(u.width)&&(t.indexOf("w")>-1&&(n.left+=n.width-u.width),n.width=u.width),Math.round(n.height)!==Math.round(u.height)&&(t.indexOf("n")>-1&&(n.top+=n.height-u.height),n.height=u.height),n}_constrainSize(e,t,i,n){const r=this.option,o=(i?r.maxWidthMoveLeft:r.maxWidth)||Number.MAX_SAFE_INTEGER,l=r.minWidth/this.rectScale.x||e,a=(n?r.maxHeightMoveUp:r.maxHeight)||Number.MAX_SAFE_INTEGER,u=r.minHeight/this.rectScale.y||t,c=Math.min(o,Math.max(l,e)),h=Math.min(a,Math.max(u,t));return{width:c,height:h}}_applyChange(){let e={left:0,top:0,width:0,height:0};if(this.el.style.position==="absolute"){const t=this.el.parentElement,{left:i,top:n}=t.getBoundingClientRect();e={left:i,top:n,width:0,height:0}}return this.temporalRect?(Object.keys(this.temporalRect).forEach(t=>{const i=this.temporalRect[t],n=t==="width"||t==="left"?this.rectScale.x:t==="height"||t==="top"?this.rectScale.y:1;this.el.style[t]=(i-e[t])*n+"px"}),this):this}_removeHandlers(){return this.handlers.forEach(e=>e.destroy()),delete this.handlers,this}}Qt._originStyleProp=["width","height","position","left","top","opacity","zIndex"];const Yl='input,textarea,button,select,option,[contenteditable="true"],.ui-resizable-handle';class es extends Ni{constructor(e,t={}){var r;super(),this.el=e,this.option=t,this.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0};const i=(r=t==null?void 0:t.handle)==null?void 0:r.substring(1),n=e.gridstackNode;this.dragEls=!i||e.classList.contains(i)?[e]:n!=null&&n.subGrid?[e.querySelector(t.handle)||e]:Array.from(e.querySelectorAll(t.handle)),this.dragEls.length===0&&(this.dragEls=[e]),this._mouseDown=this._mouseDown.bind(this),this._mouseMove=this._mouseMove.bind(this),this._mouseUp=this._mouseUp.bind(this),this._keyEvent=this._keyEvent.bind(this),this.enable()}on(e,t){super.on(e,t)}off(e){super.off(e)}enable(){this.disabled!==!1&&(super.enable(),this.dragEls.forEach(e=>{e.addEventListener("mousedown",this._mouseDown),Pe&&(e.addEventListener("touchstart",Rs),e.addEventListener("pointerdown",ks))}),this.el.classList.remove("ui-draggable-disabled"))}disable(e=!1){this.disabled!==!0&&(super.disable(),this.dragEls.forEach(t=>{t.removeEventListener("mousedown",this._mouseDown),Pe&&(t.removeEventListener("touchstart",Rs),t.removeEventListener("pointerdown",ks))}),e||this.el.classList.add("ui-draggable-disabled"))}destroy(){this.dragTimeout&&window.clearTimeout(this.dragTimeout),delete this.dragTimeout,this.mouseDownEvent&&this._mouseUp(this.mouseDownEvent),this.disable(!0),delete this.el,delete this.helper,delete this.option,super.destroy()}updateOption(e){return Object.keys(e).forEach(t=>this.option[t]=e[t]),this}_mouseDown(e){if(!F.mouseHandled)return e.button!==0||!this.dragEls.find(t=>t===e.target)&&e.target.closest(Yl)||this.option.cancel&&e.target.closest(this.option.cancel)||(this.mouseDownEvent=e,delete this.dragging,delete F.dragElement,delete F.dropElement,document.addEventListener("mousemove",this._mouseMove,{capture:!0,passive:!0}),document.addEventListener("mouseup",this._mouseUp,!0),Pe&&(e.currentTarget.addEventListener("touchmove",Ts),e.currentTarget.addEventListener("touchend",Ss)),e.preventDefault(),document.activeElement&&document.activeElement.blur(),F.mouseHandled=!0),!0}_callDrag(e){if(!this.dragging)return;const t=p.initEvent(e,{target:this.el,type:"drag"});this.option.drag&&this.option.drag(t,this.ui()),this.triggerEvent("drag",t)}_mouseMove(e){var i;const t=this.mouseDownEvent;if(this.lastDrag=e,this.dragging)if(this._dragFollow(e),F.pauseDrag){const n=Number.isInteger(F.pauseDrag)?F.pauseDrag:100;this.dragTimeout&&window.clearTimeout(this.dragTimeout),this.dragTimeout=window.setTimeout(()=>this._callDrag(e),n)}else this._callDrag(e);else if(Math.abs(e.x-t.x)+Math.abs(e.y-t.y)>3){this.dragging=!0,F.dragElement=this;const n=(i=this.el.gridstackNode)==null?void 0:i.grid;n?F.dropElement=n.el.ddElement.ddDroppable:delete F.dropElement,this.helper=this._createHelper(),this._setupHelperContainmentStyle(),this.dragTransform=p.getValuesFromTransformedElement(this.helperContainment),this.dragOffset=this._getDragOffset(e,this.el,this.helperContainment),this._setupHelperStyle(e);const r=p.initEvent(e,{target:this.el,type:"dragstart"});this.option.start&&this.option.start(r,this.ui()),this.triggerEvent("dragstart",r),document.addEventListener("keydown",this._keyEvent)}return!0}_mouseUp(e){var t,i;if(document.removeEventListener("mousemove",this._mouseMove,!0),document.removeEventListener("mouseup",this._mouseUp,!0),Pe&&e.currentTarget&&(e.currentTarget.removeEventListener("touchmove",Ts,!0),e.currentTarget.removeEventListener("touchend",Ss,!0)),this.dragging){delete this.dragging,(t=this.el.gridstackNode)==null||delete t._origRotate,document.removeEventListener("keydown",this._keyEvent),((i=F.dropElement)==null?void 0:i.el)===this.el.parentElement&&delete F.dropElement,this.helperContainment.style.position=this.parentOriginStylePosition||null,this.helper!==this.el&&this.helper.remove(),this._removeHelperStyle();const n=p.initEvent(e,{target:this.el,type:"dragstop"});this.option.stop&&this.option.stop(n),this.triggerEvent("dragstop",n),F.dropElement&&F.dropElement.drop(e)}delete this.helper,delete this.mouseDownEvent,delete F.dragElement,delete F.dropElement,delete F.mouseHandled,e.preventDefault()}_keyEvent(e){var n,r;const t=this.el.gridstackNode,i=(t==null?void 0:t.grid)||((r=(n=F.dropElement)==null?void 0:n.el)==null?void 0:r.gridstack);if(e.key==="Escape")t&&t._origRotate&&(t._orig=t._origRotate,delete t._origRotate),i==null||i.cancelDrag(),this._mouseUp(this.mouseDownEvent);else if(t&&i&&(e.key==="r"||e.key==="R")){if(!p.canBeRotated(t))return;t._origRotate=t._origRotate||{...t._orig},delete t._moving,i.setAnimation(!1).rotate(t.el,{top:-this.dragOffset.offsetTop,left:-this.dragOffset.offsetLeft}).setAnimation(),t._moving=!0,this.dragOffset=this._getDragOffset(this.lastDrag,t.el,this.helperContainment),this.helper.style.width=this.dragOffset.width+"px",this.helper.style.height=this.dragOffset.height+"px",p.swap(t._orig,"w","h"),delete t._rect,this._mouseMove(this.lastDrag)}}_createHelper(){let e=this.el;return typeof this.option.helper=="function"?e=this.option.helper(this.el):this.option.helper==="clone"&&(e=p.cloneNode(this.el)),e.parentElement||p.appendTo(e,this.option.appendTo==="parent"?this.el.parentElement:this.option.appendTo),this.dragElementOriginStyle=es.originStyleProp.map(t=>this.el.style[t]),e}_setupHelperStyle(e){var i,n;this.helper.classList.add("ui-draggable-dragging"),(n=(i=this.el.gridstackNode)==null?void 0:i.grid)==null||n.el.classList.add("grid-stack-dragging");const t=this.helper.style;return t.pointerEvents="none",t.width=this.dragOffset.width+"px",t.height=this.dragOffset.height+"px",t.willChange="left, top",t.position="fixed",this._dragFollow(e),t.transition="none",setTimeout(()=>{this.helper&&(t.transition=null)},0),this}_removeHelperStyle(){var t,i,n;this.helper.classList.remove("ui-draggable-dragging"),(i=(t=this.el.gridstackNode)==null?void 0:t.grid)==null||i.el.classList.remove("grid-stack-dragging");const e=(n=this.helper)==null?void 0:n.gridstackNode;if(!(e!=null&&e._isAboutToRemove)&&this.dragElementOriginStyle){const r=this.helper,o=this.dragElementOriginStyle.transition||null;r.style.transition=this.dragElementOriginStyle.transition="none",es.originStyleProp.forEach(l=>r.style[l]=this.dragElementOriginStyle[l]||null),setTimeout(()=>r.style.transition=o,50)}return delete this.dragElementOriginStyle,this}_dragFollow(e){const t={left:0,top:0},i=this.helper.style,n=this.dragOffset;i.left=(e.clientX+n.offsetLeft-t.left)*this.dragTransform.xScale+"px",i.top=(e.clientY+n.offsetTop-t.top)*this.dragTransform.yScale+"px"}_setupHelperContainmentStyle(){return this.helperContainment=this.helper.parentElement,this.helper.style.position!=="fixed"&&(this.parentOriginStylePosition=this.helperContainment.style.position,getComputedStyle(this.helperContainment).position.match(/static/)&&(this.helperContainment.style.position="relative")),this}_getDragOffset(e,t,i){let n=0,r=0;i&&(n=this.dragTransform.xOffset,r=this.dragTransform.yOffset);const o=t.getBoundingClientRect();return{left:o.left,top:o.top,offsetLeft:-e.clientX+o.left-n,offsetTop:-e.clientY+o.top-r,width:o.width*this.dragTransform.xScale,height:o.height*this.dragTransform.yScale}}ui(){const t=this.el.parentElement.getBoundingClientRect(),i=this.helper.getBoundingClientRect();return{position:{top:(i.top-t.top)*this.dragTransform.yScale,left:(i.left-t.left)*this.dragTransform.xScale}}}}es.originStyleProp=["width","height","transform","transform-origin","transition","pointerEvents","position","left","top","minWidth","willChange"];class Xl extends Ni{constructor(e,t={}){super(),this.el=e,this.option=t,this._mouseEnter=this._mouseEnter.bind(this),this._mouseLeave=this._mouseLeave.bind(this),this.enable(),this._setupAccept()}on(e,t){super.on(e,t)}off(e){super.off(e)}enable(){this.disabled!==!1&&(super.enable(),this.el.classList.add("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),this.el.addEventListener("mouseenter",this._mouseEnter),this.el.addEventListener("mouseleave",this._mouseLeave),Pe&&(this.el.addEventListener("pointerenter",fn),this.el.addEventListener("pointerleave",gn)))}disable(e=!1){this.disabled!==!0&&(super.disable(),this.el.classList.remove("ui-droppable"),e||this.el.classList.add("ui-droppable-disabled"),this.el.removeEventListener("mouseenter",this._mouseEnter),this.el.removeEventListener("mouseleave",this._mouseLeave),Pe&&(this.el.removeEventListener("pointerenter",fn),this.el.removeEventListener("pointerleave",gn)))}destroy(){this.disable(!0),this.el.classList.remove("ui-droppable"),this.el.classList.remove("ui-droppable-disabled"),super.destroy()}updateOption(e){return Object.keys(e).forEach(t=>this.option[t]=e[t]),this._setupAccept(),this}_mouseEnter(e){if(!F.dragElement||!this._canDrop(F.dragElement.el))return;e.preventDefault(),e.stopPropagation(),F.dropElement&&F.dropElement!==this&&F.dropElement._mouseLeave(e,!0),F.dropElement=this;const t=p.initEvent(e,{target:this.el,type:"dropover"});this.option.over&&this.option.over(t,this._ui(F.dragElement)),this.triggerEvent("dropover",t),this.el.classList.add("ui-droppable-over")}_mouseLeave(e,t=!1){var n;if(!F.dragElement||F.dropElement!==this)return;e.preventDefault(),e.stopPropagation();const i=p.initEvent(e,{target:this.el,type:"dropout"});if(this.option.out&&this.option.out(i,this._ui(F.dragElement)),this.triggerEvent("dropout",i),F.dropElement===this&&(delete F.dropElement,!t)){let r,o=this.el.parentElement;for(;!r&&o;)r=(n=o.ddElement)==null?void 0:n.ddDroppable,o=o.parentElement;r&&r._mouseEnter(e)}}drop(e){e.preventDefault();const t=p.initEvent(e,{target:this.el,type:"drop"});this.option.drop&&this.option.drop(t,this._ui(F.dragElement)),this.triggerEvent("drop",t)}_canDrop(e){return e&&(!this.accept||this.accept(e))}_setupAccept(){return this.option.accept?(typeof this.option.accept=="string"?this.accept=e=>e.classList.contains(this.option.accept)||e.matches(this.option.accept):this.accept=this.option.accept,this):this}_ui(e){return{draggable:e.el,...e.ui()}}}class Oi{static init(e){return e.ddElement||(e.ddElement=new Oi(e)),e.ddElement}constructor(e){this.el=e}on(e,t){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(e)>-1?this.ddDraggable.on(e,t):this.ddDroppable&&["drop","dropover","dropout"].indexOf(e)>-1?this.ddDroppable.on(e,t):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(e)>-1&&this.ddResizable.on(e,t),this}off(e){return this.ddDraggable&&["drag","dragstart","dragstop"].indexOf(e)>-1?this.ddDraggable.off(e):this.ddDroppable&&["drop","dropover","dropout"].indexOf(e)>-1?this.ddDroppable.off(e):this.ddResizable&&["resizestart","resize","resizestop"].indexOf(e)>-1&&this.ddResizable.off(e),this}setupDraggable(e){return this.ddDraggable?this.ddDraggable.updateOption(e):this.ddDraggable=new es(this.el,e),this}cleanDraggable(){return this.ddDraggable&&(this.ddDraggable.destroy(),delete this.ddDraggable),this}setupResizable(e){return this.ddResizable?this.ddResizable.updateOption(e):this.ddResizable=new Qt(this.el,e),this}cleanResizable(){return this.ddResizable&&(this.ddResizable.destroy(),delete this.ddResizable),this}setupDroppable(e){return this.ddDroppable?this.ddDroppable.updateOption(e):this.ddDroppable=new Xl(this.el,e),this}cleanDroppable(){return this.ddDroppable&&(this.ddDroppable.destroy(),delete this.ddDroppable),this}}class Jl{resizable(e,t,i,n){return this._getDDElements(e,t).forEach(r=>{if(t==="disable"||t==="enable")r.ddResizable&&r.ddResizable[t]();else if(t==="destroy")r.ddResizable&&r.cleanResizable();else if(t==="option")r.setupResizable({[i]:n});else{const l=r.el.gridstackNode.grid;let a=r.el.getAttribute("gs-resize-handles")||l.opts.resizable.handles||"e,s,se";a==="all"&&(a="n,e,s,w,se,sw,ne,nw");const u=!l.opts.alwaysShowResizeHandle;r.setupResizable({...l.opts.resizable,handles:a,autoHide:u,start:t.start,stop:t.stop,resize:t.resize})}}),this}draggable(e,t,i,n){return this._getDDElements(e,t).forEach(r=>{if(t==="disable"||t==="enable")r.ddDraggable&&r.ddDraggable[t]();else if(t==="destroy")r.ddDraggable&&r.cleanDraggable();else if(t==="option")r.setupDraggable({[i]:n});else{const o=r.el.gridstackNode.grid;r.setupDraggable({...o.opts.draggable,start:t.start,stop:t.stop,drag:t.drag})}}),this}dragIn(e,t){return this._getDDElements(e).forEach(i=>i.setupDraggable(t)),this}droppable(e,t,i,n){return typeof t.accept=="function"&&!t._accept&&(t._accept=t.accept,t.accept=r=>t._accept(r)),this._getDDElements(e,t).forEach(r=>{t==="disable"||t==="enable"?r.ddDroppable&&r.ddDroppable[t]():t==="destroy"?r.ddDroppable&&r.cleanDroppable():t==="option"?r.setupDroppable({[i]:n}):r.setupDroppable(t)}),this}isDroppable(e){var t;return!!((t=e==null?void 0:e.ddElement)!=null&&t.ddDroppable&&!e.ddElement.ddDroppable.disabled)}isDraggable(e){var t;return!!((t=e==null?void 0:e.ddElement)!=null&&t.ddDraggable&&!e.ddElement.ddDraggable.disabled)}isResizable(e){var t;return!!((t=e==null?void 0:e.ddElement)!=null&&t.ddResizable&&!e.ddElement.ddResizable.disabled)}on(e,t,i){return this._getDDElements(e).forEach(n=>n.on(t,r=>{i(r,F.dragElement?F.dragElement.el:r.target,F.dragElement?F.dragElement.helper:null)})),this}off(e,t){return this._getDDElements(e).forEach(i=>i.off(t)),this}_getDDElements(e,t){const i=e.gridstack||t!=="destroy"&&t!=="disable",n=p.getElements(e);return n.length?n.map(o=>o.ddElement||(i?Oi.init(o):null)).filter(o=>o):[]}}/*!
 * GridStack 12.3.2
 * https://gridstackjs.com/
 *
 * Copyright (c) 2021-2025  Alain Dumesny
 * see root license https://github.com/gridstack/gridstack.js/tree/master/LICENSE
 */const ge=new Jl;class L{static init(e={},t=".grid-stack"){if(typeof document>"u")return null;const i=L.getGridElement(t);return i?(i.gridstack||(i.gridstack=new L(i,p.cloneDeep(e))),i.gridstack):(console.error(typeof t=="string"?'GridStack.initAll() no grid was found with selector "'+t+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`:"GridStack.init() no grid element was passed."),null)}static initAll(e={},t=".grid-stack"){const i=[];return typeof document>"u"||(L.getGridElements(t).forEach(n=>{n.gridstack||(n.gridstack=new L(n,p.cloneDeep(e))),i.push(n.gridstack)}),i.length===0&&console.error('GridStack.initAll() no grid was found with selector "'+t+`" - element missing or wrong selector ?
Note: ".grid-stack" is required for proper CSS styling and drag/drop, and is the default selector.`)),i}static addGrid(e,t={}){if(!e)return null;let i=e;if(i.gridstack){const o=i.gridstack;return t&&(o.opts={...o.opts,...t}),t.children!==void 0&&o.load(t.children),o}return(!e.classList.contains("grid-stack")||L.addRemoveCB)&&(L.addRemoveCB?i=L.addRemoveCB(e,t,!0,!0):i=p.createDiv(["grid-stack",t.class],e)),L.init(t,i)}static registerEngine(e){L.engineClass=e}get placeholder(){if(!this._placeholder){this._placeholder=p.createDiv([this.opts.placeholderClass,Te.itemClass,this.opts.itemClass]);const e=p.createDiv(["placeholder-content"],this._placeholder);this.opts.placeholderText&&(e.textContent=this.opts.placeholderText)}return this._placeholder}constructor(e,t={}){var u;this.el=e,this.opts=t,this.animationDelay=310,this._gsEventHandler={},this._extraDragRow=0,this.dragTransform={xScale:1,yScale:1,xOffset:0,yOffset:0},e.gridstack=this,this.opts=t=t||{},e.classList.contains("grid-stack")||this.el.classList.add("grid-stack"),t.row&&(t.minRow=t.maxRow=t.row,delete t.row);const i=p.toNumber(e.getAttribute("gs-row"));t.column==="auto"&&delete t.column,t.alwaysShowResizeHandle!==void 0&&(t._alwaysShowResizeHandle=t.alwaysShowResizeHandle);const n=t.columnOpts;if(n){const c=n.breakpoints;!n.columnWidth&&!(c!=null&&c.length)?delete t.columnOpts:(n.columnMax=n.columnMax||12,(c==null?void 0:c.length)>1&&c.sort((h,m)=>(m.w||0)-(h.w||0)))}const r={...p.cloneDeep(Te),column:p.toNumber(e.getAttribute("gs-column"))||Te.column,minRow:i||p.toNumber(e.getAttribute("gs-min-row"))||Te.minRow,maxRow:i||p.toNumber(e.getAttribute("gs-max-row"))||Te.maxRow,staticGrid:p.toBool(e.getAttribute("gs-static"))||Te.staticGrid,sizeToContent:p.toBool(e.getAttribute("gs-size-to-content"))||void 0,draggable:{handle:(t.handleClass?"."+t.handleClass:t.handle?t.handle:"")||Te.draggable.handle},removableOptions:{accept:t.itemClass||Te.removableOptions.accept,decline:Te.removableOptions.decline}};e.getAttribute("gs-animate")&&(r.animate=p.toBool(e.getAttribute("gs-animate"))),t=p.defaults(t,r),this._initMargin(),this.checkDynamicColumn(),this._updateColumnVar(t),t.rtl==="auto"&&(t.rtl=e.style.direction==="rtl"),t.rtl&&this.el.classList.add("grid-stack-rtl");const o=this.el.closest("."+Te.itemClass),l=o==null?void 0:o.gridstackNode;if(l&&(l.subGrid=this,this.parentGridNode=l,this.el.classList.add("grid-stack-nested"),l.el.classList.add("grid-stack-sub-grid")),this._isAutoCellHeight=t.cellHeight==="auto",this._isAutoCellHeight||t.cellHeight==="initial")this.cellHeight(void 0);else{typeof t.cellHeight=="number"&&t.cellHeightUnit&&t.cellHeightUnit!==Te.cellHeightUnit&&(t.cellHeight=t.cellHeight+t.cellHeightUnit,delete t.cellHeightUnit);const c=t.cellHeight;delete t.cellHeight,this.cellHeight(c)}t.alwaysShowResizeHandle==="mobile"&&(t.alwaysShowResizeHandle=Pe),this._setStaticClass();const a=t.engineClass||L.engineClass||st;if(this.engine=new a({column:this.getColumn(),float:t.float,maxRow:t.maxRow,onChange:c=>{c.forEach(h=>{const m=h.el;m&&(h._removeDOM?(m&&m.remove(),delete h._removeDOM):this._writePosAttr(m,h))}),this._updateContainerHeight()}}),t.auto&&(this.batchUpdate(),this.engine._loading=!0,this.getGridItems().forEach(c=>this._prepareElement(c)),delete this.engine._loading,this.batchUpdate(!1)),t.children){const c=t.children;delete t.children,c.length&&this.load(c)}this.setAnimation(),t.subGridDynamic&&!F.pauseDrag&&(F.pauseDrag=!0),((u=t.draggable)==null?void 0:u.pause)!==void 0&&(F.pauseDrag=t.draggable.pause),this._setupRemoveDrop(),this._setupAcceptWidget(),this._updateResizeEvent()}_updateColumnVar(e=this.opts){this.el.classList.add("gs-"+e.column),typeof e.column=="number"&&this.el.style.setProperty("--gs-column-width",`${100/e.column}%`)}addWidget(e){if(!e)return;if(typeof e=="string"){console.error("V11: GridStack.addWidget() does not support string anymore. see #2736");return}if(e.ELEMENT_NODE)return console.error("V11: GridStack.addWidget() does not support HTMLElement anymore. use makeWidget()"),this.makeWidget(e);let t,i=e;if(i.grid=this,i.el?t=i.el:L.addRemoveCB?t=L.addRemoveCB(this.el,e,!0,!1):t=this.createWidgetDivs(i),!t)return;if(i=t.gridstackNode,i&&t.parentElement===this.el&&this.engine.nodes.find(r=>r._id===i._id))return t;const n=this._readAttr(t);return p.defaults(e,n),this.engine.prepareNode(e),this.el.appendChild(t),this.makeWidget(t,e),t}createWidgetDivs(e){const t=p.createDiv(["grid-stack-item",this.opts.itemClass]),i=p.createDiv(["grid-stack-item-content"],t);return p.lazyLoad(e)?e.visibleObservable||(e.visibleObservable=new IntersectionObserver(([n])=>{var r,o;n.isIntersecting&&((r=e.visibleObservable)==null||r.disconnect(),delete e.visibleObservable,L.renderCB(i,e),(o=e.grid)==null||o.prepareDragDrop(e.el))}),window.setTimeout(()=>{var n;return(n=e.visibleObservable)==null?void 0:n.observe(t)})):L.renderCB(i,e),t}makeSubGrid(e,t,i,n=!0){var T,N,H;let r=e.gridstackNode;if(r||(r=this.makeWidget(e).gridstackNode),(T=r.subGrid)!=null&&T.el)return r.subGrid;let o,l=this;for(;l&&!o;)o=(N=l.opts)==null?void 0:N.subGridOpts,l=(H=l.parentGridNode)==null?void 0:H.grid;t=p.cloneDeep({...this.opts,id:void 0,children:void 0,column:"auto",columnOpts:void 0,layout:"list",subGridOpts:void 0,...o||{},...t||r.subGridOpts||{}}),r.subGridOpts=t;let a;t.column==="auto"&&(a=!0,t.column=Math.max(r.w||1,(i==null?void 0:i.w)||1),delete t.columnOpts);let u=r.el.querySelector(".grid-stack-item-content"),c,h;if(n&&(this._removeDD(r.el),h={...r,x:0,y:0},p.removeInternalForSave(h),delete h.subGridOpts,r.content&&(h.content=r.content,delete r.content),L.addRemoveCB?c=L.addRemoveCB(this.el,h,!0,!1):(c=p.createDiv(["grid-stack-item"]),c.appendChild(u),u=p.createDiv(["grid-stack-item-content"],r.el)),this.prepareDragDrop(r.el)),i){const X=a?t.column:r.w,U=r.h+i.h,V=r.el.style;V.transition="none",this.update(r.el,{w:X,h:U}),setTimeout(()=>V.transition=null)}const m=r.subGrid=L.addGrid(u,t);return i!=null&&i._moving&&(m._isTemp=!0),a&&(m._autoColumn=!0),n&&m.makeWidget(c,h),i&&(i._moving?window.setTimeout(()=>p.simulateMouseEvent(i._event,"mouseenter",m.el),0):m.makeWidget(r.el,r)),this.resizeToContentCheck(!1,r),m}removeAsSubGrid(e){var i;const t=(i=this.parentGridNode)==null?void 0:i.grid;t&&(t.batchUpdate(),t.removeWidget(this.parentGridNode.el,!0,!0),this.engine.nodes.forEach(n=>{n.x+=this.parentGridNode.x,n.y+=this.parentGridNode.y,t.makeWidget(n.el,n)}),t.batchUpdate(!1),this.parentGridNode&&delete this.parentGridNode.subGrid,delete this.parentGridNode,e&&window.setTimeout(()=>p.simulateMouseEvent(e._event,"mouseenter",t.el),0))}save(e=!0,t=!1,i=L.saveCB,n){const r=this.engine.save(e,i,n);if(r.forEach(o=>{var l;if(e&&o.el&&!o.subGrid&&!i){const a=o.el.querySelector(".grid-stack-item-content");o.content=a==null?void 0:a.innerHTML,o.content||delete o.content}else if(!e&&!i&&delete o.content,(l=o.subGrid)!=null&&l.el){const a=o.w||o.subGrid.getColumn(),u=o.subGrid.save(e,t,i,a);o.subGridOpts=t?u:{children:u},delete o.subGrid}delete o.el}),t){const o=p.cloneDeep(this.opts);o.marginBottom===o.marginTop&&o.marginRight===o.marginLeft&&o.marginTop===o.marginRight&&(o.margin=o.marginTop,delete o.marginTop,delete o.marginRight,delete o.marginBottom,delete o.marginLeft),o.rtl===(this.el.style.direction==="rtl")&&(o.rtl="auto"),this._isAutoCellHeight&&(o.cellHeight="auto"),this._autoColumn&&(o.column="auto");const l=o._alwaysShowResizeHandle;return delete o._alwaysShowResizeHandle,l!==void 0?o.alwaysShowResizeHandle=l:delete o.alwaysShowResizeHandle,p.removeInternalAndSame(o,Te),o.children=r,o}return r}load(e,t=L.addRemoveCB||!0){e=p.cloneDeep(e);const i=this.getColumn();e.forEach(c=>{c.w=c.w||c.minW||1,c.h=c.h||c.minH||1}),e=p.sort(e),this.engine.skipCacheUpdate=this._ignoreLayoutsNodeChange=!0;let n=0;e.forEach(c=>{n=Math.max(n,(c.x||0)+c.w)}),n>this.engine.defaultColumn&&(this.engine.defaultColumn=n),n>i&&(this.engine.nodes.length===0&&this.responseLayout?(this.engine.nodes=e,this.engine.columnChanged(n,i,this.responseLayout),e=this.engine.nodes,this.engine.nodes=[],delete this.responseLayout):this.engine.cacheLayout(e,n,!0));const r=L.addRemoveCB;typeof t=="function"&&(L.addRemoveCB=t);const o=[];this.batchUpdate();const l=!this.engine.nodes.length,a=l&&this.opts.animate;a&&this.setAnimation(!1),!l&&t&&[...this.engine.nodes].forEach(h=>{if(!h.id)return;p.find(e,h.id)||(L.addRemoveCB&&L.addRemoveCB(this.el,h,!1,!1),o.push(h),this.removeWidget(h.el,!0,!1))}),this.engine._loading=!0;const u=[];return this.engine.nodes=this.engine.nodes.filter(c=>p.find(e,c.id)?(u.push(c),!1):!0),e.forEach(c=>{var m;const h=p.find(u,c.id);if(h){if(p.shouldSizeToContent(h)&&(c.h=h.h),this.engine.nodeBoundFix(c),(c.autoPosition||c.x===void 0||c.y===void 0)&&(c.w=c.w||h.w,c.h=c.h||h.h,this.engine.findEmptyPosition(c)),this.engine.nodes.push(h),p.samePos(h,c)&&this.engine.nodes.length>1&&(this.moveNode(h,{...c,forceCollide:!0}),p.copyPos(c,h)),this.update(h.el,c),(m=c.subGridOpts)!=null&&m.children){const T=h.el.querySelector(".grid-stack");T&&T.gridstack&&T.gridstack.load(c.subGridOpts.children)}}else t&&this.addWidget(c)}),delete this.engine._loading,this.engine.removedNodes=o,this.batchUpdate(!1),delete this._ignoreLayoutsNodeChange,delete this.engine.skipCacheUpdate,r?L.addRemoveCB=r:delete L.addRemoveCB,a&&this.setAnimation(!0,!0),this}batchUpdate(e=!0){return this.engine.batchUpdate(e),e||(this._updateContainerHeight(),this._triggerRemoveEvent(),this._triggerAddEvent(),this._triggerChangeEvent()),this}getCellHeight(e=!1){if(this.opts.cellHeight&&this.opts.cellHeight!=="auto"&&(!e||!this.opts.cellHeightUnit||this.opts.cellHeightUnit==="px"))return this.opts.cellHeight;if(this.opts.cellHeightUnit==="rem")return this.opts.cellHeight*parseFloat(getComputedStyle(document.documentElement).fontSize);if(this.opts.cellHeightUnit==="em")return this.opts.cellHeight*parseFloat(getComputedStyle(this.el).fontSize);if(this.opts.cellHeightUnit==="cm")return this.opts.cellHeight*(96/2.54);if(this.opts.cellHeightUnit==="mm")return this.opts.cellHeight*(96/2.54)/10;const t=this.el.querySelector("."+this.opts.itemClass);if(t){const n=p.toNumber(t.getAttribute("gs-h"))||1;return Math.round(t.offsetHeight/n)}const i=parseInt(this.el.getAttribute("gs-current-row"));return i?Math.round(this.el.getBoundingClientRect().height/i):this.opts.cellHeight}cellHeight(e){if(e!==void 0&&this._isAutoCellHeight!==(e==="auto")&&(this._isAutoCellHeight=e==="auto",this._updateResizeEvent()),(e==="initial"||e==="auto")&&(e=void 0),e===void 0){const i=-this.opts.marginRight-this.opts.marginLeft+this.opts.marginTop+this.opts.marginBottom;e=this.cellWidth()+i}const t=p.parseHeight(e);return this.opts.cellHeightUnit===t.unit&&this.opts.cellHeight===t.h?this:(this.opts.cellHeightUnit=t.unit,this.opts.cellHeight=t.h,this.el.style.setProperty("--gs-cell-height",`${this.opts.cellHeight}${this.opts.cellHeightUnit}`),this._updateContainerHeight(),this.resizeToContentCheck(),this)}cellWidth(){return this._widthOrContainer()/this.getColumn()}_widthOrContainer(e=!1){var t;return e&&((t=this.opts.columnOpts)!=null&&t.breakpointForWindow)?window.innerWidth:this.el.clientWidth||this.el.parentElement.clientWidth||window.innerWidth}checkDynamicColumn(){var r,o;const e=this.opts.columnOpts;if(!e||!e.columnWidth&&!((r=e.breakpoints)!=null&&r.length))return!1;const t=this.getColumn();let i=t;const n=this._widthOrContainer(!0);if(e.columnWidth)i=Math.min(Math.round(n/e.columnWidth)||1,e.columnMax);else{i=e.columnMax;let l=0;for(;l<e.breakpoints.length&&n<=e.breakpoints[l].w;)i=e.breakpoints[l++].c||t}if(i!==t){const l=(o=e.breakpoints)==null?void 0:o.find(a=>a.c===i);return this.column(i,(l==null?void 0:l.layout)||e.layout),!0}return!1}compact(e="compact",t=!0){return this.engine.compact(e,t),this._triggerChangeEvent(),this}column(e,t="moveScale"){if(!e||e<1||this.opts.column===e)return this;const i=this.getColumn();return this.opts.column=e,this.engine?(this.engine.column=e,this.el.classList.remove("gs-"+i),this._updateColumnVar(),this.engine.columnChanged(i,e,t),this._isAutoCellHeight&&this.cellHeight(),this.resizeToContentCheck(!0),this._ignoreLayoutsNodeChange=!0,this._triggerChangeEvent(),delete this._ignoreLayoutsNodeChange,this):(this.responseLayout=t,this)}getColumn(){return this.opts.column}getGridItems(){return Array.from(this.el.children).filter(e=>e.matches("."+this.opts.itemClass)&&!e.matches("."+this.opts.placeholderClass))}isIgnoreChangeCB(){return this._ignoreLayoutsNodeChange}destroy(e=!0){var t;if(this.el)return this.offAll(),this._updateResizeEvent(!0),this.setStatic(!0,!1),this.setAnimation(!1),e?this.el.parentNode.removeChild(this.el):(this.removeAll(e),this.el.removeAttribute("gs-current-row")),this.parentGridNode&&delete this.parentGridNode.subGrid,delete this.parentGridNode,delete this.opts,(t=this._placeholder)==null||delete t.gridstackNode,delete this._placeholder,delete this.engine,delete this.el.gridstack,delete this.el,this}float(e){return this.opts.float!==e&&(this.opts.float=this.engine.float=e,this._triggerChangeEvent()),this}getFloat(){return this.engine.float}getCellFromPixel(e,t=!1){const i=this.el.getBoundingClientRect();let n;t?n={top:i.top+document.documentElement.scrollTop,left:i.left}:n={top:this.el.offsetTop,left:this.el.offsetLeft};const r=e.left-n.left,o=e.top-n.top,l=i.width/this.getColumn(),a=i.height/parseInt(this.el.getAttribute("gs-current-row"));return{x:Math.floor(r/l),y:Math.floor(o/a)}}getRow(){return Math.max(this.engine.getRow(),this.opts.minRow||0)}isAreaEmpty(e,t,i,n){return this.engine.isAreaEmpty(e,t,i,n)}makeWidget(e,t){const i=L.getElement(e);if(!i||i.gridstackNode)return i;i.parentElement||this.el.appendChild(i),this._prepareElement(i,!0,t);const n=i.gridstackNode;this._updateContainerHeight(),n.subGridOpts&&this.makeSubGrid(i,n.subGridOpts,void 0,!1);let r;return this.opts.column===1&&!this._ignoreLayoutsNodeChange&&(r=this._ignoreLayoutsNodeChange=!0),this._triggerAddEvent(),this._triggerChangeEvent(),r&&delete this._ignoreLayoutsNodeChange,i}on(e,t){return e.indexOf(" ")!==-1?(e.split(" ").forEach(n=>this.on(n,t)),this):(e==="change"||e==="added"||e==="removed"||e==="enable"||e==="disable"?(e==="enable"||e==="disable"?this._gsEventHandler[e]=n=>t(n):this._gsEventHandler[e]=n=>{n.detail&&t(n,n.detail)},this.el.addEventListener(e,this._gsEventHandler[e])):e==="drag"||e==="dragstart"||e==="dragstop"||e==="resizestart"||e==="resize"||e==="resizestop"||e==="dropped"||e==="resizecontent"?this._gsEventHandler[e]=t:console.error("GridStack.on("+e+") event not supported"),this)}off(e){return e.indexOf(" ")!==-1?(e.split(" ").forEach(i=>this.off(i)),this):((e==="change"||e==="added"||e==="removed"||e==="enable"||e==="disable")&&this._gsEventHandler[e]&&this.el.removeEventListener(e,this._gsEventHandler[e]),delete this._gsEventHandler[e],this)}offAll(){return Object.keys(this._gsEventHandler).forEach(e=>this.off(e)),this}removeWidget(e,t=!0,i=!0){return e?(L.getElements(e).forEach(n=>{if(n.parentElement&&n.parentElement!==this.el)return;let r=n.gridstackNode;r||(r=this.engine.nodes.find(o=>n===o.el)),r&&(t&&L.addRemoveCB&&L.addRemoveCB(this.el,r,!1,!1),delete n.gridstackNode,this._removeDD(n),this.engine.removeNode(r,t,i),t&&n.parentElement&&n.remove())}),i&&(this._triggerRemoveEvent(),this._triggerChangeEvent()),this):(console.error("Error: GridStack.removeWidget(undefined) called"),this)}removeAll(e=!0,t=!0){return this.engine.nodes.forEach(i=>{e&&L.addRemoveCB&&L.addRemoveCB(this.el,i,!1,!1),delete i.el.gridstackNode,this.opts.staticGrid||this._removeDD(i.el)}),this.engine.removeAll(e,t),t&&this._triggerRemoveEvent(),this}setAnimation(e=this.opts.animate,t){return t?setTimeout(()=>{this.opts&&this.setAnimation(e)}):e?this.el.classList.add("grid-stack-animate"):this.el.classList.remove("grid-stack-animate"),this.opts.animate=e,this}hasAnimationCSS(){return this.el.classList.contains("grid-stack-animate")}setStatic(e,t=!0,i=!0){return!!this.opts.staticGrid===e?this:(e?this.opts.staticGrid=!0:delete this.opts.staticGrid,this._setupRemoveDrop(),this._setupAcceptWidget(),this.engine.nodes.forEach(n=>{this.prepareDragDrop(n.el),n.subGrid&&i&&n.subGrid.setStatic(e,t,i)}),t&&this._setStaticClass(),this)}updateOptions(e){var i;const t=this.opts;return e===t?this:(e.acceptWidgets!==void 0&&(t.acceptWidgets=e.acceptWidgets,this._setupAcceptWidget()),e.animate!==void 0&&this.setAnimation(e.animate),e.cellHeight&&this.cellHeight(e.cellHeight),e.class!==void 0&&e.class!==t.class&&(t.class&&this.el.classList.remove(t.class),e.class&&this.el.classList.add(e.class)),e.columnOpts?(this.opts.columnOpts=e.columnOpts,this.checkDynamicColumn()):e.columnOpts===null&&this.opts.columnOpts?(delete this.opts.columnOpts,this._updateResizeEvent()):typeof e.column=="number"&&this.column(e.column),e.margin!==void 0&&this.margin(e.margin),e.staticGrid!==void 0&&this.setStatic(e.staticGrid),e.disableDrag!==void 0&&!e.staticGrid&&this.enableMove(!e.disableDrag),e.disableResize!==void 0&&!e.staticGrid&&this.enableResize(!e.disableResize),e.float!==void 0&&this.float(e.float),e.row!==void 0?(t.minRow=t.maxRow=t.row=e.row,this._updateContainerHeight()):(e.minRow!==void 0&&(t.minRow=e.minRow,this._updateContainerHeight()),e.maxRow!==void 0&&(t.maxRow=e.maxRow)),(i=e.children)!=null&&i.length&&this.load(e.children),this)}update(e,t){return L.getElements(e).forEach(i=>{var c;const n=i==null?void 0:i.gridstackNode;if(!n)return;const r={...p.copyPos({},n),...p.cloneDeep(t)};this.engine.nodeBoundFix(r),delete r.autoPosition;const o=["x","y","w","h"];let l;if(o.some(h=>r[h]!==void 0&&r[h]!==n[h])&&(l={},o.forEach(h=>{l[h]=r[h]!==void 0?r[h]:n[h],delete r[h]})),!l&&(r.minW||r.minH||r.maxW||r.maxH)&&(l={}),r.content!==void 0){const h=i.querySelector(".grid-stack-item-content");h&&h.textContent!==r.content&&(n.content=r.content,L.renderCB(h,r),(c=n.subGrid)!=null&&c.el&&(h.appendChild(n.subGrid.el),n.subGrid._updateContainerHeight())),delete r.content}let a=!1,u=!1;for(const h in r)h[0]!=="_"&&n[h]!==r[h]&&(n[h]=r[h],a=!0,u=u||!this.opts.staticGrid&&(h==="noResize"||h==="noMove"||h==="locked"));if(p.sanitizeMinMax(n),l){const h=l.w!==void 0&&l.w!==n.w;this.moveNode(n,l),h&&n.subGrid?n.subGrid.onResize(this.hasAnimationCSS()?n.w:void 0):this.resizeToContentCheck(h,n),delete n._orig}(l||a)&&this._writeAttr(i,n),u&&this.prepareDragDrop(n.el),L.updateCB&&L.updateCB(n)}),this}moveNode(e,t){const i=e._updating;i||this.engine.cleanNodes().beginUpdate(e),this.engine.moveNode(e,t),this._updateContainerHeight(),i||(this._triggerChangeEvent(),this.engine.endUpdate())}resizeToContent(e){var m,T;if(!e||(e.classList.remove("size-to-content-max"),!e.clientHeight))return;const t=e.gridstackNode;if(!t)return;const i=t.grid;if(!i||e.parentElement!==i.el)return;const n=i.getCellHeight(!0);if(!n)return;let r=t.h?t.h*n:e.clientHeight,o;if(t.resizeToContentParent&&(o=e.querySelector(t.resizeToContentParent)),o||(o=e.querySelector(L.resizeToContentParent)),!o)return;const l=e.clientHeight-o.clientHeight,a=t.h?t.h*n-l:o.clientHeight;let u;if(t.subGrid){u=t.subGrid.getRow()*t.subGrid.getCellHeight(!0);const N=t.subGrid.el.getBoundingClientRect(),H=e.getBoundingClientRect();u+=N.top-H.top}else{if((T=(m=t.subGridOpts)==null?void 0:m.children)!=null&&T.length)return;{const N=o.firstElementChild;if(!N){console.error(`Error: GridStack.resizeToContent() widget id:${t.id} '${L.resizeToContentParent}'.firstElementChild is null, make sure to have a div like container. Skipping sizing.`);return}u=N.getBoundingClientRect().height||a}}if(a===u)return;r+=u-a;let c=Math.ceil(r/n);const h=Number.isInteger(t.sizeToContent)?t.sizeToContent:0;h&&c>h&&(c=h,e.classList.add("size-to-content-max")),t.minH&&c<t.minH?c=t.minH:t.maxH&&c>t.maxH&&(c=t.maxH),c!==t.h&&(i._ignoreLayoutsNodeChange=!0,i.moveNode(t,{h:c}),delete i._ignoreLayoutsNodeChange)}resizeToContentCBCheck(e){L.resizeToContentCB?L.resizeToContentCB(e):this.resizeToContent(e)}rotate(e,t){return L.getElements(e).forEach(i=>{const n=i.gridstackNode;if(!p.canBeRotated(n))return;const r={w:n.h,h:n.w,minH:n.minW,minW:n.minH,maxH:n.maxW,maxW:n.maxH};if(t){const l=t.left>0?Math.floor(t.left/this.cellWidth()):0,a=t.top>0?Math.floor(t.top/this.opts.cellHeight):0;r.x=n.x+l-(n.h-(a+1)),r.y=n.y+a-l}Object.keys(r).forEach(l=>{r[l]===void 0&&delete r[l]});const o=n._orig;this.update(i,r),n._orig=o}),this}margin(e){if(!(typeof e=="string"&&e.split(" ").length>1)){const i=p.parseHeight(e);if(this.opts.marginUnit===i.unit&&this.opts.margin===i.h)return}return this.opts.margin=e,this.opts.marginTop=this.opts.marginBottom=this.opts.marginLeft=this.opts.marginRight=void 0,this._initMargin(),this}getMargin(){return this.opts.margin}willItFit(e){if(arguments.length>1){console.warn("gridstack.ts: `willItFit(x,y,w,h,autoPosition)` is deprecated. Use `willItFit({x, y,...})`. It will be removed soon");const t=arguments;let i=0,n={x:t[i++],y:t[i++],w:t[i++],h:t[i++],autoPosition:t[i++]};return this.willItFit(n)}return this.engine.willItFit(e)}_triggerChangeEvent(){if(this.engine.batchMode)return this;const e=this.engine.getDirtyNodes(!0);return e&&e.length&&(this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(e),this._triggerEvent("change",e)),this.engine.saveInitial(),this}_triggerAddEvent(){var e;if(this.engine.batchMode)return this;if((e=this.engine.addedNodes)!=null&&e.length){this._ignoreLayoutsNodeChange||this.engine.layoutsNodesChange(this.engine.addedNodes),this.engine.addedNodes.forEach(i=>{delete i._dirty});const t=[...this.engine.addedNodes];this.engine.addedNodes=[],this._triggerEvent("added",t)}return this}_triggerRemoveEvent(){var e;if(this.engine.batchMode)return this;if((e=this.engine.removedNodes)!=null&&e.length){const t=[...this.engine.removedNodes];this.engine.removedNodes=[],this._triggerEvent("removed",t)}return this}_triggerEvent(e,t){const i=t?new CustomEvent(e,{bubbles:!1,detail:t}):new Event(e);let n=this;for(;n.parentGridNode;)n=n.parentGridNode.grid;return n.el.dispatchEvent(i),this}_updateContainerHeight(){if(!this.engine||this.engine.batchMode)return this;const e=this.parentGridNode;let t=this.getRow()+this._extraDragRow;const i=this.opts.cellHeight,n=this.opts.cellHeightUnit;if(!i)return this;if(!e&&!this.opts.minRow){const r=p.parseHeight(getComputedStyle(this.el).minHeight);if(r.h>0&&r.unit===n){const o=Math.floor(r.h/i);t<o&&(t=o)}}return this.el.setAttribute("gs-current-row",String(t)),this.el.style.removeProperty("min-height"),this.el.style.removeProperty("height"),t&&(this.el.style[e?"minHeight":"height"]=t*i+n),e&&p.shouldSizeToContent(e)&&e.grid.resizeToContentCBCheck(e.el),this}_prepareElement(e,t=!1,i){i=i||this._readAttr(e),e.gridstackNode=i,i.el=e,i.grid=this,i=this.engine.addNode(i,t),this._writeAttr(e,i),e.classList.add(Te.itemClass,this.opts.itemClass);const n=p.shouldSizeToContent(i);return n?e.classList.add("size-to-content"):e.classList.remove("size-to-content"),n&&this.resizeToContentCheck(!1,i),p.lazyLoad(i)||this.prepareDragDrop(i.el),this}_writePosAttr(e,t){return(!t._moving&&!t._resizing||this._placeholder===e)&&(e.style.top=t.y?t.y===1?"var(--gs-cell-height)":`calc(${t.y} * var(--gs-cell-height))`:null,e.style.left=t.x?t.x===1?"var(--gs-column-width)":`calc(${t.x} * var(--gs-column-width))`:null,e.style.width=t.w>1?`calc(${t.w} * var(--gs-column-width))`:null,e.style.height=t.h>1?`calc(${t.h} * var(--gs-cell-height))`:null),t.x>0?e.setAttribute("gs-x",String(t.x)):e.removeAttribute("gs-x"),t.y>0?e.setAttribute("gs-y",String(t.y)):e.removeAttribute("gs-y"),t.w>1?e.setAttribute("gs-w",String(t.w)):e.removeAttribute("gs-w"),t.h>1?e.setAttribute("gs-h",String(t.h)):e.removeAttribute("gs-h"),this}_writeAttr(e,t){if(!t)return this;this._writePosAttr(e,t);const i={noResize:"gs-no-resize",noMove:"gs-no-move",locked:"gs-locked",id:"gs-id",sizeToContent:"gs-size-to-content"};for(const n in i)t[n]?e.setAttribute(i[n],String(t[n])):e.removeAttribute(i[n]);return this}_readAttr(e,t=!0){const i={};i.x=p.toNumber(e.getAttribute("gs-x")),i.y=p.toNumber(e.getAttribute("gs-y")),i.w=p.toNumber(e.getAttribute("gs-w")),i.h=p.toNumber(e.getAttribute("gs-h")),i.autoPosition=p.toBool(e.getAttribute("gs-auto-position")),i.noResize=p.toBool(e.getAttribute("gs-no-resize")),i.noMove=p.toBool(e.getAttribute("gs-no-move")),i.locked=p.toBool(e.getAttribute("gs-locked"));const n=e.getAttribute("gs-size-to-content");n&&(n==="true"||n==="false"?i.sizeToContent=p.toBool(n):i.sizeToContent=parseInt(n,10)),i.id=e.getAttribute("gs-id"),i.maxW=p.toNumber(e.getAttribute("gs-max-w")),i.minW=p.toNumber(e.getAttribute("gs-min-w")),i.maxH=p.toNumber(e.getAttribute("gs-max-h")),i.minH=p.toNumber(e.getAttribute("gs-min-h")),t&&(i.w===1&&e.removeAttribute("gs-w"),i.h===1&&e.removeAttribute("gs-h"),i.maxW&&e.removeAttribute("gs-max-w"),i.minW&&e.removeAttribute("gs-min-w"),i.maxH&&e.removeAttribute("gs-max-h"),i.minH&&e.removeAttribute("gs-min-h"));for(const r in i){if(!i.hasOwnProperty(r))return;!i[r]&&i[r]!==0&&r!=="sizeToContent"&&delete i[r]}return i}_setStaticClass(){const e=["grid-stack-static"];return this.opts.staticGrid?(this.el.classList.add(...e),this.el.setAttribute("gs-static","true")):(this.el.classList.remove(...e),this.el.removeAttribute("gs-static")),this}onResize(e=(t=>(t=this.el)==null?void 0:t.clientWidth)()){if(!e||this.prevWidth===e)return;this.prevWidth=e,this.batchUpdate();let i=!1;return this._autoColumn&&this.parentGridNode?this.opts.column!==this.parentGridNode.w&&(this.column(this.parentGridNode.w,this.opts.layout||"list"),i=!0):i=this.checkDynamicColumn(),this._isAutoCellHeight&&this.cellHeight(),this.engine.nodes.forEach(n=>{n.subGrid&&n.subGrid.onResize()}),this._skipInitialResize||this.resizeToContentCheck(i),delete this._skipInitialResize,this.batchUpdate(!1),this}resizeToContentCheck(e=!1,t=void 0){if(this.engine){if(e&&this.hasAnimationCSS())return setTimeout(()=>this.resizeToContentCheck(!1,t),this.animationDelay);if(t)p.shouldSizeToContent(t)&&this.resizeToContentCBCheck(t.el);else if(this.engine.nodes.some(i=>p.shouldSizeToContent(i))){const i=[...this.engine.nodes];this.batchUpdate(),i.forEach(n=>{p.shouldSizeToContent(n)&&this.resizeToContentCBCheck(n.el)}),this._ignoreLayoutsNodeChange=!0,this.batchUpdate(!1),this._ignoreLayoutsNodeChange=!1}this._gsEventHandler.resizecontent&&this._gsEventHandler.resizecontent(null,t?[t]:this.engine.nodes)}}_updateResizeEvent(e=!1){const t=!this.parentGridNode&&(this._isAutoCellHeight||this.opts.sizeToContent||this.opts.columnOpts||this.engine.nodes.find(i=>i.sizeToContent));return!e&&t&&!this.resizeObserver?(this._sizeThrottle=p.throttle(()=>this.onResize(),this.opts.cellHeightThrottle),this.resizeObserver=new ResizeObserver(()=>this._sizeThrottle()),this.resizeObserver.observe(this.el),this._skipInitialResize=!0):(e||!t)&&this.resizeObserver&&(this.resizeObserver.disconnect(),delete this.resizeObserver,delete this._sizeThrottle),this}static getElement(e=".grid-stack-item"){return p.getElement(e)}static getElements(e=".grid-stack-item"){return p.getElements(e)}static getGridElement(e){return L.getElement(e)}static getGridElements(e){return p.getElements(e)}_initMargin(){let e,t=0,i=[];typeof this.opts.margin=="string"&&(i=this.opts.margin.split(" ")),i.length===2?(this.opts.marginTop=this.opts.marginBottom=i[0],this.opts.marginLeft=this.opts.marginRight=i[1]):i.length===4?(this.opts.marginTop=i[0],this.opts.marginRight=i[1],this.opts.marginBottom=i[2],this.opts.marginLeft=i[3]):(e=p.parseHeight(this.opts.margin),this.opts.marginUnit=e.unit,t=this.opts.margin=e.h),["marginTop","marginRight","marginBottom","marginLeft"].forEach(o=>{this.opts[o]===void 0?this.opts[o]=t:(e=p.parseHeight(this.opts[o]),this.opts[o]=e.h,delete this.opts.margin)}),this.opts.marginUnit=e.unit,this.opts.marginTop===this.opts.marginBottom&&this.opts.marginLeft===this.opts.marginRight&&this.opts.marginTop===this.opts.marginRight&&(this.opts.margin=this.opts.marginTop);const r=this.el.style;return r.setProperty("--gs-item-margin-top",`${this.opts.marginTop}${this.opts.marginUnit}`),r.setProperty("--gs-item-margin-bottom",`${this.opts.marginBottom}${this.opts.marginUnit}`),r.setProperty("--gs-item-margin-right",`${this.opts.marginRight}${this.opts.marginUnit}`),r.setProperty("--gs-item-margin-left",`${this.opts.marginLeft}${this.opts.marginUnit}`),this}static getDD(){return ge}static setupDragIn(e,t,i,n=document){(t==null?void 0:t.pause)!==void 0&&(F.pauseDrag=t.pause),t={appendTo:"body",helper:"clone",...t||{}},(typeof e=="string"?p.getElements(e,n):e).forEach((o,l)=>{ge.isDraggable(o)||ge.dragIn(o,t),i!=null&&i[l]&&(o.gridstackNode=i[l])})}movable(e,t){return this.opts.staticGrid?this:(L.getElements(e).forEach(i=>{const n=i.gridstackNode;n&&(t?delete n.noMove:n.noMove=!0,this.prepareDragDrop(n.el))}),this)}resizable(e,t){return this.opts.staticGrid?this:(L.getElements(e).forEach(i=>{const n=i.gridstackNode;n&&(t?delete n.noResize:n.noResize=!0,this.prepareDragDrop(n.el))}),this)}disable(e=!0){if(!this.opts.staticGrid)return this.enableMove(!1,e),this.enableResize(!1,e),this._triggerEvent("disable"),this}enable(e=!0){if(!this.opts.staticGrid)return this.enableMove(!0,e),this.enableResize(!0,e),this._triggerEvent("enable"),this}enableMove(e,t=!0){return this.opts.staticGrid?this:(e?delete this.opts.disableDrag:this.opts.disableDrag=!0,this.engine.nodes.forEach(i=>{this.prepareDragDrop(i.el),i.subGrid&&t&&i.subGrid.enableMove(e,t)}),this)}enableResize(e,t=!0){return this.opts.staticGrid?this:(e?delete this.opts.disableResize:this.opts.disableResize=!0,this.engine.nodes.forEach(i=>{this.prepareDragDrop(i.el),i.subGrid&&t&&i.subGrid.enableResize(e,t)}),this)}cancelDrag(){var t;const e=(t=this._placeholder)==null?void 0:t.gridstackNode;e&&(e._isExternal?(e._isAboutToRemove=!0,this.engine.removeNode(e)):e._isAboutToRemove&&L._itemRemoving(e.el,!1),this.engine.restoreInitial())}_removeDD(e){return ge.draggable(e,"destroy").resizable(e,"destroy"),e.gridstackNode&&delete e.gridstackNode._initDD,delete e.ddElement,this}_setupAcceptWidget(){if(this.opts.staticGrid||!this.opts.acceptWidgets&&!this.opts.removable)return ge.droppable(this.el,"destroy"),this;let e,t;const i=(n,r,o)=>{var m;o=o||r;const l=o.gridstackNode;if(!l)return;if(!((m=l.grid)!=null&&m.el)){o.style.transform=`scale(${1/this.dragTransform.xScale},${1/this.dragTransform.yScale})`;const T=o.getBoundingClientRect();o.style.left=T.x+(this.dragTransform.xScale-1)*(n.clientX-T.x)/this.dragTransform.xScale+"px",o.style.top=T.y+(this.dragTransform.yScale-1)*(n.clientY-T.y)/this.dragTransform.yScale+"px",o.style.transformOrigin="0px 0px"}let{top:a,left:u}=o.getBoundingClientRect();const c=this.el.getBoundingClientRect();u-=c.left,a-=c.top;const h={position:{top:a*this.dragTransform.xScale,left:u*this.dragTransform.yScale}};if(l._temporaryRemoved){if(l.x=Math.max(0,Math.round(u/t)),l.y=Math.max(0,Math.round(a/e)),delete l.autoPosition,this.engine.nodeBoundFix(l),!this.engine.willItFit(l)){if(l.autoPosition=!0,!this.engine.willItFit(l)){ge.off(r,"drag");return}l._willFitPos&&(p.copyPos(l,l._willFitPos),delete l._willFitPos)}this._onStartMoving(o,n,h,l,t,e)}else this._dragOrResize(o,n,h,l,t,e)};return ge.droppable(this.el,{accept:n=>{const r=n.gridstackNode||this._readAttr(n,!1);if((r==null?void 0:r.grid)===this)return!0;if(!this.opts.acceptWidgets)return!1;let o=!0;if(typeof this.opts.acceptWidgets=="function")o=this.opts.acceptWidgets(n);else{const l=this.opts.acceptWidgets===!0?".grid-stack-item":this.opts.acceptWidgets;o=n.matches(l)}if(o&&r&&this.opts.maxRow){const l={w:r.w,h:r.h,minW:r.minW,minH:r.minH};o=this.engine.willItFit(l)}return o}}).on(this.el,"dropover",(n,r,o)=>{let l=(o==null?void 0:o.gridstackNode)||r.gridstackNode;if((l==null?void 0:l.grid)===this&&!l._temporaryRemoved)return!1;if(l!=null&&l._sidebarOrig&&(l.w=l._sidebarOrig.w,l.h=l._sidebarOrig.h),l!=null&&l.grid&&l.grid!==this&&!l._temporaryRemoved&&l.grid._leave(r,o),o=o||r,t=this.cellWidth(),e=this.getCellHeight(!0),!l){const c=o.getAttribute("data-gs-widget")||o.getAttribute("gridstacknode");if(c){try{l=JSON.parse(c)}catch{console.error("Gridstack dropover: Bad JSON format: ",c)}o.removeAttribute("data-gs-widget"),o.removeAttribute("gridstacknode")}l||(l=this._readAttr(o)),l._sidebarOrig={w:l.w,h:l.h}}l.grid||(l.el||(l={...l}),l._isExternal=!0,o.gridstackNode=l);const a=l.w||Math.round(o.offsetWidth/t)||1,u=l.h||Math.round(o.offsetHeight/e)||1;return l.grid&&l.grid!==this?(r._gridstackNodeOrig||(r._gridstackNodeOrig=l),r.gridstackNode=l={...l,w:a,h:u,grid:this},delete l.x,delete l.y,this.engine.cleanupNode(l).nodeBoundFix(l),l._initDD=l._isExternal=l._temporaryRemoved=!0):(l.w=a,l.h=u,l._temporaryRemoved=!0),L._itemRemoving(l.el,!1),ge.on(r,"drag",i),i(n,r,o),!1}).on(this.el,"dropout",(n,r,o)=>{const l=(o==null?void 0:o.gridstackNode)||r.gridstackNode;return l&&(!l.grid||l.grid===this)&&(this._leave(r,o),this._isTemp&&this.removeAsSubGrid(l)),!1}).on(this.el,"drop",(n,r,o)=>{var m,T,N;const l=(o==null?void 0:o.gridstackNode)||r.gridstackNode;if((l==null?void 0:l.grid)===this&&!l._isExternal)return!1;const a=!!this.placeholder.parentElement,u=r!==o;this.placeholder.remove(),delete this.placeholder.gridstackNode,a&&this.opts.animate&&(this.setAnimation(!1),this.setAnimation(!0,!0));const c=r._gridstackNodeOrig;if(delete r._gridstackNodeOrig,a&&(c!=null&&c.grid)&&c.grid!==this){const H=c.grid;H.engine.removeNodeFromLayoutCache(c),H.engine.removedNodes.push(c),H._triggerRemoveEvent()._triggerChangeEvent(),H.parentGridNode&&!H.engine.nodes.length&&H.opts.subGridDynamic&&H.removeAsSubGrid()}if(!l||(a&&(this.engine.cleanupNode(l),l.grid=this),(m=l.grid)==null||delete m._isTemp,ge.off(r,"drag"),o!==r?(o.remove(),r=o):r.remove(),this._removeDD(r),!a))return!1;const h=(N=(T=l.subGrid)==null?void 0:T.el)==null?void 0:N.gridstack;return p.copyPos(l,this._readAttr(this.placeholder)),p.removePositioningStyles(r),u&&(l.content||l.subGridOpts||L.addRemoveCB)?(delete l.el,r=this.addWidget(l)):(this._prepareElement(r,!0,l),this.el.appendChild(r),this.resizeToContentCheck(!1,l),h&&(h.parentGridNode=l),this._updateContainerHeight()),this.engine.addedNodes.push(l),this._triggerAddEvent(),this._triggerChangeEvent(),this.engine.endUpdate(),this._gsEventHandler.dropped&&this._gsEventHandler.dropped({...n,type:"dropped"},c&&c.grid?c:void 0,l),!1}),this}static _itemRemoving(e,t){if(!e)return;const i=e?e.gridstackNode:void 0;!(i!=null&&i.grid)||e.classList.contains(i.grid.opts.removableOptions.decline)||(t?i._isAboutToRemove=!0:delete i._isAboutToRemove,t?e.classList.add("grid-stack-item-removing"):e.classList.remove("grid-stack-item-removing"))}_setupRemoveDrop(){if(typeof this.opts.removable!="string")return this;const e=document.querySelector(this.opts.removable);return e?(!this.opts.staticGrid&&!ge.isDroppable(e)&&ge.droppable(e,this.opts.removableOptions).on(e,"dropover",(t,i)=>L._itemRemoving(i,!0)).on(e,"dropout",(t,i)=>L._itemRemoving(i,!1)),this):this}prepareDragDrop(e,t=!1){const i=e==null?void 0:e.gridstackNode;if(!i)return;const n=i.noMove||this.opts.disableDrag,r=i.noResize||this.opts.disableResize,o=this.opts.staticGrid||n&&r;if((t||o)&&(i._initDD&&(this._removeDD(e),delete i._initDD),o&&e.classList.add("ui-draggable-disabled","ui-resizable-disabled"),!t))return this;if(!i._initDD){let l,a;const u=(m,T)=>{this.triggerEvent(m,m.target),l=this.cellWidth(),a=this.getCellHeight(!0),this._onStartMoving(e,m,T,i,l,a)},c=(m,T)=>{this._dragOrResize(e,m,T,i,l,a)},h=m=>{this.placeholder.remove(),delete this.placeholder.gridstackNode,delete i._moving,delete i._resizing,delete i._event,delete i._lastTried;const T=i.w!==i._orig.w,N=m.target;if(!(!N.gridstackNode||N.gridstackNode.grid!==this)){if(i.el=N,i._isAboutToRemove){const H=e.gridstackNode.grid;H._gsEventHandler[m.type]&&H._gsEventHandler[m.type](m,N),H.engine.nodes.push(i),H.removeWidget(e,!0,!0)}else p.removePositioningStyles(N),i._temporaryRemoved?(this._writePosAttr(N,i),this.engine.addNode(i)):this._writePosAttr(N,i),this.triggerEvent(m,N);this._extraDragRow=0,this._updateContainerHeight(),this._triggerChangeEvent(),this.engine.endUpdate(),m.type==="resizestop"&&(Number.isInteger(i.sizeToContent)&&(i.sizeToContent=i.h),this.resizeToContentCheck(T,i))}};ge.draggable(e,{start:u,stop:h,drag:c}).resizable(e,{start:u,stop:h,resize:c}),i._initDD=!0}return ge.draggable(e,n?"disable":"enable").resizable(e,r?"disable":"enable"),this}_onStartMoving(e,t,i,n,r,o){var l;if(this.engine.cleanNodes().beginUpdate(n),this._writePosAttr(this.placeholder,n),this.el.appendChild(this.placeholder),this.placeholder.gridstackNode=n,(l=n.grid)!=null&&l.el)this.dragTransform=p.getValuesFromTransformedElement(e);else if(this.placeholder&&this.placeholder.closest(".grid-stack")){const a=this.placeholder.closest(".grid-stack");this.dragTransform=p.getValuesFromTransformedElement(a)}else this.dragTransform={xScale:1,xOffset:0,yScale:1,yOffset:0};if(n.el=this.placeholder,n._lastUiPosition=i.position,n._prevYPix=i.position.top,n._moving=t.type==="dragstart",n._resizing=t.type==="resizestart",delete n._lastTried,t.type==="dropover"&&n._temporaryRemoved&&(this.engine.addNode(n),n._moving=!0),this.engine.cacheRects(r,o,this.opts.marginTop,this.opts.marginRight,this.opts.marginBottom,this.opts.marginLeft),t.type==="resizestart"){const a=this.getColumn()-n.x,u=(this.opts.maxRow||Number.MAX_SAFE_INTEGER)-n.y;ge.resizable(e,"option","minWidth",r*Math.min(n.minW||1,a)).resizable(e,"option","minHeight",o*Math.min(n.minH||1,u)).resizable(e,"option","maxWidth",r*Math.min(n.maxW||Number.MAX_SAFE_INTEGER,a)).resizable(e,"option","maxWidthMoveLeft",r*Math.min(n.maxW||Number.MAX_SAFE_INTEGER,n.x+n.w)).resizable(e,"option","maxHeight",o*Math.min(n.maxH||Number.MAX_SAFE_INTEGER,u)).resizable(e,"option","maxHeightMoveUp",o*Math.min(n.maxH||Number.MAX_SAFE_INTEGER,n.y+n.h))}}_dragOrResize(e,t,i,n,r,o){const l={...n._orig};let a,u=this.opts.marginLeft,c=this.opts.marginRight,h=this.opts.marginTop,m=this.opts.marginBottom;const T=Math.round(o*.1),N=Math.round(r*.1);if(u=Math.min(u,N),c=Math.min(c,N),h=Math.min(h,T),m=Math.min(m,T),t.type==="drag"){if(n._temporaryRemoved)return;const X=i.position.top-n._prevYPix;n._prevYPix=i.position.top,this.opts.draggable.scroll!==!1&&p.updateScrollPosition(e,i.position,X);const U=i.position.left+(i.position.left>n._lastUiPosition.left?-c:u),V=i.position.top+(i.position.top>n._lastUiPosition.top?-m:h);l.x=Math.round(U/r),l.y=Math.round(V/o);const Z=this._extraDragRow;if(this.engine.collide(n,l)){const $=this.getRow();let Q=Math.max(0,l.y+n.h-$);this.opts.maxRow&&$+Q>this.opts.maxRow&&(Q=Math.max(0,this.opts.maxRow-$)),this._extraDragRow=Q}else this._extraDragRow=0;if(this._extraDragRow!==Z&&this._updateContainerHeight(),n.x===l.x&&n.y===l.y)return}else if(t.type==="resize"){if(l.x<0||(p.updateScrollResize(t,e,o),l.w=Math.round((i.size.width-u)/r),l.h=Math.round((i.size.height-h)/o),n.w===l.w&&n.h===l.h)||n._lastTried&&n._lastTried.w===l.w&&n._lastTried.h===l.h)return;const X=i.position.left+u,U=i.position.top+h;l.x=Math.round(X/r),l.y=Math.round(U/o),a=!0}n._event=t,n._lastTried=l;const H={x:i.position.left+u,y:i.position.top+h,w:(i.size?i.size.width:n.w*r)-u-c,h:(i.size?i.size.height:n.h*o)-h-m};if(this.engine.moveNodeCheck(n,{...l,cellWidth:r,cellHeight:o,rect:H,resizing:a})){n._lastUiPosition=i.position,this.engine.cacheRects(r,o,h,c,m,u),delete n._skipDown,a&&n.subGrid&&n.subGrid.onResize(),this._extraDragRow=0,this._updateContainerHeight();const X=t.target;n._sidebarOrig||this._writePosAttr(X,n),this.triggerEvent(t,X)}}triggerEvent(e,t){let i=this;for(;i.parentGridNode;)i=i.parentGridNode.grid;i._gsEventHandler[e.type]&&i._gsEventHandler[e.type](e,t)}_leave(e,t){t=t||e;const i=t.gridstackNode;if(!i||(t.style.transform=t.style.transformOrigin=null,ge.off(e,"drag"),i._temporaryRemoved))return;i._temporaryRemoved=!0,this.engine.removeNode(i),i.el=i._isExternal&&t?t:e;const n=i._sidebarOrig;i._isExternal&&this.engine.cleanupNode(i),i._sidebarOrig=n,this.opts.removable===!0&&L._itemRemoving(e,!0),e._gridstackNodeOrig?(e.gridstackNode=e._gridstackNodeOrig,delete e._gridstackNodeOrig):i._isExternal&&this.engine.restoreInitial()}commit(){return ql(this,this.batchUpdate(!1),"commit","batchUpdate","5.2"),this}}L.renderCB=(s,e)=>{s&&(e!=null&&e.content)&&(s.textContent=e.content)};L.resizeToContentParent=".grid-stack-item-content";L.Utils=p;L.Engine=st;L.GDRev="12.3.2";const Zl={class:"header-main"},Ql={class:"guest-card-name"},ea={key:0,class:"booking-name-sub"},ta={class:"header-info"},sa={class:"room-number"},ia={class:"booking-id"},na={class:"header-right"},ra={class:"expand-icon"},oa={key:0,class:"guest-card-details"},la={class:"detail-row"},aa={class:"value"},ca={class:"detail-row"},ua={class:"value"},da={class:"detail-row"},ha={class:"value"},fa={class:"detail-row"},ga={class:"value"},pa={class:"detail-row"},ma={class:"value"},_a={class:"detail-row"},ya={class:"value"},va={class:"detail-row"},ba={class:"value price"},wa={class:"detail-row"},xa={class:"value price"},Ea={class:"detail-row"},Ca={class:"value price balance-due"},Ra={class:"detail-row"},Ta={key:0,class:"bot-tag"},Sa={class:"detail-row"},ka={class:"value"},ei={__name:"GuestCard",props:{guest:{type:Object,required:!0},isExpanded:{type:Boolean,default:!1}},emits:["toggle"],setup(s,{emit:e}){const t=e;function i(){t("toggle")}return(n,r)=>{var o;return O(),z("div",{class:de(["guest-card","card-status-"+s.guest.status_code])},[_("div",{class:"guest-card-header",onClick:fi(i,["stop"])},[_("div",Zl,[_("span",Ql,[Qe(B(s.guest.registered_name||s.guest.guest_name)+" ",1),s.guest.registered_name&&s.guest.registered_name!==s.guest.guest_name?(O(),z("span",ea,""+B(s.guest.guest_name)+"",1)):oe("",!0)]),_("div",ta,[_("span",sa,B(((o=s.guest.room_numbers)==null?void 0:o.join(", "))||""),1),_("span",ia,B(s.guest.booking_id),1)])]),_("div",na,[_("span",{class:de(["guest-card-status","status-"+s.guest.status_code])},B(s.guest.status_name),3),_("span",ra,B(s.isExpanded?"":""),1)])]),s.isExpanded?(O(),z("div",oa,[_("div",la,[r[0]||(r[0]=_("span",{class:"label"},"",-1)),_("span",aa,B(s.guest.contact_phone||"-"),1)]),_("div",ca,[r[1]||(r[1]=_("span",{class:"label"},"",-1)),_("span",ua,B(s.guest.check_in_date)+B(s.guest.nights>=2?` (${s.guest.nights})`:""),1)]),_("div",da,[r[2]||(r[2]=_("span",{class:"label"},"",-1)),_("span",ha,B(s.guest.check_out_date),1)]),_("div",fa,[r[3]||(r[3]=_("span",{class:"label"},"",-1)),_("span",ga,B(s.guest.booking_source||""),1)]),_("div",pa,[r[4]||(r[4]=_("span",{class:"label"},"",-1)),_("span",ma,B(s.guest.room_type_name||""),1)]),_("div",_a,[r[5]||(r[5]=_("span",{class:"label"},"",-1)),_("span",ya,B(s.guest.breakfast||""),1)]),_("div",va,[r[6]||(r[6]=_("span",{class:"label"},"",-1)),_("span",ba,"NT$ "+B((s.guest.deposit_paid||0).toLocaleString()),1)]),_("div",wa,[r[7]||(r[7]=_("span",{class:"label"},"",-1)),_("span",xa,"NT$ "+B((s.guest.room_total||0).toLocaleString()),1)]),_("div",Ea,[r[8]||(r[8]=_("span",{class:"label"},"",-1)),_("span",Ca,"NT$ "+B((s.guest.balance_due||0).toLocaleString()),1)]),_("div",Ra,[r[9]||(r[9]=_("span",{class:"label"},"",-1)),_("span",{class:de(["value",{"from-bot":s.guest.arrival_time_from_bot}])},[Qe(B(s.guest.arrival_time_from_bot||"")+" ",1),s.guest.arrival_time_from_bot?(O(),z("span",Ta,"Bot")):oe("",!0)],2)]),_("div",Sa,[r[10]||(r[10]=_("span",{class:"label"},"LINE ",-1)),_("span",ka,B(s.guest.line_name||" AI "),1)])])):oe("",!0)],2)}}},Da={id:"app"},Aa={class:"sidebar"},Ma={class:"nav-menu"},Na=["onClick"],Oa={class:"nav-icon"},Ha={key:0,class:"widget-controls"},Pa=["onUpdate:modelValue","onChange"],za={class:"main-content"},La={class:"header"},Ia={class:"header-right"},$a={key:0,class:"refresh-group"},Ba={class:"countdown-value"},Fa={class:"header-services"},Wa={class:"service-name-small"},Ua={key:0,class:"grid-stack"},Ga={key:0,class:"grid-stack-item","gs-id":"checkin","gs-x":"0","gs-y":"0","gs-w":"25","gs-h":"2","gs-min-w":"15","gs-min-h":"2"},ja={class:"grid-stack-item-content stat-card"},Va={class:"stat-row"},Ka={class:"stat-value"},qa={key:1,class:"grid-stack-item","gs-id":"checkout","gs-x":"25","gs-y":"0","gs-w":"25","gs-h":"2","gs-min-w":"15","gs-min-h":"2"},Ya={class:"grid-stack-item-content stat-card"},Xa={class:"stat-row"},Ja={class:"stat-value"},Za={key:2,class:"grid-stack-item","gs-id":"occupancy","gs-x":"50","gs-y":"0","gs-w":"25","gs-h":"2","gs-min-w":"15","gs-min-h":"2"},Qa={class:"grid-stack-item-content stat-card"},ec={class:"stat-row"},tc={class:"stat-value"},sc={key:3,class:"grid-stack-item","gs-id":"vacant","gs-x":"75","gs-y":"0","gs-w":"25","gs-h":"2","gs-min-w":"15","gs-min-h":"2"},ic={class:"grid-stack-item-content stat-card"},nc={class:"stat-row"},rc={class:"stat-value"},oc={key:4,class:"grid-stack-item","gs-id":"rooms","gs-x":"0","gs-y":"2","gs-w":"100","gs-h":"4","gs-min-w":"12","gs-min-h":"3"},lc={class:"grid-stack-item-content room-status-panel"},ac={class:"room-count"},cc={key:0,class:"loading-text"},uc={key:1,class:"empty-text"},dc=["onMouseenter"],hc={class:"room-number"},fc={class:"tooltip-content"},gc={class:"grid-stack-item-content same-day-panel"},pc={class:"panel-header"},mc={class:"panel-count"},_c={class:"panel-body"},yc={key:0,class:"loading-text"},vc={key:1,class:"error-text"},bc={key:2,class:"empty-text"},wc={key:3,class:"same-day-table-wrapper"},xc={class:"order-group-header"},Ec=["onClick"],Cc=["onClick"],Rc=["onClick"],Tc={class:"room-count-badge"},Sc={key:0,class:"group-status-cancelled"},kc={key:1,class:"group-status-done"},Dc={key:2,class:"group-status-mismatch"},Ac={key:3,class:"special-requests"},Mc=["onClick"],Nc=["onClick"],Oc=["onClick"],Hc={class:"order-items"},Pc={class:"item-room"},zc={key:0,class:"bed-type"},Lc={class:"item-status"},Ic={key:0,class:"done-text"},$c={key:1,class:"cancelled-text"},Bc={key:0,class:"item-actions"},Fc=["onClick"],Wc={class:"grid-stack-item-content guest-cards-panel"},Uc={class:"panel-header"},Gc={class:"guest-tabs"},jc={class:"tab-count"},Vc={class:"tab-count"},Kc={class:"tab-count"},qc={class:"panel-body"},Yc={key:0,class:"loading-text"},Xc={key:1,class:"empty-text"},Jc={key:2,class:"guest-cards-list"},Zc={key:0,class:"loading-text"},Qc={key:1,class:"empty-text"},eu={key:2,class:"guest-cards-list"},tu={key:0,class:"loading-text"},su={key:1,class:"empty-text"},iu={key:2,class:"guest-cards-list"},nu={key:1,class:"placeholder"},ru={style:{"text-align":"center",color:"#888",padding:"100px"}},ou={__name:"App",setup(s){const e=`http://${window.location.hostname}:3000`;let t=null;const i=ne([{id:"checkin",title:"",x:0,y:0,w:3,h:2,visible:!0,collapsed:!1},{id:"checkout",title:"",x:3,y:0,w:3,h:2,visible:!0,collapsed:!1},{id:"occupancy",title:"",x:6,y:0,w:3,h:2,visible:!0,collapsed:!1},{id:"vacant",title:"",x:9,y:0,w:3,h:2,visible:!0,collapsed:!1},{id:"rooms",title:"",x:0,y:2,w:12,h:5,visible:!0,collapsed:!1},{id:"sameday",title:"LINE ",x:0,y:6,w:12,h:4,visible:!0,collapsed:!1},{id:"guests",title:"",x:0,y:10,w:12,h:4,visible:!0,collapsed:!1}]);function n(y){i.value[y].collapsed=!i.value[y].collapsed}const r=ne("today"),o=ne({todayCheckin:0,todayCheckout:0,occupiedRooms:0,totalRooms:50,lastUpdate:null}),l=ne(!0),a=ne(null);async function u(){l.value=!0,a.value=null;try{const y=await fetch(`${e}/api/pms/dashboard`,{signal:AbortSignal.timeout(5e3)});if(y.ok){const g=await y.json();g.success?o.value=g.data:a.value=g.error||"PMS API "}else a.value=`HTTP ${y.status}`}catch(y){a.value=y.message}finally{l.value=!1}}const c={N:0,R:1,I:2,O:3,D:4,C:5,S:6,CO:7};function h(y){return[...y].sort((g,x)=>{const M=c[g.status_code]??99,C=c[x.status_code]??99;return M-C})}const m=ne([]),T=ne(!0),N=ne([]);function H(y){N.value.indexOf(y)>-1?N.value=N.value.filter(x=>x!==y):N.value=[...N.value,y]}function X(y){return N.value.includes(y)}async function U(){T.value=!0;try{const y=await fetch(`${e}/api/pms/today-checkin`,{signal:AbortSignal.timeout(5e3)});if(y.ok){const g=await y.json();g.success&&(m.value=h(g.data||[]))}}catch(y){console.error("Fetch today checkin error:",y)}finally{T.value=!1}}const V=ne([]),Z=ne(!0);async function $(){Z.value=!0;try{const y=await fetch(`${e}/api/pms/yesterday-checkin`,{signal:AbortSignal.timeout(5e3)});if(y.ok){const g=await y.json();g.success&&(V.value=h(g.data||[]))}}catch(y){console.error("Fetch yesterday checkin error:",y)}finally{Z.value=!1}}const Q=ne([]),De=ne(!0);async function ve(){De.value=!0;try{const y=await fetch(`${e}/api/pms/tomorrow-checkin`,{signal:AbortSignal.timeout(5e3)});if(y.ok){const g=await y.json();g.success&&(Q.value=h(g.data||[]))}}catch(y){console.error("Fetch tomorrow checkin error:",y)}finally{De.value=!1}}const Ae=ne([]),lt=ne(!1),be=ne(null),Me=ne([]),mt=di(()=>{const y={};Ae.value.forEach(x=>{const M=x.order_id;y[M]||(y[M]={order_id:M,guest_name:x.guest_name,phone:x.phone,arrival_time:x.arrival_time,line_display_name:x.line_display_name,created_at:x.created_at,items:[]}),y[M].items.push(x)});const g=Object.values(y).map(x=>{const M=x.items.every(ae=>ae.status==="cancelled"),C=x.items.every(ae=>ae.status==="checked_in"),K=x.items.some(ae=>ae.status==="mismatch"),j=x.items.some(ae=>ae.status==="pending"||ae.status==="interrupted");let re="pending";return M?re="cancelled":C?re="checked_in":K?re="mismatch":j&&(re="pending"),{...x,groupStatus:re}});return g.sort((x,M)=>{const C={mismatch:0,pending:1,checked_in:2,cancelled:3};return(C[x.groupStatus]||1)-(C[M.groupStatus]||1)}),g.filter(x=>x.groupStatus!=="checked_in")});function at(y){Me.value.indexOf(y)>-1?Me.value=Me.value.filter(x=>x!==y):Me.value=[...Me.value,y]}function Ct(y){return Me.value.includes(y)}async function Ie(){var y;lt.value=!0,be.value=null;try{const g=await fetch(`${e}/api/pms/same-day-bookings`,{signal:AbortSignal.timeout(5e3)});if(g.ok){const x=await g.json();x.success?Ae.value=((y=x.data)==null?void 0:y.bookings)||[]:be.value=x.error||""}else be.value=`HTTP ${g.status}`}catch(g){be.value=g.message}finally{lt.value=!1}}async function ue(y){try{const g=await fetch(`${e}/api/pms/same-day-bookings/${y}/checkin`,{method:"PATCH",signal:AbortSignal.timeout(1e4)});if(g.ok){const x=await g.json();x.success?await Ie():x.mismatch&&(console.log(" PMS :",x.error),await Ie())}}catch(g){console.error(":",g)}}async function ie(y){var g;if(confirm(""))try{const x=await fetch(`${e}/api/pms/same-day-bookings/${y}/cancel`,{method:"PATCH",signal:AbortSignal.timeout(5e3)});if(x.ok){const M=await x.json();M.success?(alert(" "),await Ie()):alert(" "+(((g=M.error)==null?void 0:g.message)||""))}else alert(" API HTTP "+x.status)}catch(x){console.error(":",x),alert(" "+x.message)}}async function J(y){const g=y.items.filter(x=>x.status==="pending"||x.status==="interrupted"||x.status==="mismatch");if(g.length!==0)for(const x of g)await ue(x.item_id||x.order_id)}async function qe(y){const g=y.items.filter(x=>x.status==="pending"||x.status==="interrupted");if(g.length!==0&&confirm(` ${g.length} `)){for(const x of g)try{const M=await fetch(`${e}/api/pms/same-day-bookings/${x.item_id||x.order_id}/cancel`,{method:"PATCH",signal:AbortSignal.timeout(5e3)})}catch(M){console.error(":",M)}alert(" "),await Ie()}}async function Rt(){He.value=30,await Promise.all([u(),U(),$(),ve(),w(),Ie(),we()])}const Ee=ne([{id:"bot",name:"AI ",icon:"",status:"checking",port:5001},{id:"pms",name:"PMS API",icon:"",status:"checking",port:3e3},{id:"gmail",name:"Gmail",icon:"",status:"checking",port:null},{id:"ngrok",name:"Ngrok",icon:"",status:"checking",port:null}]);async function we(){console.log("[DEBUG] Checking service status..."),console.log("[DEBUG] API_BASE:",e);try{const y=await fetch(`${e}/api/status`,{signal:AbortSignal.timeout(3e3)});if(console.log("[DEBUG] Response status:",y.status,y.ok),y.ok){const g=await y.json();console.log("[DEBUG] API Response:",g),g.services.forEach(x=>{const M=Ee.value.find(C=>C.id===x.id);M?(M.status=x.status,M.name=x.name):Ee.value.push({id:x.id,name:x.name,icon:ns(x.id),status:x.status})}),console.log("[DEBUG] Updated services:",Ee.value.map(x=>({id:x.id,status:x.status})))}else console.error("[DEBUG] Response not OK:",y.status)}catch(y){console.error("[DEBUG] Fetch error:",y),Ee.value.forEach(g=>g.status="offline")}}function ns(y){return{bot:"",core:"",ngrok:"",gmail:"",pms:"",admin:""}[y]||""}function Ws(y){ds(()=>{t&&t.destroy(!1),t=L.init({column:100,cellHeight:60,margin:15,animate:!0,float:!1,disableOneColumnMode:!0,minRow:1,resizable:{handles:"all"},handle:".widget-handle",draggable:{handle:".widget-handle"}},".grid-stack")})}let Pt=null,Ye=null,ct=null;const He=ne(30);function rs(){He.value=30,ct&&clearInterval(ct),ct=setInterval(()=>{He.value--,He.value<=0&&(He.value=30)},1e3)}qn(()=>{we(),Pt=setInterval(we,5e3),u(),Ye=setInterval(u,15e3),U(),$(),ve(),setInterval(()=>{U(),$(),ve()},3e4),w(),setInterval(w,15e3),Ie(),setInterval(Ie,3e4),rs(),d(),ds(()=>{t=L.init({column:100,cellHeight:60,margin:15,animate:!0,float:!1,disableOneColumnMode:!0,minRow:1,resizable:{handles:"all"},handle:".widget-handle",draggable:{handle:".widget-handle"}},".grid-stack")})});let Ce=null;const os=ne([]);function d(){Ce=new WebSocket("ws://localhost:3001"),Ce.onopen=()=>{console.log(" WebSocket ")},Ce.onmessage=y=>{try{const g=JSON.parse(y.data);if(console.log(" :",g),g.type==="new_message"&&(os.value.unshift(g.data),os.value.length>20&&os.value.pop()),g.type==="update_guest"){const{booking_id:x,guest_name:M,phone:C,arrival_time:K,special_request:j}=g.data,re=m.value.find(ae=>{var zt;return ae.booking_id===x||((zt=ae.guest_name)==null?void 0:zt.includes(M))||(M==null?void 0:M.includes(ae.guest_name))});re&&(C&&(re.phone_from_bot=C),K&&(re.arrival_time_from_bot=K),j&&(re.special_request_from_bot=j),console.log(" :",M))}}catch(g){console.error(":",g)}},Ce.onclose=()=>{console.log(" WebSocket 5..."),setTimeout(d,5e3)},Ce.onerror=y=>{console.error("WebSocket :",y)}}ki(()=>{Pt&&clearInterval(Pt),Ye&&clearInterval(Ye),Ce&&Ce.close(),t&&t.destroy()});const f=ne([]),v=ne(!1),R=di(()=>f.value.filter(y=>{var g,x;return((g=y.clean_status)==null?void 0:g.code)==="D"||((x=y.clean_status)==null?void 0:x.code)==="I"}));async function w(){var y;v.value=!0;try{const x=await(await fetch("/api/pms/rooms/status")).json();x.success&&((y=x.data)!=null&&y.rooms)&&(f.value=x.data.rooms.map(M=>{var C,K;return{number:M.room_number,floor:M.floor,room_type:M.room_type_code,status:M.oos_status?"oos":((C=M.clean_status)==null?void 0:C.code)==="D"?"dirty":((K=M.clean_status)==null?void 0:K.code)==="I"?"inspecting":"clean",clean_status:M.clean_status,oos_status:M.oos_status,oos_reason:M.oos_reason,room_status:M.room_status}}))}catch(g){console.error(":",g)}finally{v.value=!1}}const b=ne(null),D=ne({x:0,y:0});function k(y,g){y.oos_reason&&(b.value=y,D.value={x:g.clientX,y:g.clientY})}function S(y){b.value&&(D.value={x:y.clientX,y:y.clientY})}function E(){b.value=null}const P=ne("dashboard");function A(y){P.value=y,y==="dashboard"&&ds(()=>{t&&t.destroy(!1),t=L.init({column:100,cellHeight:60,margin:15,animate:!0,float:!1,disableOneColumnMode:!0,minRow:1,resizable:{handles:"all"},handle:".widget-handle",draggable:{handle:".widget-handle"}},".grid-stack")})}const I=[{id:"dashboard",icon:"",label:""},{id:"rooms",icon:"",label:""},{id:"bookings",icon:"",label:""},{id:"guests",icon:"",label:""},{id:"pos",icon:"",label:"POS "},{id:"reports",icon:"",label:""},{id:"settings",icon:"",label:""}];return(y,g)=>{var x,M;return O(),z("div",Da,[_("aside",Aa,[g[7]||(g[7]=_("div",{class:"sidebar-header"},[_("h1",null," KTW Admin"),_("p",null," v2.0")],-1)),_("ul",Ma,[(O(),z(ce,null,Je(I,C=>_("li",{key:C.id,class:de(["nav-item",{active:P.value===C.id}]),onClick:K=>A(C.id)},[_("span",Oa,B(C.icon),1),_("span",null,B(C.label),1)],10,Na)),64))]),P.value==="dashboard"?(O(),z("div",Ha,[g[6]||(g[6]=_("h4",null," ",-1)),(O(!0),z(ce,null,Je(i.value,C=>(O(),z("label",{key:C.id,class:"widget-toggle"},[_t(_("input",{type:"checkbox","onUpdate:modelValue":K=>C.visible=K,onChange:K=>Ws(C.id)},null,40,Pa),[[$l,C.visible]]),_("span",null,B(C.title),1)]))),128))])):oe("",!0)]),_("main",za,[_("header",La,[_("h2",null,B((x=I.find(C=>C.id===P.value))==null?void 0:x.label),1),_("div",Ia,[P.value==="dashboard"?(O(),z("div",$a,[_("div",{class:de(["countdown-timer",{warning:He.value<=5}])},[_("span",Ba,B(He.value),1),g[8]||(g[8]=_("span",{class:"countdown-unit"},"",-1))],2),_("button",{onClick:Rt,class:"refresh-btn",title:""},"  ")])):oe("",!0),_("div",Fa,[(O(!0),z(ce,null,Je(Ee.value,C=>(O(),z("div",{key:C.id,class:"header-service-item"},[_("span",Wa,B(C.name),1),_("span",{class:de(["service-status-dot",C.status])},null,2)]))),128))])])]),P.value==="dashboard"?(O(),z("div",Ua,[i.value[0].visible?(O(),z("div",Ga,[_("div",ja,[g[10]||(g[10]=_("div",{class:"widget-handle"},null,-1)),g[11]||(g[11]=_("h3",null,"",-1)),_("div",Va,[_("span",Ka,B(o.value.todayCheckin),1),g[9]||(g[9]=_("span",{class:"stat-unit"},"",-1))])])])):oe("",!0),i.value[1].visible?(O(),z("div",qa,[_("div",Ya,[g[13]||(g[13]=_("div",{class:"widget-handle"},null,-1)),g[14]||(g[14]=_("h3",null,"",-1)),_("div",Xa,[_("span",Ja,B(o.value.todayCheckout),1),g[12]||(g[12]=_("span",{class:"stat-unit"},"",-1))])])])):oe("",!0),i.value[2].visible?(O(),z("div",Za,[_("div",Qa,[g[16]||(g[16]=_("div",{class:"widget-handle"},null,-1)),g[17]||(g[17]=_("h3",null,"",-1)),_("div",ec,[_("span",tc,B(o.value.totalRooms>0?Math.round(o.value.occupiedRooms/o.value.totalRooms*100):0),1),g[15]||(g[15]=_("span",{class:"stat-unit"},"%",-1))])])])):oe("",!0),i.value[3].visible?(O(),z("div",sc,[_("div",ic,[g[19]||(g[19]=_("div",{class:"widget-handle"},null,-1)),g[20]||(g[20]=_("h3",null,"",-1)),_("div",nc,[_("span",rc,B(o.value.totalRooms-o.value.occupiedRooms),1),g[18]||(g[18]=_("span",{class:"stat-unit"},"",-1))])])])):oe("",!0),i.value[4].visible?(O(),z("div",oc,[_("div",lc,[g[24]||(g[24]=_("div",{class:"widget-handle"},null,-1)),_("h3",null,[g[21]||(g[21]=Qe("   ",-1)),_("span",ac,"("+B(R.value.length)+")",1),g[22]||(g[22]=cl('<div class="status-legend"><span class="legend-item"><span class="dot dirty"></span></span><span class="legend-item"><span class="dot inspecting"></span></span></div>',1))]),v.value?(O(),z("div",cc,"...")):R.value.length===0?(O(),z("div",uc," ")):(O(),z("div",{key:2,class:"room-grid",onMouseleave:E},[(O(!0),z(ce,null,Je(R.value,C=>(O(),z("div",{key:C.number,class:de(["room-card",C.status]),onMouseenter:K=>k(C,K),onMousemove:S,onMouseleave:E},[_("span",hc,B(C.number),1)],42,dc))),128))],32)),b.value?(O(),z("div",{key:3,class:"custom-tooltip",style:Os({top:D.value.y+15+"px",left:D.value.x+15+"px"})},[g[23]||(g[23]=_("span",{class:"tooltip-title"}," ",-1)),_("div",fc,B(b.value.oos_reason),1)],4)):oe("",!0)])])):oe("",!0),i.value[5].visible?(O(),z("div",{key:5,class:de(["grid-stack-item",{collapsed:i.value[5].collapsed}]),"gs-id":"sameday","gs-x":"0","gs-y":"6","gs-w":"100","gs-h":"4","gs-min-w":"12","gs-min-h":"3"},[_("div",gc,[_("div",pc,[g[26]||(g[26]=_("div",{class:"widget-handle"},null,-1)),_("h3",null,[g[25]||(g[25]=Qe(" LINE  ",-1)),_("span",mc,"("+B(Ae.value.length)+")",1)]),_("button",{class:"collapse-btn",onClick:g[0]||(g[0]=C=>n(5))},B(i.value[5].collapsed?"":""),1)]),_t(_("div",_c,[lt.value?(O(),z("div",yc,"...")):be.value?(O(),z("div",vc,B(be.value),1)):mt.value.length===0?(O(),z("div",bc,"  LINE ")):(O(),z("div",wc,[(O(!0),z(ce,null,Je(mt.value,C=>{var K;return O(),z("div",{key:C.order_id,class:"order-group"},[_("div",xc,[_("span",{class:"expand-icon",onClick:j=>at(C.order_id)},B(Ct(C.order_id)?"":""),9,Ec),_("span",{class:"order-id",onClick:j=>at(C.order_id)},B(C.order_id),9,Cc),_("span",{class:"guest-info",onClick:j=>at(C.order_id)},"  "+B(C.guest_name)+" |  "+B(C.phone)+" |  "+B(C.arrival_time),9,Rc),_("span",Tc,B(C.items.length)+" ",1),C.groupStatus==="cancelled"?(O(),z("span",Sc," ")):C.groupStatus==="checked_in"?(O(),z("span",kc,"  KEY")):C.groupStatus==="mismatch"?(O(),z("span",Dc," KEY ")):oe("",!0),(K=C.items[0])!=null&&K.special_requests?(O(),z("span",Ac," "+B(C.items[0].special_requests),1)):oe("",!0),_("div",{class:"group-actions",onClick:g[1]||(g[1]=fi(()=>{},["stop"]))},[C.groupStatus==="pending"?(O(),z("button",{key:0,class:"key-btn-sm",onClick:j=>J(C)},"  KEY ",8,Mc)):oe("",!0),C.groupStatus==="mismatch"?(O(),z("button",{key:1,class:"mismatch-btn-sm",onClick:j=>J(C)},"  ",8,Nc)):oe("",!0),C.groupStatus==="pending"||C.groupStatus==="mismatch"?(O(),z("button",{key:2,class:"cancel-btn-sm",onClick:j=>qe(C)},"  ",8,Oc)):oe("",!0)])]),_t(_("div",Hc,[(O(!0),z(ce,null,Je(C.items,j=>(O(),z("div",{key:j.item_id||j.order_id,class:de(["order-item-row",{"checked-in":j.status==="checked_in",cancelled:j.status==="cancelled"}])},[_("span",Pc,[Qe(B(j.room_type_name||j.room_type_code)+" x"+B(j.room_count)+" ",1),j.bed_type?(O(),z("span",zc,B(j.bed_type),1)):oe("",!0)]),_("span",Lc,[j.status==="checked_in"?(O(),z("span",Ic,"  KEY")):j.status==="cancelled"?(O(),z("span",$c," ")):oe("",!0)]),j.status==="pending"||j.status==="interrupted"?(O(),z("span",Bc,[_("button",{class:"cancel-btn-sm",onClick:fi(re=>ie(j.item_id||j.order_id),["stop"])},"  ",8,Fc)])):oe("",!0)],2))),128))],512),[[St,Ct(C.order_id)]])])}),128))]))],512),[[St,!i.value[5].collapsed]])])],2)):oe("",!0),i.value[6].visible?(O(),z("div",{key:6,class:de(["grid-stack-item",{collapsed:i.value[6].collapsed}]),"gs-id":"guests","gs-x":"0","gs-y":"10","gs-w":"100","gs-h":"10","gs-min-w":"12","gs-min-h":"4"},[_("div",Wc,[_("div",Uc,[g[30]||(g[30]=_("div",{class:"widget-handle"},null,-1)),g[31]||(g[31]=_("h3",null," ",-1)),_("div",Gc,[_("button",{class:de({active:r.value==="today"}),onClick:g[2]||(g[2]=C=>r.value="today")},[g[27]||(g[27]=Qe("  ",-1)),_("span",jc,"("+B(m.value.length)+")",1)],2),_("button",{class:de({active:r.value==="yesterday"}),onClick:g[3]||(g[3]=C=>r.value="yesterday")},[g[28]||(g[28]=Qe("  ",-1)),_("span",Vc,"("+B(V.value.length)+")",1)],2),_("button",{class:de({active:r.value==="tomorrow"}),onClick:g[4]||(g[4]=C=>r.value="tomorrow")},[g[29]||(g[29]=Qe("  ",-1)),_("span",Kc,"("+B(Q.value.length)+")",1)],2)]),_("button",{class:"collapse-btn",onClick:g[5]||(g[5]=C=>n(6))},B(i.value[6].collapsed?"":""),1)]),_t(_("div",qc,[_t(_("div",null,[T.value?(O(),z("div",Yc,"...")):m.value.length===0?(O(),z("div",Xc,"")):(O(),z("div",Jc,[(O(!0),z(ce,null,Je(m.value,C=>(O(),gs(ei,{key:"today-"+C.booking_id,guest:C,isExpanded:X("today-"+C.booking_id),onToggle:K=>H("today-"+C.booking_id)},null,8,["guest","isExpanded","onToggle"]))),128))]))],512),[[St,r.value==="today"]]),_t(_("div",null,[Z.value?(O(),z("div",Zc,"...")):V.value.length===0?(O(),z("div",Qc,"")):(O(),z("div",eu,[(O(!0),z(ce,null,Je(V.value,C=>(O(),gs(ei,{key:"yesterday-"+C.booking_id,guest:C,isExpanded:X("yesterday-"+C.booking_id),onToggle:K=>H("yesterday-"+C.booking_id)},null,8,["guest","isExpanded","onToggle"]))),128))]))],512),[[St,r.value==="yesterday"]]),_t(_("div",null,[De.value?(O(),z("div",tu,"...")):Q.value.length===0?(O(),z("div",su,"")):(O(),z("div",iu,[(O(!0),z(ce,null,Je(Q.value,C=>(O(),gs(ei,{key:"tomorrow-"+C.booking_id,guest:C,isExpanded:X("tomorrow-"+C.booking_id),onToggle:K=>H("tomorrow-"+C.booking_id)},null,8,["guest","isExpanded","onToggle"]))),128))]))],512),[[St,r.value==="tomorrow"]])],512),[[St,!i.value[6].collapsed]])])],2)):oe("",!0)])):(O(),z("div",nu,[_("p",ru,"  "+B((M=I.find(C=>C.id===P.value))==null?void 0:M.label)+" ... ",1)]))])])}}};jl(ou).mount("#app");
